minispade.register('alpha_simprini', "(function() {(function() {\nminispade.require(\"pathology\");\nminispade.require(\"taxi\");\nminispade.require(\"fleck\");\n\n  window.AS = Pathology.Namespace[\"new\"](\"AlphaSimprini\");\nminispade.require(\"alpha_simprini/core/string\");\nminispade.require(\"alpha_simprini/core/logging\");\n\n  AS.unimplemented = function(method) {\n    return function() {\n      throw new Error([\"you MUST implement the method '\" + method + \"' on: \" + (this.toString())]);\n    };\n  };\n\n  AS.part = function(name) {\n    return AS[name] = {\n      require: function(libraries) {\n        return AS.require(name.toLowerCase(), libraries);\n      }\n    };\n  };\n\n  AS.Models = Pathology.Namespace[\"new\"]();\n\n  AS.Views = Pathology.Namespace[\"new\"]();\n\n  AS.Object = Pathology.Object;\n\n  AS.Map = Pathology.Map;\n\n  AS.Module = Pathology.Module;\n\n  AS.Namespace = Pathology.Namespace;\n\n  AS.Property = Taxi.Property;\n\n  AS.Property.Instance.def({\n    rawValue: function() {\n      return this.value;\n    }\n  });\n\n  AS.COLLECTION_DELEGATES = [\"first\", \"rest\", \"last\", \"compact\", \"flatten\", \"without\", \"union\", \"filter\", \"reverse\", \"intersection\", \"difference\", \"uniq\", \"zip\", \"indexOf\", \"find\", \"detect\", \"sortBy\", \"lastIndexOf\", \"range\", \"include\", \"each\", \"map\", \"reject\", \"all\", \"toArray\", \"pluck\", \"invoke\"];\n\n  AS.require = function(framework, libraries) {\n    var library, _i, _len, _ref;\n    if (framework == null) framework = \"alpha_simprini\";\n    if (libraries === void 0) {\nminispade.require(\"alpha_simprini/\" + framework);\n    } else {\n      _ref = libraries.split(/\\s+/);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        library = _ref[_i];\n        if (library.match(/^\\s+$/)) continue;\nminispade.require(\"alpha_simprini/\" + framework + \"/\" + library);\n      }\n    }\n  };\nminispade.require(\"alpha_simprini/core\");\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini");minispade.register('alpha_simprini/client', "(function() {(function() {\n  var Client;\nminispade.require(\"alpha_simprini\");\n\n  Client = AS.part(\"Client\");\n\n  Client.require(\"dom view view_model binding_group view_events\\n\\nbinding\\nbinding/container\\n\\n  binding/model binding/field binding/if binding/input binding/select \\n  binding/file binding/check_box binding/edit_line binding/one binding/many\\n\\nviews/panel views/region views/dialog\\n\\nmodels/targets\\n\\napplication key_router\");\n\n  AS.require(\"keyboard\");\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client");minispade.register('alpha_simprini/client/application', "(function() {(function() {\n  var defer, domready,\n    __slice = Array.prototype.slice;\n\n  domready = jQuery;\n\n  defer = _.defer;\nminispade.require(\"jwerty\");\n\n  AS.Application = AS.Object.extend(function(_arg) {\n    var JQUERY_EVENTS, def, include;\n    def = _arg.def, include = _arg.include;\n    include(Taxi.Mixin);\n    def({\n      initialize: function(config) {\n        if (config == null) config = {};\n        _.extend(this, config);\n        this.stateObjects = {};\n        this.params = AS.params;\n        return this.keyRouter = AS.KeyRouter[\"new\"](this, document.body);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"Initializes the Application object. Setting up a ZoneController, \\nstates objects, and view objects.\"\n    };\n    JQUERY_EVENTS = \"bind blur change click dblclick focus focusin focusout \\nkeydown keypress keyup load mousedown mousenter mouseleave mousemove \\nmouseout mouseover mouseup ready resize scroll select submit load unload\";\n    def({\n      applyTo: function(element) {\n        var event, _document, _i, _len, _ref;\n        this.el = $(element);\n        _document = window.parent.document;\n        _ref = JQUERY_EVENTS.split(/\\s+/);\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          event = _ref[_i];\n          if (event.match(/^\\s+$/)) continue;\n          jQuery(_document).on(\"\" + event + \".runloop\", function() {\n            return defer(function() {\n              if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n            });\n          });\n        }\n        jQuery(_document).ajaxSend(function() {\n          if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n        });\n        jQuery(_document).ajaxComplete(function() {\n          if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n        });\n        this.connect();\n        this.buildState();\n        this.content();\n        return AS.unbindGoverner = function() {\n          return $(_document).unbind(\".runloop\");\n        };\n      }\n    });\n    def({\n      connect: function() {}\n    });\n    this.prototype.connect.doc = {\n      desc: \"Override the connect method to instantiate to storage/connection adapters\"\n    };\n    def({\n      buildState: function() {\n        this.state('zoneController', AS.Models.ZoneController[\"new\"]({\n          application: this\n        }));\n        return this.state('appZones', this.zoneController.defaultZoneGroup.get());\n      }\n    });\n    this.prototype.buildState.doc = {\n      desc: \"Override this method to build your application state objects.\"\n    };\n    def({\n      content: function() {}\n    });\n    this.prototype.content.doc = {\n      desc: \"Override this method to build your application view objects.\"\n    };\n    def({\n      prepareModel: function(id, _model) {\n        var constructor, model, path;\n        path = _model.constructor.path();\n        constructor = AS.loadPath(path);\n        model = constructor.prepare({\n          id: id,\n          application: this\n        });\n        return console.log(\"[preparedModel] \" + (model.toString()) + \", \" + model.id);\n      }\n    });\n    this.prototype.prepareModel.doc = {\n      params: [[\"id\", [String], true], [\"model\", AS.Model, true]],\n      desc: \"Prepare a model with the same id and constructor path\\nas another model. Used when cutting over applications\\nto an updated code base.\"\n    };\n    def({\n      takeOverModel: function(id, _model) {\n        var constructor, model, path;\n        path = _model.constructor.path();\n        constructor = AS.loadPath(path);\n        model = constructor.find(id);\n        return model.takeOver(_model);\n      }\n    });\n    this.prototype.takeOverModel.doc = {\n      params: [\n        [\n          \"id\", String, true, {\n            tag: \"The id of the model to take over\"\n          }\n        ], [\n          \"_model\", AS.Model, true, {\n            tag: \"The corresponding model to take over.\"\n          }\n        ]\n      ],\n      desc: \"Take over the properties of another model. Used to cut over applicatons\\nto an updated code base.\"\n    };\n    def({\n      takeOverState: function(application) {\n        var key, value, _ref, _results;\n        _ref = application.stateObjects;\n        _results = [];\n        for (key in _ref) {\n          value = _ref[key];\n          console.log(\"[takeOverState] \" + key + \" => \" + (value.toString()), value.id);\n          _results.push(this.stateObjects[key] = this[key] = AS.Model.find(value.id));\n        }\n        return _results;\n      }\n    });\n    this.prototype.takeOverState.doc = {\n      params: [\n        [\n          \"application\", AS.Application, true, {\n            tag: \"The application to take over.\"\n          }\n        ]\n      ],\n      desc: \"Take aver the state objects of another application. Used when cutting over.\"\n    };\n    def({\n      state: function() {\n        var constructor, name, options, stateObject;\n        name = arguments[0], constructor = arguments[1], options = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n        if (this[name] != null) return;\n        stateObject = constructor[\"new\"] ? constructor[\"new\"].apply(constructor, options) : constructor;\n        return this[name] = this.stateObjects[name] = stateObject;\n      }\n    });\n    this.prototype.state.doc = {\n      desc: \"Creates a state object in the application.\"\n    };\n    def({\n      view: function(constructor, options) {\n        if (options == null) options = {};\n        options.application = this;\n        return constructor[\"new\"](options);\n      }\n    });\n    this.prototype.view.doc = {\n      desc: \"Creates a view in the application.\"\n    };\n    def({\n      zone: function(name) {\n        return this.appZones.add(function() {\n          return this.object.application[name];\n        });\n      }\n    });\n    this.prototype.zone.doc = {\n      params: [\n        [\n          \"name\", String, true, {\n            tag: \"The name of a view in the application that will act as \\n a navigation zone\"\n          }\n        ]\n      ],\n      desc: \"Add a zone to the main application zone group. Lookup of application\\nzones is extremely late-bound, so they must be referenced by name only.\\nthis is because zone state\"\n    };\n    def({\n      append: function(view) {\n        return this.el.append(view.el);\n      }\n    });\n    return this.prototype.append.doc = {\n      desc: \"Append a view's element to the application element.\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/application");minispade.register('alpha_simprini/client/binding', "(function() {(function() {\n  var __hasProp = Object.prototype.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };\n\n  AS.Binding = AS.Object.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(context, model, field, options, fn) {\n        var _ref,\n          _this = this;\n        this.context = context;\n        this.model = model;\n        this.field = field;\n        this.options = options != null ? options : {};\n        this.fn = fn != null ? fn : void 0;\n        if (_.isString(this.field)) this.field = this.model[this.field];\n        if (_.isFunction(this.options)) {\n          _ref = [this.options, {}], this.fn = _ref[0], this.options = _ref[1];\n        }\n        if (this.container == null) this.container = $(this.context.currentNode);\n        this.bindingGroup = this.context.bindingGroup;\n        this.content = this.makeContent();\n        if (this.willGroupBindings()) {\n          this.context.groupBindings(function(bindingGroup) {\n            return _this.bindingGroup = bindingGroup;\n          });\n        }\n        return this.setup();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        return this.context.$([]);\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      willGroupBindings: function() {\n        return this.constructor.willGroupBindings || _.isFunction(this.fn);\n      }\n    });\n    this.prototype.willGroupBindings.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      fieldValue: function() {\n        if (_.isArray(this.field)) {\n          return this.model.readPath(this.field);\n        } else {\n          return this.field.get();\n        }\n      }\n    });\n    this.prototype.fieldValue.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      requireOption: function(name) {\n        if (this.options[name] !== void 0) return;\n        throw new AS.Binding.MissingOption(\"You must specify the \" + name + \" option for \" + this.constructor.name + \" bindings.\");\n      }\n    });\n    this.prototype.requireOption.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setup: function() {}\n    });\n    return this.prototype.setup.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Binding.MissingOption = (function(_super) {\n\n    __extends(MissingOption, _super);\n\n    function MissingOption() {\n      MissingOption.__super__.constructor.apply(this, arguments);\n    }\n\n    return MissingOption;\n\n  })(Error);\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding");minispade.register('alpha_simprini/client/binding/check_box', "(function() {(function() {\n\n  AS.Binding.CheckBox = AS.Binding.Input.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(context, model, field, options, fn) {\n        if (options == null) options = {};\n        if (fn == null) fn = void 0;\n        options.type = \"checkbox\";\n        return this._super.apply(this, arguments);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {\n        return this.content.attr(\"checked\", this.fieldValue());\n      }\n    });\n    this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      bindContent: function() {\n        return this.context.binds(this.content, \"change\", _.bind(this.setField, this));\n      }\n    });\n    this.prototype.bindContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setField: function() {\n        if (this.content.is(\":checked\")) {\n          return this.field.set(true);\n        } else {\n          return this.field.set(false);\n        }\n      }\n    });\n    return this.prototype.setField.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/check_box");minispade.register('alpha_simprini/client/binding/container', "(function() {(function() {\n\n  AS.Binding.Container = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    delegate('find', 'html', {\n      to: 'el'\n    });\n    def({\n      initialize: function(domElement) {\n        this.domElement = domElement;\n        this.el = jQuery(this.domElement);\n        return this.containerChildren = [];\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      appendChild: function(child) {\n        if (child instanceof jQuery) {\n          this.containerChildren = this.containerChildren.concat(child);\n          return child.appendTo(this.domElement);\n        } else {\n          this.containerChildren.push(child);\n          return this.domElement.appendChild(child);\n        }\n      }\n    });\n    this.prototype.appendChild.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      empty: function() {\n        jQuery(this.containerChildren).remove();\n        return this.containerChildren = [];\n      }\n    });\n    return this.prototype.empty.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/container");minispade.register('alpha_simprini/client/binding/edit_line', "(function() {(function() {\nminispade.require(\"rangy-core\");\n\n  AS.Binding.EditLine = AS.Binding.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      rangy: rangy\n    });\n    def({\n      applyChange: function(doc, oldval, newval) {\n        var commonEnd, commonStart;\n        if (oldval == null) oldval = \"\";\n        if (newval == null) newval = \"\";\n        if (oldval === newval) return;\n        if (newval === \"\") return;\n        if (!doc.get()) doc.set(\"\");\n        commonStart = 0;\n        while (oldval.charAt(commonStart) === newval.charAt(commonStart)) {\n          commonStart++;\n        }\n        commonEnd = 0;\n        while (oldval.charAt(oldval.length - 1 - commonEnd) === newval.charAt(newval.length - 1 - commonEnd) && commonEnd + commonStart < oldval.length && commonEnd + commonStart < newval.length) {\n          commonEnd++;\n        }\n        if (oldval.length !== commonStart + commonEnd) {\n          doc.del(commonStart, oldval.length - commonStart - commonEnd);\n        }\n        if (newval.length !== commonStart + commonEnd) {\n          return doc.insert(commonStart, newval.slice(commonStart, (newval.length - commonEnd)));\n        }\n      }\n    });\n    this.prototype.applyChange.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      transformInsertCursor: function(text, position, cursor) {\n        if (position < cursor) {\n          return cursor + text.length;\n        } else {\n          return cursor;\n        }\n      }\n    });\n    this.prototype.transformInsertCursor.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      transformDeleteCursor: function(text, position, cursor) {\n        if (position < cursor) {\n          return cursor - Math.min(text.length, cursor - position);\n        } else {\n          return cursor;\n        }\n      }\n    });\n    this.prototype.transformDeleteCursor.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      initialize: function() {\n        var event, _i, _len, _ref, _results;\n        this._super.apply(this, arguments);\n        this.options.contentEditable = true;\n        this.content = this.makeContent();\n        this.elem = this.content[0];\n        this.elem.innerHTML = this.fieldValue();\n        this.previousValue = this.fieldValue();\n        this.selection = {\n          start: 0,\n          end: 0\n        };\n        this.context.binds(this.model, \"share:insert:\" + this.field.options.name, this.insert, this);\n        this.context.binds(this.model, \"share:delete:\" + this.field.options.name, this[\"delete\"], this);\n        this.context.binds(this.model, \"change:\" + this.field.options.name, this.updateUnlessFocused, this);\n        _ref = ['textInput', 'keydown', 'keyup', 'select', 'cut', 'paste', 'click', 'focus'];\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          event = _ref[_i];\n          _results.push(this.context.binds(this.content, event, this.generateOperation, this));\n        }\n        return _results;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      updateUnlessFocused: function(event) {\n        var _this = this;\n        return _.defer(function() {\n          if ($(_this.elem).closest(\":focus\")[0]) return;\n          return _this.elem.innerHTML = _this.fieldValue();\n        });\n      }\n    });\n    this.prototype.updateUnlessFocused.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        return this.context.$(this.context.span(this.options));\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      replaceText: function(newText) {\n        var range, scrollTop, selection, _ref;\n        if (newText == null) newText = \"\";\n        range = this.rangy.createRange();\n        selection = this.rangy.getSelection();\n        scrollTop = this.elem.scrollTop;\n        this.elem.innerHTML = newText;\n        if (this.elem.scrollTop !== scrollTop) this.elem.scrollTop = scrollTop;\n        if (((_ref = selection.anchorNode) != null ? _ref.parentNode : void 0) !== this.elem) {\n          return;\n        }\n        range.setStart(selection.anchorNode || this.elem.childNodes[0] || this.elem, this.selection.start);\n        range.collapse(true);\n        return selection.setSingleRange(range);\n      }\n    });\n    this.prototype.replaceText.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      insert: function(model, position, text) {\n        this.selection.start = transformInsertCursor(text, position, this.selection.start);\n        this.selection.end = transformInsertCursor(text, position, this.selection.end);\n        return this.replaceText(this.elem.innerHTML.slice(0, position) + text + this.elem.innerHTML.slice(position));\n      }\n    });\n    this.prototype.insert.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      \"delete\": function(model, position, text) {\n        this.selection.start = transformDeleteCursor(text, position, this.selection.start);\n        this.selection.end = transformDeleteCursor(text, position, this.selection.end);\n        return this.replaceText(this.elem.innerHTML.slice(0, position) + this.elem.innerHTML.slice(position + text.length));\n      }\n    });\n    this.prototype[\"delete\"].doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      generateOperation: function() {\n        var range, selection;\n        if (this.model.share) {\n          selection = this.rangy.getSelection();\n          if (selection.rangeCount) {\n            range = this.rangy.getSelection().getRangeAt(0);\n          } else {\n            range = this.rangy.createRange();\n          }\n          this.selection.start = range.startOffset;\n          this.selection.end = range.endOffset;\n          if (this.elem.innerHTML !== this.previousValue) {\n            this.previousValue = this.elem.innerHTML;\n            this.applyChange(this.model.share.at(this.field.options.name), this.model.share.at(this.field.options.name).getText(), this.elem.innerHTML.replace(/\\r\\n/g, '\\n'));\n            this.model[this.field.options.name].set(this.model.share.at(this.field.options.name).getText());\n          }\n        } else {\n          if (this.elem.innerHTML !== this.previousValue) {\n            this.previousValue = this.elem.innerHTML;\n            this.field.set(this.elem.innerHTML);\n          }\n        }\n      }\n    });\n    return this.prototype.generateOperation.doc = {\n      params: [[]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/edit_line");minispade.register('alpha_simprini/client/binding/field', "(function() {(function() {\n\n  AS.Binding.Field = AS.Binding.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function() {\n        this._super.apply(this, arguments);\n        this.setContent();\n        return this.bindContent();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      bindContent: function() {\n        return this.context.binds(this.field, \"change\", this.setContent, this);\n      }\n    });\n    this.prototype.bindContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {\n        var fieldValue,\n          _this = this;\n        if (this.fn) {\n          this.content.empty();\n          this.bindingGroup.unbind();\n          fieldValue = this.fieldValue();\n          if (fieldValue === null) return;\n          if (fieldValue === void 0) return;\n          if (fieldValue === \"null\") return;\n          if (fieldValue === \"undefined\") return;\n          return this.context.withinBindingGroup(this.bindingGroup, function() {\n            return _this.context.withinNode(_this.content, function() {\n              var value, _ref, _ref2;\n              if (_.include((_ref = fieldValue.model) != null ? _ref.constructor.ancestors : void 0, AS.Model)) {\n                value = AS.ViewModel.build(_this.context, fieldValue.model);\n                return _this.fn.call(_this.context, value, AS.Binding.Model[\"new\"](_this.context, value, _this.container));\n              } else if (_.include((_ref2 = fieldValue.model) != null ? _ref2.constructor.ancestors : void 0, AS.ViewModel)) {\n                value = AS.ViewModel.build(_this.context, fieldValue.model.model);\n                return _this.fn.call(_this.context, value, AS.Binding.Model[\"new\"](_this.context, value, _this.container));\n              } else {\n                return _this.fn.call(_this.context);\n              }\n            });\n          });\n        } else {\n          return this.content.text(this.fieldValue());\n        }\n      }\n    });\n    this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        if (this.fn) {\n          return AS.Binding.Container[\"new\"](this.container[0]);\n        } else {\n          return this.context.$(this.context.span());\n        }\n      }\n    });\n    return this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/field");minispade.register('alpha_simprini/client/binding/file', "(function() {(function() {\n\n  AS.Binding.File = AS.Binding.Input.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      makeContent: function() {\n        var options;\n        options = _.clone(this.options);\n        options.type = \"file\";\n        return this.context.$(this.context.input(options));\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      fieldValue: function() {}\n    });\n    this.prototype.fieldValue.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {}\n    });\n    this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      readField: function() {\n        return AS.Models.File[\"new\"]({\n          file: this.content[0].files[0]\n        });\n      }\n    });\n    return this.prototype.readField.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/file");minispade.register('alpha_simprini/client/binding/if', "(function() {(function() {\n\n  AS.Binding.If = AS.Binding.Field.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      setContent: function() {\n        var contentFn, fieldValue, value,\n          _this = this;\n        this.content.empty();\n        this.bindingGroup.unbind();\n        value = fieldValue = this.fieldValue();\n        if (fieldValue === null || fieldValue === (void 0) || fieldValue === \"null\" || fieldValue === \"undefined\" || fieldValue === \"false\" || fieldValue === false) {\n          value = false;\n        }\n        if (value !== false) {\n          contentFn = this.options.then;\n        } else {\n          contentFn = this.options[\"else\"];\n        }\n        contentFn = value ? this.options.then : this.options[\"else\"];\n        if (!contentFn) return;\n        this.context.withinBindingGroup(this.bindingGroup, function() {\n          return _this.context.withinNode(_this.content, function() {\n            return contentFn.call(_this.context);\n          });\n        });\n        return this.bindContent();\n      }\n    });\n    return this.prototype.setContent.doc = {\n      desc: \"Sets the content based on the fieldValue and the given branches.\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/if");minispade.register('alpha_simprini/client/binding/input', "(function() {(function() {\n\n  AS.Binding.Input = AS.Binding.Field.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function() {\n        this._super.apply(this, arguments);\n        if (this.options.bindingPath) {\n          return this.context.binds(this.model, this.options.bindingPath, this.setContent, this);\n        } else if (_.isArray(this.field)) {\n          return this.context.binds(this.model, this.field, this.setContent, this);\n        } else {\n          return this.context.binds(this.field, \"change\", this.setContent, this);\n        }\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        return this.context.$(this.context.input(this.options));\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      bindContent: function() {\n        return this.context.binds(this.content, \"change\", this.setField, this);\n      }\n    });\n    this.prototype.bindContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {\n        return this.content.val(this.fieldValue());\n      }\n    });\n    this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      readField: function() {\n        return this.content.val();\n      }\n    });\n    this.prototype.readField.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setField: function() {\n        if (_.isArray(this.field)) {\n          return this.model.writePath(this.field, this.readField());\n        } else {\n          return this.field.set(this.readField());\n        }\n      }\n    });\n    return this.prototype.setField.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/input");minispade.register('alpha_simprini/client/binding/many', "(function() {(function() {\n  var bind;\n\n  bind = _.bind;\n\n  AS.Binding.Many = AS.Binding.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    this.willGroupBindings = true;\n    def({\n      initialize: function() {\n        var _base;\n        this._super.apply(this, arguments);\n        if ((_base = this.options).indexOffset == null) _base.indexOffset = 0;\n        this.collection = this.field;\n        this.contents = {};\n        this.bindingGroups = {};\n        this.sorting = this.sortedModels();\n        this.makeAll();\n        this.context.binds(this.collection, \"add\", this.insertItem, this);\n        this.context.binds(this.collection, \"remove\", this.removeItem, this);\n        return this.context.binds(this.collection, \"change\", this.changeItem, this);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeAll: function() {\n        return this.sortedModels().each(_.bind(this.insertItem, this));\n      }\n    });\n    this.prototype.makeAll.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      sortedModels: function() {\n        var sortField;\n        if (sortField = this.options.order_by) {\n          return this.collection.sortBy(function(item) {\n            return item[sortField].get();\n          });\n        } else {\n          return this.collection;\n        }\n      }\n    });\n    this.prototype.sortedModels.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      skipItem: function(item) {\n        var expectedValue, key, value, valueOnItem, _ref, _ref2;\n        if (!this.options.filter) return false;\n        _ref = this.options.filter;\n        for (key in _ref) {\n          value = _ref[key];\n          expectedValue = _([value]).flatten();\n          valueOnItem = (_ref2 = item[key]) != null ? _ref2.get() : void 0;\n          if (!_(expectedValue).include(valueOnItem)) return true;\n        }\n        return false;\n      }\n    });\n    this.prototype.skipItem.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      insertItem: function(item) {\n        var content, index, siblings, _base,\n          _this = this;\n        if (this.contents[item.cid]) return;\n        if (this.skipItem(item)) return;\n        content = this.context.danglingContent(function() {\n          return _this.makeItemContent(item);\n        });\n        index = (typeof (_base = this.sortedModels().indexOf(item)).value === \"function\" ? _base.value() : void 0) + this.options.indexOffset;\n        if (index == null) index = 0;\n        siblings = this.container.contents();\n        if (!siblings.get(0)) {\n          this.container.append(content);\n        } else if (!siblings.get(index)) {\n          this.container.append(content);\n        } else {\n          $(siblings.get(index)).before(content);\n        }\n        return this.sorting = this.sortedModels();\n      }\n    });\n    this.prototype.insertItem.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      removeItem: function(item) {\n        if (this.contents[item.cid]) {\n          this.contents[item.cid].remove();\n          delete this.contents[item.cid];\n          this.bindingGroups[item.cid].unbind();\n          delete this.bindingGroups[item.cid];\n        }\n        return this.sorting = this.sortedModels();\n      }\n    });\n    this.prototype.removeItem.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      moveItem: function(item) {\n        var content, currentIndex, newIndex, siblings;\n        content = this.contents[item.cid];\n        currentIndex = content.index();\n        newIndex = this.sortedModels().indexOf(item).value() + this.options.indexOffset;\n        siblings = content.parent().contents();\n        if (currentIndex < newIndex) {\n          return this.context.$(siblings[newIndex]).after(content);\n        } else if (newIndex < currentIndex) {\n          return this.context.$(siblings[newIndex]).before(content);\n        }\n      }\n    });\n    this.prototype.moveItem.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      changeItem: function(item) {\n        if (this.options.order_by && this.sorting.indexOf(item).value() !== this.sortedModels().indexOf(item).value()) {\n          this.moveItem(item);\n          this.sorting = this.sortedModels();\n        }\n        if (this.skipItem(item)) {\n          return this.removeItem(item);\n        } else if (this.contents[item.cid] === void 0) {\n          return this.insertItem(item);\n        }\n      }\n    });\n    this.prototype.changeItem.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeItemContent: function(item) {\n        var content,\n          _this = this;\n        if (!item) return;\n        if (this.skipItem(item)) return;\n        content = this.context.$([]);\n        this.context.withinBindingGroup(this.bindingGroup, function() {\n          return _this.context.groupBindings(function() {\n            var binding, made;\n            _this.bindingGroups[item.cid] = _this.context.bindingGroup;\n            binding = AS.Binding.Model[\"new\"](_this.context, item, content);\n            made = _this.fn.call(_this.context, AS.ViewModel.build(_this.context, item), binding);\n            if (made != null ? made.jquery : void 0) {\n              content.push(made[0]);\n            } else {\n              content.push(made);\n            }\n            return binding.paint();\n          });\n        });\n        this.contents[item.cid] = content;\n        return content;\n      }\n    });\n    this.prototype.makeItemContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        return AS.Binding.Container[\"new\"](this.container[0]);\n      }\n    });\n    return this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/many");minispade.register('alpha_simprini/client/binding/model', "(function() {(function() {\n\n  AS.Binding.Model = AS.Object.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(context, model, content) {\n        this.context = context;\n        this.model = model;\n        this.content = content != null ? content : $([]);\n        this.styles = {};\n        return this.attrs = {};\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      css: function(properties) {\n        var options, property, _results,\n          _this = this;\n        _results = [];\n        for (property in properties) {\n          options = properties[property];\n          _results.push((function(property, options) {\n            var painter;\n            if (_.isArray(options)) {\n              _this.styles[property] = function() {\n                return _this.model.readPath(options);\n              };\n              painter = function() {\n                return _.defer(function() {\n                  var value;\n                  value = _this.styles[property]();\n                  return _this.content.css(property, value);\n                });\n              };\n              return _this.context.binds(_this.model, options, painter, _this);\n            } else {\n              _this.styles[property] = function() {\n                return options.fn(_this.model);\n              };\n              painter = function() {\n                return _.defer(function() {\n                  return _this.content.css(property, _this.styles[property]());\n                });\n              };\n              return _this.context.binds(_this.model, options.field, painter, _this);\n            }\n          })(property, options));\n        }\n        return _results;\n      }\n    });\n    this.prototype.css.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      attr: function(attrs) {\n        var options, property, _results,\n          _this = this;\n        _results = [];\n        for (property in attrs) {\n          options = attrs[property];\n          _results.push((function(property, options) {\n            var bindingPath, painter;\n            if (_.isArray(options)) {\n              _this.attrs[property] = function() {\n                var value;\n                value = _this.model.readPath(options);\n                if (value) {\n                  return \"yes\";\n                } else if (value === false || value === null || value === (void 0)) {\n                  return \"no\";\n                } else {\n                  return value;\n                }\n              };\n              painter = function() {\n                return _.defer(function() {\n                  return _this.content.attr(property, _this.attrs[property]());\n                });\n              };\n              bindingPath = options;\n              return _this.context.binds(_this.model, bindingPath, painter, _this);\n            } else {\n              _this.attrs[property] = function() {\n                var value;\n                if (options.fn) {\n                  return options.fn(_this.model);\n                } else {\n                  value = _this.model[options.field].get();\n                  if (value) {\n                    return \"yes\";\n                  } else if (value === false || value === null || value === (void 0)) {\n                    return \"no\";\n                  } else {\n                    return value;\n                  }\n                }\n              };\n              painter = function() {\n                return _.defer(function() {\n                  return _this.content.attr(property, _this.attrs[property]());\n                });\n              };\n              return _this.context.binds(_this.model, options.field, painter, _this);\n            }\n          })(property, options));\n        }\n        return _results;\n      }\n    });\n    this.prototype.attr.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      paint: function() {\n        var attrs, fn, key, property, styles, _ref, _ref2;\n        attrs = {};\n        _ref = this.attrs;\n        for (key in _ref) {\n          fn = _ref[key];\n          attrs[key] = fn();\n        }\n        styles = {};\n        _ref2 = this.styles;\n        for (property in _ref2) {\n          fn = _ref2[property];\n          styles[property] = fn();\n        }\n        this.content.attr(attrs);\n        return this.content.css(styles);\n      }\n    });\n    return this.prototype.paint.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/model");minispade.register('alpha_simprini/client/binding/one', "(function() {(function() {\n\n  AS.Binding.One = AS.Binding.Field.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      makeContent: function() {\n        return AS.Binding.Container[\"new\"](this.container[0]);\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {\n        var value,\n          _this = this;\n        this.content.empty();\n        this.bindingGroup.unbind();\n        if ((value = this.fieldValue()) && this.fn) {\n          if (_.include(value.constructor.ancestors, AS.Model)) {\n            value = AS.ViewModel.build(this.context, value);\n          }\n          return this.context.withinBindingGroup(this.bindingGroup, function() {\n            return _this.context.withinNode(_this.content, function() {\n              return _this.fn.call(_this.context, value, AS.Binding.Model[\"new\"](_this.context, _this.model, _this.container));\n            });\n          });\n        }\n      }\n    });\n    return this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/one");minispade.register('alpha_simprini/client/binding/select', "(function() {(function() {\n\n  AS.Binding.Select = AS.Binding.Input.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function() {\n        this._super.apply(this, arguments);\n        return this.requireOption(\"options\");\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      makeContent: function() {\n        var options, _ref;\n        if ((_ref = this.select) != null) _ref.remove();\n        options = this.options.options;\n        return this.select = this.context.$(this.context.select(function() {\n          var key, option, value, _i, _len, _results, _results2;\n          if (_.isArray(options)) {\n            _results = [];\n            for (_i = 0, _len = options.length; _i < _len; _i++) {\n              option = options[_i];\n              _results.push(this.option(option.toString()));\n            }\n            return _results;\n          } else {\n            _results2 = [];\n            for (key in options) {\n              value = options[key];\n              _results2.push(this.option({\n                value: value\n              }, function() {\n                return key;\n              }));\n            }\n            return _results2;\n          }\n        }));\n      }\n    });\n    this.prototype.makeContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      setContent: function() {\n        var fieldValue;\n        fieldValue = this.fieldValue();\n        if (fieldValue != null ? fieldValue.id : void 0) {\n          fieldValue = fieldValue.id;\n        }\n        return this.content.val(fieldValue);\n      }\n    });\n    return this.prototype.setContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding/select");minispade.register('alpha_simprini/client/binding_group', "(function() {(function() {\n\n  AS.BindingGroup = AS.Object.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(parentGroup) {\n        this.parentGroup = parentGroup;\n        this.namespace = _.uniqueId(\"bg\");\n        this.children = [];\n        return this.boundObjects = [];\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      unbind: function() {\n        var object, _i, _len, _ref;\n        _ref = this.boundObjects;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          object = _ref[_i];\n          object.unbind(\".\" + this.namespace);\n        }\n        this.boundObjects = [];\n        return this.unbindChildren();\n      }\n    });\n    this.prototype.unbind.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      unbindChildren: function() {\n        var child, _i, _len, _ref;\n        _ref = this.children;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          child = _ref[_i];\n          child.unbind();\n        }\n        return this.children = [];\n      }\n    });\n    this.prototype.unbindChildren.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      binds: function(object, event, handler, context) {\n        var reactor;\n        this.boundObjects.push(object);\n        reactor = _.bind(handler, context);\n        if (object.jquery) {\n          return object.bind(\"\" + event + \".\" + this.namespace, reactor);\n        } else if (_.isArray(event)) {\n          return this.boundObjects.push(object.bindPath(event, reactor));\n        } else {\n          return object.bind({\n            event: event,\n            namespace: this.namespace,\n            handler: reactor,\n            context: context\n          });\n        }\n      }\n    });\n    this.prototype.binds.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      addChild: function(child) {\n        if (child == null) child = AS.BindingGroup[\"new\"](this);\n        this.children.push(child);\n        return child;\n      }\n    });\n    this.prototype.addChild.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      removeChild: function(bindingGroup) {\n        return this.children = _(this.children).without(bindingGroup);\n      }\n    });\n    return this.prototype.removeChild.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/binding_group");minispade.register('alpha_simprini/client/dom', "(function() {(function() {\n  var DOM_ELEMENTS, SVG, SVG_ELEMENTS;\n\n  SVG = {\n    ns: \"http://www.w3.org/2000/svg\"\n  };\n\n  DOM_ELEMENTS = _('a abbr address article aside audio b bdi bdo blockquote body button\\\n  canvas caption cite code colgroup datalist dd del details dfn div dl dt em\\\n  fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup\\\n  html i iframe ins kbd label legend li map mark menu meter nav noscript object\\\n  ol optgroup option output p pre progress q rp rt ruby s samp script section\\\n  select small span strong style sub summary sup table tbody td textarea tfoot\\\n  th thead time title tr u ul video area base br col command embed hr img input\\\n  keygen link meta paramsource track wbr\\\n'.split(\" \")).chain().compact();\n\n  SVG_ELEMENTS = _('\\\n  svg g defs desc title metadata symbol use switch image style path rect circle\\\n  line ellipse polyline polygon text tspan tref textPath altGlyph altGlyphDef\\\n  altGlyphItem glyphRef marker color-profile linearGradient radialGradient stop\\\n  pattern clipPath mask filter feBlend feColorMatrix feComponentTransfer feComposite\\\n  feConvolveMatrix feDiffuseLighting feDisplacementMap feFlood feGaussianBlur feImage\\\n  feMerge feMergeNode feMorphology feOffset feSpecularLighting feTile feTurbulence\\\n  feDistantLight fePointLight feSpotLight feFuncR feFuncG feFuncB feFuncA cursor a view\\\n  script animate set animateMotion animateColor animateTransform mpath font font-face\\\n  glyph missing-glyph hkern vkern font-face-src font-face-uri font-face-format\\\n  font-face-name definition-src foreignObject\\\n'.split(\" \")).chain().compact();\n\n  AS.DOM = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      $: $\n    });\n    def({\n      _document: document\n    });\n    def({\n      text: function(textContent) {\n        var textNode;\n        textNode = this._document.createTextNode(textContent);\n        if (this.currentNode) {\n          return this.currentNode.appendChild(textNode);\n        } else {\n          return textNode;\n        }\n      }\n    });\n    this.prototype.text.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      raw: function(html) {\n        return this.$(this.span()).html(html);\n      }\n    });\n    this.prototype.raw.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      tag: function(name, attrs, content) {\n        var node;\n        node = this._document.createElement(name);\n        return this._tag(node, attrs, content);\n      }\n    });\n    this.prototype.tag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      svgTag: function(name, attrs, content) {\n        var node;\n        node = this._document.createElementNS(SVG.ns, name);\n        return this._tag(node, attrs, content);\n      }\n    });\n    this.prototype.svgTag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      _tag: function(node, attrs, content) {\n        var key, textContent, value, _ref;\n        if (this.currentNode == null) {\n          this.currentNode = this._document.createDocumentFragment();\n        }\n        if (_.isFunction(attrs)) {\n          content = attrs;\n          attrs = void 0;\n        }\n        if (_.isString(attrs)) {\n          textContent = attrs;\n          attrs = void 0;\n        }\n        _ref = attrs || {};\n        for (key in _ref) {\n          value = _ref[key];\n          if (this.process_attr) {\n            this.process_attr(node, key, value);\n          } else {\n            node.setAttribute(key, value);\n          }\n        }\n        this.currentNode.appendChild(node);\n        if (textContent) {\n          this.$(node).text(textContent);\n        } else if (content) {\n          this.withinNode(node, function() {\n            var last;\n            last = content.call(this);\n            if (_.isString(last)) return this.text(last);\n          });\n        }\n        return node;\n      }\n    });\n    this.prototype._tag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      withinNode: function(node, fn) {\n        var content, priorNode;\n        if (node != null ? node.jquery : void 0) node = node[0];\n        priorNode = this.currentNode;\n        this.currentNode = node;\n        content = fn.call(this);\n        this.currentNode = priorNode;\n        return content;\n      }\n    });\n    this.prototype.withinNode.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      danglingContent: function(fn) {\n        return this.withinNode(null, fn);\n      }\n    });\n    return this.prototype.danglingContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  DOM_ELEMENTS.each(function(element) {\n    var definition;\n    definition = {};\n    definition[element] = function() {\n      return this.tag.apply(this, _(arguments).unshift(element));\n    };\n    AS.DOM.def(definition);\n    return AS.DOM.prototype[element].doc = {\n      params: [],\n      desc: \"HTML <\" + element + \"> element.\"\n    };\n  });\n\n  SVG_ELEMENTS.each(function(element) {\n    var definition, htmlSvgConflict, methodConflict, safeElement;\n    htmlSvgConflict = ~DOM_ELEMENTS.value().indexOf(element);\n    methodConflict = AS.DOM.prototype[element] != null;\n    if (htmlSvgConflict || methodConflict) safeElement = \"svg_\" + element;\n    definition = {};\n    definition[safeElement || element] = function() {\n      return this.svgTag.apply(this, _(arguments).unshift(element));\n    };\n    AS.DOM.def(definition);\n    return AS.DOM.prototype[safeElement || element].doc = {\n      params: [],\n      desc: \"SVG <\" + element + \"> element.\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/dom");minispade.register('alpha_simprini/client/key_router', "(function() {(function() {\n  var each;\n\n  each = _.each;\n\n  AS.KeyRouter = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function(target, source) {\n        this.target = target;\n        return this.reroute(source);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\n          \"@target\", \"AS.Application\", true, {\n            tag: \"Application that key events will be triggered on.\"\n          }\n        ], [\n          \"@source\", \"HTMLElement\", true, {\n            tag: \"Source of keyboard events.\"\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      reroute: function(newSource) {\n        var _ref;\n        if ((_ref = this.source) != null) _ref.unbind(\".\" + (this.objectId()));\n        this.source = $(newSource);\n        return this.registerHandlers();\n      }\n    });\n    this.prototype.reroute.doc = {\n      params: [\n        [\n          \"@source\", \"HTMLElement\", true, {\n            tag: \"Source of keyboard events.\"\n          }\n        ]\n      ],\n      desc: \"Re-route keyboard events to a new application.\"\n    };\n    def({\n      registerHandlers: function() {\n        var handlers,\n          _this = this;\n        handlers = {\n          '': 'escape',\n          '+': 'accept',\n          'backspace': 'delete',\n          \"\": \"open\",\n          \"up\": \"up\",\n          \"down\": \"down\",\n          \"home\": \"first\",\n          \"end\": \"last\",\n          \"left\": \"left\",\n          \"right\": \"right\",\n          \"tab\": \"indent\",\n          \"shift+tab\": \"dedent\",\n          \"[a-z]/[0-9]/shift+[a-z]\": \"alphanum\"\n        };\n        return each(handlers, function(trigger, key) {\n          console.log(trigger, key);\n          _this.source.on(\"keydown.\" + (_this.objectId()), jwerty.event(key, function(event) {\n            console.log(\"KEY\", trigger, _this.target.toString());\n            return _this.target.trigger(trigger, event);\n          }));\n          return _this.source.on(\"keydown.\" + (_this.objectId()), jwerty.event(\"backspace\", function(event) {\n            return _this.target.trigger(\"delete\", event);\n          }));\n        });\n      }\n    });\n    return this.prototype.registerHandlers.doc = {\n      desc: \"Binds the standard key handlers for an Alpha Simprini application.\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/key_router");minispade.register('alpha_simprini/client/models/targets', "(function() {(function() {\n  var BOTTOM, LEFT, MIDDLE, RIGHT, TOP;\n\n  TOP = {\n    name: \"TOP\",\n    toString: function() {\n      return this.name;\n    }\n  };\n\n  MIDDLE = {\n    name: \"MIDDLE\",\n    toString: function() {\n      return this.name;\n    }\n  };\n\n  BOTTOM = {\n    name: \"BOTTOM\",\n    toString: function() {\n      return this.name;\n    }\n  };\n\n  LEFT = {\n    name: \"LEFT\",\n    toString: function() {\n      return this.name;\n    }\n  };\n\n  RIGHT = {\n    name: \"RIGHT\",\n    toString: function() {\n      return this.name;\n    }\n  };\n\n  AS.Models.Targets = AS.Object.extend(function(_arg) {\n    var def, defs, include;\n    def = _arg.def, defs = _arg.defs, include = _arg.include;\n    include(Taxi.Mixin);\n    def({\n      TOP: TOP\n    });\n    def({\n      MIDDLE: MIDDLE\n    });\n    def({\n      BOTTOM: BOTTOM\n    });\n    def({\n      LEFT: LEFT\n    });\n    def({\n      RIGHT: RIGHT\n    });\n    def({\n      initialize: function() {\n        return this.gather();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      gather: function() {\n        return this.targets = $(this.selector).map(function(i, el) {\n          return {\n            el: $(el),\n            rect: el.getBoundingClientRect()\n          };\n        });\n      }\n    });\n    this.prototype.gather.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      validate: function() {\n        return true;\n      }\n    });\n    this.prototype.validate.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      dropstart: function() {\n        var _ref;\n        if (!((_ref = this.currentHit) != null ? _ref.rect : void 0)) return;\n        return this.trigger(\"dropstart\", this.currentHit);\n      }\n    });\n    this.prototype.dropstart.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      dropend: function() {\n        return this.trigger(\"dropend\");\n      }\n    });\n    this.prototype.dropend.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      drop: function(event) {}\n    });\n    this.prototype.drop.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      dragend: function(event) {\n        var _ref;\n        if (!((_ref = this.currentHit) != null ? _ref.rect : void 0)) return;\n        this.drop(event);\n        return this.trigger(\"drop\", this.currentHit);\n      }\n    });\n    this.prototype.dragend.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      transitionHit: function(hit) {\n        if (hit === null) return this.dropend();\n        if (this.currentHit == null) {\n          this.currentHit = AS.Models.Targets.Hit[\"new\"]();\n        }\n        if (this.currentHit.equals(hit) || hit.rect === void 0) return;\n        this.dropend();\n        this.currentHit = hit;\n        return this.dropstart();\n      }\n    });\n    this.prototype.transitionHit.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      drag: function(event) {\n        throw \"Drag unimplimented in base class!\";\n      }\n    });\n    return this.prototype.drag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Models.Targets.TOP = TOP;\n\n  AS.Models.Targets.MIDDLE = MIDDLE;\n\n  AS.Models.Targets.BOTTOM = BOTTOM;\n\n  AS.Models.Targets.LEFT = LEFT;\n\n  AS.Models.Targets.RIGHT = RIGHT;\n\n  AS.Models.Targets.Edge = AS.Models.Targets.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(options) {\n        if (options == null) options = {};\n        this._super();\n        return this.edge = options.edge || 30;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      horizontalTarget: function(event) {\n        var clientX, clientY, edge, rect, target, withinX, withinY, _i, _len, _ref, _ref2;\n        _ref = event[\"jquery/event\"].originalEvent, clientX = _ref.clientX, clientY = _ref.clientY;\n        _ref2 = this.targets;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          target = _ref2[_i];\n          rect = target.rect;\n          withinX = (rect.left - this.edge <= clientX && clientX <= rect.right + this.edge);\n          withinY = (rect.top <= clientY && clientY <= rect.bottom);\n          if (!(withinX && withinY)) continue;\n          edge = (rect.left - this.edge <= clientX && clientX <= rect.left + this.edge) ? this.LEFT : (rect.left + this.edge <= clientX && clientX >= rect.right - this.edge) ? this.RIGHT : void 0;\n          break;\n        }\n        if (!edge) return null;\n        return AS.Models.Targets.Hit[\"new\"](target.rect, target.el, edge);\n      }\n    });\n    this.prototype.horizontalTarget.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      verticalTarget: function(event) {\n        var clientX, clientY, edge, rect, target, withinX, withinY, _i, _len, _ref, _ref2;\n        _ref = event[\"jquery/event\"].originalEvent, clientX = _ref.clientX, clientY = _ref.clientY;\n        _ref2 = this.targets;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          target = _ref2[_i];\n          rect = target.rect;\n          withinX = (rect.left <= clientX && clientX <= rect.right);\n          withinY = (rect.top - this.edge <= clientY && clientY <= rect.bottom + this.edge);\n          if (!(withinX && withinY)) continue;\n          edge = (rect.top - this.edge <= clientY && clientY <= rect.top + this.edge) ? this.TOP : (rect.bottom - this.edge <= clientY && clientY <= rect.bottom + this.edge) ? this.BOTTOM : void 0;\n          break;\n        }\n        if (!edge) return null;\n        return AS.Models.Targets.Hit[\"new\"](target.rect, target.el, edge);\n      }\n    });\n    return this.prototype.verticalTarget.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Models.Targets.Thirds = AS.Models.Targets.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      withinVertically: function(y, rect) {\n        return (rect.top <= y && y <= rect.bottom);\n      }\n    });\n    this.prototype.withinVertically.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      whichThird: function(y, rect) {\n        var offset, oneThird;\n        oneThird = rect.height / 3;\n        offset = y - rect.top;\n        if (offset <= oneThird) {\n          return this.TOP;\n        } else if (offset <= oneThird * 2) {\n          return this.MIDDLE;\n        } else {\n          return this.BOTTOM;\n        }\n      }\n    });\n    this.prototype.whichThird.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      target: function(event) {\n        var clientY, hit, target, _i, _len, _ref;\n        clientY = event[\"jquery/event\"].originalEvent.clientY;\n        _ref = this.targets;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          target = _ref[_i];\n          if (this.withinVertically(clientY, target.rect)) {\n            hit = AS.Models.Targets.Hit[\"new\"](target.rect, target.el, this.whichThird(clientY, target.rect), event);\n            if (this.validate(hit)) return hit;\n          }\n        }\n        return null;\n      }\n    });\n    this.prototype.target.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      drag: function(event) {\n        return this.transitionHit(this.target(event));\n      }\n    });\n    return this.prototype.drag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Models.Targets.Hit = AS.Object.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      TOP: TOP\n    });\n    def({\n      MIDDLE: MIDDLE\n    });\n    def({\n      BOTTOM: BOTTOM\n    });\n    def({\n      LEFT: LEFT\n    });\n    def({\n      RIGHT: RIGHT\n    });\n    def({\n      initialize: function(rect, el, section, event) {\n        this.rect = rect != null ? rect : null;\n        this.el = el != null ? el : null;\n        this.section = section != null ? section : null;\n        this.event = event;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      equals: function(other) {\n        if (other == null) other = AS.Models.Targets.Hit[\"new\"]();\n        return other.el === this.el && other.section === this.section;\n      }\n    });\n    return this.prototype.equals.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/models/targets");minispade.register('alpha_simprini/client/view', "(function() {(function() {\n  var __slice = Array.prototype.slice;\n\n  AS.View = AS.DOM.extend(function(_arg) {\n    var def, defs, delegate, include, mergeViewOptions;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    include(AS.Callbacks);\n    this.defineCallbacks({\n      after: ['content'],\n      before: ['content']\n    });\n    delegate('addClass', 'removeClass', 'show', 'hide', 'html', 'find', {\n      to: \"el\"\n    });\n    def({\n      tagName: \"div\"\n    });\n    def({\n      attrBindings: null\n    });\n    def({\n      _ensureElement: function() {\n        var baseAttributes;\n        if (this.el == null) this.el = this.$(this.buildElement());\n        baseAttributes = this.baseAttributes();\n        if (this.el.attr(\"class\")) baseAttributes[\"class\"] = void 0;\n        if (this.el.attr(\"id\")) baseAttributes[\"id\"] = void 0;\n        this.el.attr(baseAttributes);\n        return this.el.data().view = this;\n      }\n    });\n    this.prototype._ensureElement.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      initialize: function(config) {\n        var key, value, _ref;\n        if (config == null) config = {};\n        if (config.el && !config.el.jquery) config.el = this.$(config.el);\n        this.cid = _.uniqueId(\"c\");\n        for (key in config) {\n          value = config[key];\n          if ((value != null ? value.model : void 0) instanceof AS.Model) {\n            this[key] = AS.ViewModel.build(this, value.model);\n          } else {\n            this[key] = value;\n          }\n        }\n        this.childViews = [];\n        this.bindingGroup = AS.BindingGroup[\"new\"]((_ref = this.parentVew) != null ? _ref.bindingGroup : void 0);\n        this._ensureElement();\n        this.currentNode = this.el[0];\n        this.runCallbacks(\"beforeContent\");\n        this.content();\n        this.delegateEvents();\n        this.bindAttrs();\n        return this.runCallbacks(\"afterContent\");\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      content: function() {}\n    });\n    this.prototype.content.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      append: function(view) {\n        return this.el.append(view.el);\n      }\n    });\n    this.prototype.append.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      processAttr: function(node, key, value) {\n        return node.setAttribute(key, value);\n      }\n    });\n    this.prototype.processAttr.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      groupBindings: function(fn) {\n        return this.withinBindingGroup(this.bindingGroup.addChild(), fn);\n      }\n    });\n    this.prototype.groupBindings.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      withinBindingGroup: function(bindingGroup, fn) {\n        var content, currentGroup;\n        currentGroup = this.bindingGroup;\n        this.bindingGroup = bindingGroup;\n        content = fn.call(this, bindingGroup);\n        this.bindingGroup = currentGroup;\n        return content;\n      }\n    });\n    this.prototype.withinBindingGroup.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      binds: function() {\n        return this.bindingGroup.binds.apply(this.bindingGroup, arguments);\n      }\n    });\n    this.prototype.binds.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      klassString: function() {\n        var ancestor, classes, _i, _len, _ref;\n        classes = [];\n        _ref = this.constructor.ancestors;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          ancestor = _ref[_i];\n          if (!ancestor.path().match(/Views?/)) continue;\n          classes.push(ancestor._name());\n        }\n        return classes.join(\" \");\n      }\n    });\n    this.prototype.klassString.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      baseAttributes: function() {\n        var attrs;\n        return attrs = {\n          \"class\": this.klassString(),\n          id: this.objectId()\n        };\n      }\n    });\n    this.prototype.baseAttributes.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      buildElement: function() {\n        return this.currentNode = this[this.tagName]();\n      }\n    });\n    this.prototype.buildElement.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      view: function(constructor, options) {\n        var view, _ref;\n        if (options == null) options = {};\n        options.application = this.application;\n        options.parentView = this;\n        view = constructor[\"new\"](options);\n        this.childViews.push(view);\n        this.bindingGroup.addChild(view);\n        if (!view.el.parent().is(\"*\")) {\n          if ((_ref = this.currentNode) != null) _ref.appendChild(view.el[0]);\n        }\n        return view.el[0];\n      }\n    });\n    this.prototype.view.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      descendantViews: function(views, constructor) {\n        var view, _i, _len, _ref;\n        if (views == null) views = [];\n        _ref = this.childViews;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          view = _ref[_i];\n          if (constructor) {\n            if (view instanceof constructor) views.push(view);\n          } else {\n            views.push(view);\n          }\n          view.descendantViews(views, constructor);\n        }\n        return views;\n      }\n    });\n    this.prototype.descendantViews.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      removeChild: function(child) {\n        return this.childViews = _.without(this.childViews, child);\n      }\n    });\n    this.prototype.removeChild.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      unbind: function() {\n        return this._super.apply(this, arguments);\n      }\n    });\n    this.prototype.unbind.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      binding: function(bindable, options, fnOrElement) {\n        if (bindable instanceof AS.Collection || bindable instanceof AS.Model.HasMany.Instance) {\n          return AS.Binding.Many[\"new\"](this, bindable, bindable, options, fnOrElement);\n        } else if (bindable instanceof AS.Model) {\n          return AS.Binding.Model[\"new\"](this, bindable, options || fnOrElement);\n        }\n      }\n    });\n    this.prototype.binding.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      modelBinding: function() {\n        var _ref;\n        return (_ref = this._modelBinding) != null ? _ref : this._modelBinding = AS.Binding.Model[\"new\"](this, this.model, this.el);\n      }\n    });\n    this.prototype.modelBinding.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      bindAttrs: function() {\n        if (!this.attrBindings) return;\n        this.modelBinding().attr(this.attrBindings);\n        return this.modelBinding().paint();\n      }\n    });\n    this.prototype.bindAttrs.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      delegateEvents: function() {\n        var key, state, stateEvents, _i, _len, _ref, _results,\n          _this = this;\n        if (this.events) {\n          this.standardEvents = AS.ViewEvents[\"new\"](this, this.events);\n          this.standardEvents.applyBindings();\n        }\n        stateEvents = _(this.constructor.prototype).chain().keys().filter(function(key) {\n          return key.match(/_events$/) != null;\n        });\n        this.stateEvents = {};\n        _ref = stateEvents.value();\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          key = _ref[_i];\n          state = key.replace(/_events$/, '');\n          _results.push((function(key, state) {\n            _this.stateEvents[state] = AS.ViewEvents[\"new\"](_this, _this[key]);\n            _this[\"exit_\" + state] = function() {\n              this.trigger(\"exitstate:\" + state);\n              return this.stateEvents[state].revokeBindings();\n            };\n            return _this[\"enter_\" + state] = function() {\n              this.trigger(\"enterstate:\" + state);\n              return this.stateEvents[state].applyBindings();\n            };\n          })(key, state));\n        }\n        return _results;\n      }\n    });\n    this.prototype.delegateEvents.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      pluralize: function(thing, count) {\n        if (count === -1 || count === 1) {\n          return fleck.singularize(thing);\n        } else {\n          return fleck.pluralize(thing);\n        }\n      }\n    });\n    this.prototype.pluralize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      resetCycle: function() {\n        var args;\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        if (this._cycles) return delete this._cycles[args.join()];\n      }\n    });\n    this.prototype.resetCycle.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      cycle: function() {\n        var args, count, _base, _name;\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        if (this._cycles == null) this._cycles = {};\n        if ((_base = this._cycles)[_name = args.join()] == null) _base[_name] = 0;\n        count = this._cycles[args.join()] += 1;\n        return args[count % args.length];\n      }\n    });\n    this.prototype.cycle.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    mergeViewOptions = function(left, right) {\n      var key, value, _results;\n      _results = [];\n      for (key in right) {\n        value = right[key];\n        if (left[key]) {\n          switch (key) {\n            case 'class':\n              _results.push(left[key] += \" \" + value);\n              break;\n            default:\n              _results.push(left[key] = value);\n          }\n        } else {\n          _results.push(left[key] = value);\n        }\n      }\n      return _results;\n    };\n    def({\n      toggle: function() {\n        this.button({\n          \"class\": \"toggle expand\"\n        });\n        return this.button({\n          \"class\": \"toggle collapse\"\n        });\n      }\n    });\n    this.prototype.toggle.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    return def({\n      icon: function(name, options) {\n        if (options == null) options = {};\n        if (options[\"class\"]) {\n          options[\"class\"] = \"\" + options[\"class\"] + \" icon-\" + name;\n        } else {\n          options[\"class\"] = \"icon-\" + name;\n        }\n        return this.i(options);\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/view");minispade.register('alpha_simprini/client/view_events', "(function() {(function() {\n\n  AS.ViewEvents = AS.Object.extend(function(_arg) {\n    var EVENT_SPLITTER, def;\n    def = _arg.def;\n    EVENT_SPLITTER = /^(@?[\\w:]+)\\s*(.*)$/;\n    def({\n      initialize: function(view, events) {\n        this.view = view;\n        this.namespace = _.uniqueId(\".ve\");\n        this.events = this.unifyOptions(events);\n        this.validateOptions();\n        return this.cacheHandlers();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      unifyOptions: function(events) {\n        var eventName, key, options, selector, __, _ref;\n        for (key in events) {\n          options = events[key];\n          if (_.isString(options)) {\n            options = events[key] = {\n              methodName: options\n            };\n          }\n          _ref = key.match(EVENT_SPLITTER), __ = _ref[0], eventName = _ref[1], selector = _ref[2];\n          options.eventName = eventName + this.namespace;\n          options.selector = selector;\n          options.method = this.view[options.methodName];\n        }\n        return events;\n      }\n    });\n    this.prototype.unifyOptions.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      validateOptions: function() {\n        var key, options, _ref, _results;\n        _ref = this.events;\n        _results = [];\n        for (key in _ref) {\n          options = _ref[key];\n          if (options.method && options.transition) {\n            throw new Error(\"Event Binding Error in \" + this.view.constructor.name + \"!\\nSpecified both method and transition for event \" + key + \".\\nUse before/after hooks for transitions instead.\");\n          }\n          if (!options.method && !options.transition) {\n            throw new Error(\"Event Binding Error in \" + this.view.constructor.name + \"!\\nSpecified neither method or transition for event \" + key + \".\\nSpecify what to do when handling this error.\\nDo you need to define the method: `\" + options.methodName + \"'?\");\n          }\n          if (options.method && !_.isFunction(options.method)) {\n            console.error(options.method, \"was given instead of a function.\");\n            throw new Error(\"Event Binding Error in \" + this.view.constructor.name + \"!\\nSpecified method for event \" + key + \" that is not a function.\\nSpecify only a function as a method for an event handler.\");\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      }\n    });\n    this.prototype.validateOptions.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      cacheHandlers: function() {\n        var key, options, _ref, _results,\n          _this = this;\n        _ref = this.events;\n        _results = [];\n        for (key in _ref) {\n          options = _ref[key];\n          _results.push((function(key, options) {\n            return options.handler = function(_, event) {\n              if (options.method) {\n                return options.method.apply(_this.view, arguments);\n              } else if (options.transition) {\n                return _this.view.transitionState(options.transition);\n              }\n            };\n          })(key, options));\n        }\n        return _results;\n      }\n    });\n    this.prototype.cacheHandlers.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      revokeBindings: function() {\n        var key, options, _ref, _results;\n        _ref = this.events;\n        _results = [];\n        for (key in _ref) {\n          options = _ref[key];\n          _results.push(this.revokeBinding(options));\n        }\n        return _results;\n      }\n    });\n    this.prototype.revokeBindings.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      revokeBinding: function(options) {\n        var eventName, selector, target, _ref, _ref2;\n        _ref = [options.selector, options.eventName], selector = _ref[0], eventName = _ref[1];\n        if (selector === '') {\n          return this.view.el.unbind(this.namespace);\n        } else if (selector === '@') {\n          return this.view.unbind(this.namespace);\n        } else if (selector[0] === '@') {\n          return (_ref2 = this.view[selector.slice(1)]) != null ? _ref2.unbind(this.namespace) : void 0;\n        } else {\n          target = this.view.$(selector, this.view.el[0]);\n          target.off(this.namespace);\n          return target.click();\n        }\n      }\n    });\n    this.prototype.revokeBinding.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      applyBindings: function() {\n        var key, options, _ref, _results;\n        _ref = this.events;\n        _results = [];\n        for (key in _ref) {\n          options = _ref[key];\n          _results.push(this.applyBinding(options));\n        }\n        return _results;\n      }\n    });\n    this.prototype.applyBindings.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      applyBinding: function(options) {\n        var emitter, eventName, handler, selector, _ref, _ref2;\n        _ref = [options.selector, options.eventName, options.handler], selector = _ref[0], eventName = _ref[1], handler = _ref[2];\n        if (selector === '') {\n          return this.view.el.bind(eventName, handler);\n        } else if (selector === '@') {\n          return this.view.bind(eventName, handler, this.view);\n        } else if (selector[0] === '@') {\n          emitter = this.view[selector.slice(1)];\n          if (emitter === void 0) {\n            AS.error(\"Attempted to bind to \" + selector + \", no such member on \" + this);\n          }\n          if (emitter instanceof AS.ViewModel) {\n            return (_ref2 = emitter.model) != null ? _ref2.bind(eventName, handler, this.view) : void 0;\n          } else {\n            return emitter.bind(eventName, handler, this.view);\n          }\n        } else {\n          selector = selector.replace(/\\$/g, \"#\" + this.view.el.attr('id'));\n          return this.view.el.delegate(selector, eventName, handler);\n        }\n      }\n    });\n    return this.prototype.applyBinding.doc = {\n      params: [[]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/view_events");minispade.register('alpha_simprini/client/view_model', "(function() {(function() {\n\n  AS.ViewModel = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    delegate('readPath', 'writePath', {\n      to: 'model'\n    });\n    defs({\n      build: function(view, model) {\n        var constructor;\n        constructor = AS.ViewModel.constructorForModel(model.constructor);\n        return constructor[\"new\"](view, model);\n      }\n    });\n    defs({\n      constructorForModel: function(model) {\n        var klass, method, name, property, _fn, _i, _len, _ref, _ref2,\n          _this = this;\n        if (AS.ViewModel[model.path()]) return AS.ViewModel[model.path()];\n        klass = AS.ViewModel[model.path()] = AS.ViewModel.extend();\n        klass.name = model.name;\n        klass.prototype.type = model._name();\n        klass.bindables = {};\n        klass.extended_by = model.extended_by;\n        _ref = model.properties;\n        for (name in _ref) {\n          property = _ref[name];\n          klass.bindables[name] = (function() {\n            switch (property.constructor) {\n              case AS.Model.Field:\n              case Pathology.Property:\n              case Taxi.Property:\n              case AS.Model.VirtualProperty:\n                return AS.Binding.Field;\n              case AS.Model.BelongsTo:\n              case AS.Model.HasOne:\n                return AS.Binding.One;\n              case AS.Model.HasMany:\n                return AS.Binding.Many;\n            }\n          })();\n        }\n        _ref2 = AS.instanceMethods(model);\n        _fn = function(method) {\n          var _base, _ref3;\n          if (method === 'select') {\n            klass.prototype[method] = function() {\n              return this.model[method].apply(this.model, arguments);\n            };\n          }\n          return (_ref3 = (_base = klass.prototype)[method]) != null ? _ref3 : _base[method] = function() {\n            return this.model[method].apply(this.model, arguments);\n          };\n        };\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          method = _ref2[_i];\n          if (_.include(_.keys(Pathology.Object.prototype), method)) continue;\n          _fn(method);\n        }\n        return klass;\n      }\n    });\n    def({\n      initialize: function(view, model) {\n        var config, key, _ref, _results,\n          _this = this;\n        this.view = view;\n        this.model = model;\n        this.cid = this.model.cid;\n        this.id = this.model.id;\n        this.model.bind(\"change:id\", (function() {\n          return _this.id = _this.model.id;\n        }));\n        _ref = this.model.constructor.properties;\n        _results = [];\n        for (key in _ref) {\n          config = _ref[key];\n          _results.push(this[key] = this.model[key]);\n        }\n        return _results;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      \"if\": function(field, branches) {\n        if (!branches.then) {\n          throw new Error(\"\" + (this.toString()) + \" 'if' binding must be given at least a 'then' function\");\n        }\n        return AS.Binding.If[\"new\"](this.view, this.model, this.model[field], branches);\n      }\n    });\n    def({\n      binding: function(field, options, fn) {\n        var _ref;\n        if (_.isFunction(options)) {\n          _ref = [options, {}], fn = _ref[0], options = _ref[1];\n        }\n        return this.constructor.bindables[field][\"new\"](this.view, this.model, this.model[field], options, fn);\n      }\n    });\n    this.prototype.binding.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      input: function(field, options) {\n        return AS.Binding.Input[\"new\"](this.view, this.model, field, options);\n      }\n    });\n    this.prototype.input.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      file: function(field, options) {\n        return AS.Binding.File[\"new\"](this.view, this.model, field, options);\n      }\n    });\n    this.prototype.file.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      checkbox: function(field, options) {\n        return AS.Binding.CheckBox[\"new\"](this.view, this.model, field, options);\n      }\n    });\n    this.prototype.checkbox.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      select: function(field, options) {\n        return AS.Binding.Select[\"new\"](this.view, this.model, field, options);\n      }\n    });\n    this.prototype.select.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      editline: function(field, options) {\n        return AS.Binding.EditLine[\"new\"](this.view, this.model, field, options);\n      }\n    });\n    return this.prototype.editline.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/view_model");minispade.register('alpha_simprini/client/views/dialog', "(function() {(function() {\nminispade.require(\"knead\");\n\n  AS.Views.Dialogs = Pathology.Namespace[\"new\"]();\n\n  AS.Views.Dialog = AS.Views.Panel.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.afterContent(function(view) {\n      return knead.monitor(view.head);\n    });\n    def({\n      initialize: function() {\n        var _base;\n        if ((_base = this.constructor.prototype).events == null) _base.events = {};\n        _.extend(this.constructor.prototype.events, {\n          \"click .accept\": \"triggerCommit\",\n          \"click .cancel\": \"triggerCancel\",\n          \"esc @application\": \"triggerCancel\",\n          \"accept @application\": \"triggerCommit\",\n          \"knead:dragstart header\": \"dragstart\",\n          \"knead:drag header\": \"drag\",\n          \"knead:dragend header\": \"dragend\"\n        });\n        return this._super.apply(this, arguments);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      content: function() {\n        this.head = this.$(this.header(this.headerContent));\n        this.content = this.$(this.section(this.mainContent));\n        return this.foot = this.$(this.footer(this.footerContent));\n      }\n    });\n    this.prototype.content.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      headerContent: function() {}\n    });\n    this.prototype.headerContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      mainContent: function() {}\n    });\n    this.prototype.mainContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      footerContent: function() {\n        this.accept = this.$(this.button({\n          \"class\": \"accept\"\n        }, function() {\n          return \"Accept\";\n        }));\n        return this.cancel = this.$(this.a({\n          href: \"#\",\n          \"class\": \"cancel\"\n        }, function() {\n          return \"cancel\";\n        }));\n      }\n    });\n    this.prototype.footerContent.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      open: function() {\n        this.el.css({\n          width: \"\",\n          height: \"\"\n        });\n        return this.trigger(\"open\");\n      }\n    });\n    this.prototype.open.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      close: function() {\n        this.el.css({\n          width: 0,\n          height: 0,\n          overflow: \"hidden\"\n        });\n        return this.trigger(\"close\");\n      }\n    });\n    this.prototype.close.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      triggerCommit: function() {\n        this.trigger(\"commit\");\n        return this.close();\n      }\n    });\n    this.prototype.triggerCommit.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      triggerCancel: function() {\n        this.trigger(\"cancel\");\n        return this.close();\n      }\n    });\n    this.prototype.triggerCancel.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      dragstart: function(event) {\n        return this.start = this.el.position();\n      }\n    });\n    this.prototype.dragstart.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      drag: function(event) {\n        return this.el.css({\n          top: event.deltaY + this.start.top,\n          left: event.deltaX + this.start.left\n        });\n      }\n    });\n    this.prototype.drag.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      dragend: function(event) {\n        return delete this.start;\n      }\n    });\n    return this.prototype.dragend.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/views/dialog");minispade.register('alpha_simprini/client/views/panel', "(function() {(function() {\n\n  AS.Views.Panel = AS.View.extend();\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/views/panel");minispade.register('alpha_simprini/client/views/region', "(function() {(function() {\n  var sum;\n\n  sum = function(array) {\n    return _.reduce(array, (function(memo, num) {\n      return memo + num;\n    }), 0);\n  };\n\n  AS.Views.Region = AS.View.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function() {\n        var _ref,\n          _this = this;\n        this._super.apply(this, arguments);\n        return (_ref = this.application) != null ? _ref.bind(\"resize\", function() {\n          return _this.layout();\n        }) : void 0;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      layout: function() {}\n    });\n    return this.prototype.layout.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Views.North = AS.Views.Region.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n  });\n\n  AS.Views.East = AS.Views.Region.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      layout: function() {\n        return this.el.css({\n          top: this.el.siblings(\".North\").outerHeight() || 0,\n          bottom: this.el.siblings(\".South\").outerHeight() || 0\n        });\n      }\n    });\n    return this.prototype.layout.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Views.South = AS.Views.Region.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n  });\n\n  AS.Views.West = AS.Views.Region.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      layout: function() {\n        return this.el.css({\n          top: this.el.siblings(\".North\").outerHeight() || 0,\n          bottom: this.el.siblings(\".South\").outerHeight() || 0\n        });\n      }\n    });\n    return this.prototype.layout.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Views.Center = AS.Views.Region.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      layout: function() {\n        return this.el.css({\n          top: this.el.siblings(\".North\").outerHeight() || 0,\n          bottom: this.el.siblings(\".South\").outerHeight() || 0,\n          left: this.el.siblings(\".West\").outerWidth() || 0,\n          right: this.el.siblings(\".East\").outerWidth() || 0\n        });\n      }\n    });\n    return this.prototype.layout.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/views/region");minispade.register('alpha_simprini/client/views/stage', "(function() {(function() {\n\n  AS.Views.Stage = AS.Views.Panel.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      canvas_class: AS.Views.Canvas\n    });\n    def({\n      initialize: function(config) {\n        this._super.apply(this, arguments);\n        if (this.canvas == null) this.canvas = AS.Views.Canvas[\"new\"]();\n        return this.el.append(this.canvas.el);\n      }\n    });\n    return this.prototype.initialize.doc = {\n      params: [[]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/client/views/stage");minispade.register('alpha_simprini/core', "(function() {(function() {\n  var Core;\nminispade.require(\"alpha_simprini\");\n\n  Core = AS.part(\"Core\");\nminispade.require(\"underscore\");\n\n  Core.require(\"logging\\n\\ncallbacks state_machine\\ninstance_methods\\n\\nmodel model/dendrite model/synapse model/store\\nproperties/field properties/has_many properties/has_one\\nproperties/belongs_to properties/virtual_property\\n\\ncollection filtered_collection\\n\\nmodels/radio_selection_model models/multiple_selection_model\\nmodels/group models/grouping models/file\");\n\n  AS.util = {\n    lpad: function(str, padder, length) {\n      var num, _ref;\n      str = str.toString();\n      if (!(str.length < length)) return str;\n      for (num = 0, _ref = length - str.length - 1; 0 <= _ref ? num <= _ref : num >= _ref; 0 <= _ref ? num++ : num--) {\n        str = \"\" + padder + str;\n      }\n      return str;\n    },\n    rpad: function(str, padder, length) {\n      var num, _ref;\n      str = str.toString();\n      if (!(str.length < length)) return str;\n      for (num = 0, _ref = length - str.length - 1; 0 <= _ref ? num <= _ref : num >= _ref; 0 <= _ref ? num++ : num--) {\n        str = \"\" + str + padder;\n      }\n      return str;\n    }\n  };\n\n  AS.ConstructorIdentity = function(constructor) {\n    return function(object) {\n      return object.constructor === constructor;\n    };\n  };\n\n  AS.Identity = function(object) {\n    return function(other) {\n      return object === other;\n    };\n  };\n\n  AS.IdentitySort = function(object) {\n    return object;\n  };\n\n  AS.loadPath = function(path) {\n    var segment, target, _i, _len, _ref;\n    target = Pathology.Namespaces;\n    _ref = path.split(\".\");\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      segment = _ref[_i];\n      target = target[segment];\n    }\n    return target;\n  };\n\n  AS.deepClone = function(it) {\n    var clone, key, value;\n    if (_.isFunction(it)) {\n      clone = it;\n    } else if (_.isArray(it)) {\n      clone = _.clone(it);\n    } else if (_.isObject(it)) {\n      clone = {};\n      for (key in it) {\n        value = it[key];\n        if (_.isArray(value) || _.isObject(value)) {\n          clone[key] = AS.deepClone(value);\n        } else {\n          clone[key] = value;\n        }\n      }\n    } else {\n      clone = it;\n    }\n    return clone;\n  };\n\n  AS.uniq = function() {\n    return (Math.floor(Math.random() * 100000000000000000)).toString(16) + (new Date).getTime().toString(16);\n  };\n\n  AS.humanSize = function(size) {\n    var i, units;\n    units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    i = 0;\n    while (size >= 1024) {\n      size /= 1024;\n      ++i;\n    }\n    if (size) {\n      return size.toFixed(1) + ' ' + units[i];\n    } else {\n      return \"???\";\n    }\n  };\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core");minispade.register('alpha_simprini/core/callbacks', "(function() {(function() {\n  var upperCamelize;\n\n  upperCamelize = fleck.upperCamelize;\n\n  AS.Callbacks = AS.Module.extend(function(_arg) {\n    var def, defs;\n    def = _arg.def, defs = _arg.defs;\n    defs({\n      defineCallbacks: function(all) {\n        var callbacks, key, _results,\n          _this = this;\n        _results = [];\n        for (key in all) {\n          callbacks = all[key];\n          _results.push((function(key, callbacks) {\n            var callback, _i, _len, _ref, _results2;\n            _ref = callbacks || [];\n            _results2 = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n              callback = _ref[_i];\n              _results2.push((function(callback) {\n                return _this[\"\" + key + (upperCamelize(callback))] = function(fn) {\n                  return this.pushInheritableItem(\"\" + key + (upperCamelize(callback)) + \"_callbacks\", fn);\n                };\n              })(callback));\n            }\n            return _results2;\n          })(key, callbacks));\n        }\n        return _results;\n      }\n    });\n    this.defineCallbacks.doc = {\n      params: [[\"all\"]],\n      desc: \"\"\n    };\n    def({\n      runCallbacks: function(name) {\n        var callback, _i, _len, _ref, _results;\n        _ref = this.constructor[\"\" + name + \"_callbacks\"] || [];\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          callback = _ref[_i];\n          _results.push(callback.call(null, this));\n        }\n        return _results;\n      }\n    });\n    return this.prototype.runCallbacks.doc = {\n      params: [[\"name\", String, true]],\n      desc: \"\\n #   \"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/callbacks");minispade.register('alpha_simprini/core/collection', "(function() {(function() {\n  var extend, isString;\n\n  extend = _.extend, isString = _.isString;\n\n  AS.Collection = AS.Object.extend(function(_arg) {\n    var def, delegate, include;\n    def = _arg.def, include = _arg.include, delegate = _arg.delegate;\n    include(Taxi.Mixin);\n    delegate(AS.COLLECTION_DELEGATES, {\n      to: \"models\"\n    });\n    def({\n      initialize: function(models, options) {\n        var model, _i, _len, _ref, _results;\n        this.models = models != null ? models : [];\n        if (options == null) options = {};\n        extend(this, options);\n        this.length = 0;\n        this.byId = {};\n        this.byCid = {};\n        this.models = _([]).chain();\n        _ref = this.models;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          model = _ref[_i];\n          _results.push(this.add(model));\n        }\n        return _results;\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\n          \"@models\", [AS.Model], false, {\n            \"default\": []\n          }\n        ], [\n          \"options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      model: function() {\n        return AS.Model;\n      }\n    });\n    this.prototype.model.doc = {\n      desc: \"\"\n    };\n    def({\n      add: function(model, options) {\n        if (model == null) model = {};\n        if (options == null) options = {};\n        if (model.model && model.model.id) model = model.model;\n        if (!(model instanceof AS.Model)) model = this.build(model);\n        if (this.inverse && this.source) model[this.inverse].set(this.source);\n        this._add(model, options);\n        return model;\n      }\n    });\n    this.prototype.add.doc = {\n      params: [\n        [\n          \"model\", [AS.Model, String, Object], false, {\n            \"default\": {}\n          }\n        ], [\n          \"options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      build: function(model) {\n        var constructor, ctor, data;\n        if (isString(model) && (constructor = typeof this.model === \"function\" ? this.model() : void 0)) {\n          return constructor.find(model);\n        } else if (isString(model)) {\n          return AS.All.byId[model];\n        } else {\n          if (model.id && AS.All.byId[model.id]) {\n            return AS.All.byId[model.id];\n          } else {\n            ctor = this.model();\n          }\n          data = _.clone(model);\n          return ctor[\"new\"](data);\n        }\n      }\n    });\n    this.prototype.build.doc = {\n      private: true,\n      params: [[\"model\", [AS.Model, String, Object], true]],\n      desc: \"\"\n    };\n    def({\n      _add: function(model, options) {\n        var index;\n        if (options == null) options = {};\n        if (options.at == null) options.at = this.length;\n        index = options.at;\n        this.byCid[model.cid] = this.byId[model.id] = model;\n        if (this.models.include(model).value()) {\n          return console.warn(\"Cannot add model to collection twice.\", model.toString());\n        } else {\n          this.models._wrapped.splice(index, 0, model);\n          this.length++;\n          model.bind({\n            event: \"all\",\n            namespace: this.objectId(),\n            handler: this._onModelEvent,\n            context: this\n          });\n          return model.trigger(\"add\", this, options);\n        }\n      }\n    });\n    this.prototype._add.doc = {\n      private: true,\n      params: [\n        [\"model\", AS.Model, true], [\n          \"options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      at: function(index) {\n        return this.models.value()[index];\n      }\n    });\n    this.prototype.at.doc = {\n      params: [[\"index\", Number, true]],\n      desc: \"\"\n    };\n    def({\n      remove: function(model, options) {\n        var result;\n        if (options == null) options = {};\n        model = model.model;\n        result = this._remove(model, options);\n        if (this.inverse) model[this.inverse].set(null);\n        return result;\n      }\n    });\n    this.prototype.remove.doc = {\n      params: [\n        [\"model\", AS.Model, true], [\n          \"options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      _remove: function(model, options) {\n        if (options == null) options = {};\n        options.at = this.models.indexOf(model).value();\n        if (this.models.include(model).value()) {\n          this.length--;\n          delete this.byId[model.id];\n          delete this.byCid[model.cid];\n          this.models = this.models.without(model);\n          model.trigger(\"remove\", this, options);\n          return model.unbind({\n            event: \"all\",\n            namespace: this.objectId()\n          });\n        } else {\n          return console.warn(\"Cannot remove model from collection twice.\", model != null ? model.toString() : void 0);\n        }\n      }\n    });\n    this.prototype._remove.doc = {\n      private: true,\n      params: [\n        [\"model\", AS.Model, true], [\n          \"options\", {}, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      filter: function(filterBy) {\n        return AS.FilteredCollection[\"new\"](this, filterBy);\n      }\n    });\n    this.prototype.filter.doc = {\n      params: [[\"filterBy\", {}, true]],\n      \"return\": AS.FilteredCollection,\n      desc: \"\"\n    };\n    def({\n      groupBy: function(key, metaData) {\n        return AS.Models.Grouping[\"new\"](this, key, metaData);\n      }\n    });\n    this.prototype.groupBy.doc = {\n      params: [[\"key\", String, true], [\"metaData\", Object, false]],\n      desc: \"\"\n    };\n    def({\n      _onModelEvent: function(event, model, collection, options) {\n        if (!isString(event)) return;\n        if ((event === \"add\" || event === \"remove\") && (this !== collection)) {\n          return;\n        }\n        if (event === \"destroy\") this._remove(model, options);\n        return this.trigger.apply(this, arguments);\n      }\n    });\n    return this.prototype._onModelEvent.doc = {\n      private: true,\n      params: [[\"event\", String, true], [\"model\", AS.Model, true], [\"collection\", AS.Collection, false], [\"options\", Object, false]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/collection");minispade.register('alpha_simprini/core/filtered_collection', "(function() {(function() {\n  var extend, isArray, isFunction, isString,\n    __indexOf = Array.prototype.indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  extend = _.extend, isString = _.isString, isFunction = _.isFunction, isArray = _.isArray;\n\n  AS.FilteredCollection = AS.Collection.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    delegate('add', 'remove', {\n      to: 'parent'\n    });\n    def({\n      initialize: function(parent, conditions) {\n        var key, value;\n        this.parent = parent;\n        if (conditions == null) conditions = {};\n        this._super();\n        this.conditions = Taxi.Map[\"new\"]();\n        for (key in conditions) {\n          value = conditions[key];\n          this.conditions.set(key, value);\n        }\n        this.conditions.bind({\n          event: 'change',\n          handler: this.reFilter,\n          context: this\n        });\n        this.parent.bind({\n          event: 'add',\n          handler: this.determinePlacementInSelf,\n          context: this,\n          namespace: this.objectId()\n        });\n        this.parent.bind({\n          event: 'change',\n          handler: this.determinePlacementInSelf,\n          context: this,\n          namespace: this.objectId()\n        });\n        this.parent.bind({\n          event: 'remove',\n          handler: this.removeFromSelf,\n          context: this,\n          namespace: this.objectId()\n        });\n        return this.reFilter();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\"@parent\", AS.Collection, true], [\n          \"conditions\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      determinePlacementInSelf: function(model) {\n        if (this.filter(model) === true) {\n          return this.addToSelf(model);\n        } else {\n          return this.removeFromSelf(model);\n        }\n      }\n    });\n    this.prototype.determinePlacementInSelf.doc = {\n      params: [[\"model\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      addToSelf: function(model) {\n        if (this.models.include(model).value()) return;\n        return this._add(model);\n      }\n    });\n    this.prototype.addToSelf.doc = {\n      params: [[\"model\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      removeFromSelf: function(model) {\n        if (!this.models.include(model).value()) return;\n        return this._remove(model);\n      }\n    });\n    this.prototype.removeFromSelf.doc = {\n      params: [[\"model\", AS.Modle, true]],\n      desc: \"\"\n    };\n    def({\n      reFilter: function() {\n        var _this = this;\n        return this.parent.each(function(model) {\n          return _this.determinePlacementInSelf(model);\n        });\n      }\n    });\n    this.prototype.reFilter.doc = {\n      desc: \"\"\n    };\n    def({\n      setConditions: function(conditions) {\n        var key, value;\n        this.conditions.unbind();\n        for (key in conditions) {\n          value = conditions[key];\n          this.conditions.set(key, value);\n        }\n        this.conditions.bind({\n          event: 'change',\n          handler: this.reFilter,\n          context: this\n        });\n        return this.reFilter();\n      }\n    });\n    this.prototype.setConditions.doc = {\n      params: [[\"conditions\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      filter: function(model) {\n        var key, modelValue, testValue, value, _ref;\n        _ref = this.conditions.toObject();\n        for (key in _ref) {\n          value = _ref[key];\n          modelValue = model[key].get();\n          testValue = isFunction(value) ? value.call() : value;\n          testValue = isArray(testValue) ? testValue : [testValue];\n          if (__indexOf.call(testValue, modelValue) < 0) return false;\n        }\n        return true;\n      }\n    });\n    return this.prototype.filter.doc = {\n      params: [[\"model\", AS.Model, true]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/filtered_collection");minispade.register('alpha_simprini/core/instance_methods', "(function() {(function() {\n  var SKIP_METHODS;\n\n  SKIP_METHODS = ['objectId', 'readPath', 'path', '_name', '_readId', '_container', '_path', '_createProperties', 'propertiesThatCouldBe', 'toString', 'constructor'];\n\n  AS.instanceMethods = function(klass) {\n    var methods;\n    methods = _(klass.prototype).chain().keys();\n    if (klass.__super__) {\n      methods = methods.concat(AS.instanceMethods(klass.__super__.constructor));\n    }\n    return methods.without(SKIP_METHODS).value();\n  };\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/instance_methods");minispade.register('alpha_simprini/core/logging', "(function() {(function() {\n  var COUNTS;\n\n  AS.warn = function() {\n    return console.warn.apply(console, arguments);\n  };\n\n  COUNTS = Pathology.Map[\"new\"]();\n\n  AS.count = function(key) {\n    var count, _ref;\n    count = (_ref = COUNTS.get(key)) != null ? _ref : 0;\n    return COUNTS.set(key, count + 1);\n  };\n\n  AS.getCount = function(key) {\n    var _ref;\n    return (_ref = COUNTS.get(key)) != null ? _ref : 0;\n  };\n\n  AS.error = function() {\n    console.trace();\n    return console.error.apply(console, arguments);\n  };\n\n  AS.suppress_logging = function() {\n    AS.error = function() {};\n    return AS.warn = function() {};\n  };\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/logging");minispade.register('alpha_simprini/core/model', "(function() {(function() {\n  var keys, makeIdRef, toArray, uniqueId;\n\n  uniqueId = _.uniqueId, toArray = _.toArray, keys = _.keys;\n\n  AS.All = {\n    byCid: {},\n    byId: {},\n    byIdRef: {}\n  };\n\n  makeIdRef = function(id, constructor) {\n    return \"\" + id + \"-\" + (constructor.path());\n  };\n\n  AS.Model = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    include(AS.Callbacks);\n    this.defineCallbacks({\n      after: ['initialize']\n    });\n    defs({\n      find: function(id, options) {\n        var idRef;\n        idRef = makeIdRef(id, this);\n        return AS.All.byIdRef[idRef] || this[\"new\"]({\n          id: id\n        }, options);\n      }\n    });\n    this.find.doc = {\n      params: [[\"id\", String, true]],\n      \"return\": AS.Model,\n      desc: \"If a model exsist by the `id` it is retrieved from an identity map.\\nOtherwise a model is created with `id`.\"\n    };\n    def({\n      initialize: function(attributes, options) {\n        var id;\n        if (attributes == null) attributes = {};\n        if (options == null) options = {};\n        if (attributes.id == null) attributes.id = AS.uniq();\n        this.model = this;\n        if (id = attributes.id) {\n          delete attributes.id;\n          this.setId(id);\n        }\n        this.set(attributes);\n        if (options.skipCallbacks !== true) {\n          return this.runCallbacks('afterInitialize');\n        }\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\n          \"attributes\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    defs({\n      prepare: function(attributes) {\n        return this[\"new\"](attributes, {\n          skipCallbacks: true\n        });\n      }\n    });\n    this.prepare.doc = {\n      params: [\n        [\n          \"id\", String, true, {\n            tag: \"id for a new model\"\n          }\n        ]\n      ],\n      desc: \"Creates a new model of this class without running callbacks.\"\n    };\n    def({\n      takeOver: function(model) {\n        var name, property, _i, _len, _ref;\n        _ref = model.properties();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          property = _ref[_i];\n          if (property.rawValue == null) continue;\n          name = property.options.name;\n          console.log(\"takeOver \" + name + \" \" + (property.rawValue()));\n          this[name].set(property.rawValue());\n        }\n        return this.runCallbacks('afterInitialize');\n      }\n    });\n    this.prototype.takeOver.doc = {\n      params: [[]],\n      desc: \"Take on the properties of another model. Used when cutting\\nover to a new code base.\"\n    };\n    def({\n      payload: function() {\n        var key, name, payload, property, value, _i, _len, _ref, _ref2, _ref3, _ref4, _ref5;\n        payload = {};\n        _ref = this.properties();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          property = _ref[_i];\n          if (!(property instanceof AS.Model.Field.Instance)) continue;\n          name = property.options.name;\n          switch (property.constructor) {\n            case AS.Model.Field.Instance:\n              _ref2 = [name, property.value || property.options[\"default\"]], key = _ref2[0], value = _ref2[1];\n              break;\n            case AS.Model.BelongsTo.Instance:\n            case AS.Model.HasOne.Instance:\n              _ref4 = [\"\" + name, ((_ref3 = property.get()) != null ? _ref3.id : void 0) || null], key = _ref4[0], value = _ref4[1];\n              break;\n            case AS.Model.HasMany.Instance:\n              _ref5 = [\n                \"\" + name, property.map(function(model) {\n                  return model.id;\n                }).value()\n              ], key = _ref5[0], value = _ref5[1];\n          }\n          payload[key] = value != null ? value : null;\n        }\n        return payload;\n      }\n    });\n    this.prototype.payload.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      properties: function() {\n        var name, _i, _len, _ref, _results;\n        if (this.constructor.properties == null) return [];\n        _ref = keys(this.constructor.properties);\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          name = _ref[_i];\n          _results.push(this[name]);\n        }\n        return _results;\n      }\n    });\n    this.prototype.properties.doc = {\n      desc: \"\"\n    };\n    def({\n      set: function(attributes) {\n        var key, property, value, _ref, _results;\n        _results = [];\n        for (key in attributes) {\n          value = attributes[key];\n          if (key === \"_type\") continue;\n          if (key === \"id\") {\n            _results.push(this.setId(value));\n          } else {\n            property = this[key];\n            _results.push((_ref = this[key]) != null ? _ref.set(value) : void 0);\n          }\n        }\n        return _results;\n      }\n    });\n    this.prototype.set.doc = {\n      params: [[\"attributes\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      setId: function(id) {\n        if (this.id) {\n          delete AS.All.byId[this.id];\n          delete AS.All.byIdRef[\"\" + this.id + \"-\" + (this.constructor.path())];\n        }\n        this.id = id;\n        this.idRef = makeIdRef(this.id, this.constructor);\n        if (this.cid == null) this.cid = this.idRef || uniqueId(\"c\");\n        AS.All.byCid[this.cid] = AS.All.byId[this.id] = AS.All.byIdRef[this.idRef] = this;\n        return this.trigger(\"change:id\");\n      }\n    });\n    this.prototype.setId.doc = {\n      params: [[\"id\", String, true]],\n      desc: \"\"\n    };\n    def({\n      destroy: function() {\n        return this.trigger(\"destroy\");\n      }\n    });\n    this.prototype.destroy.doc = {\n      desc: \"\"\n    };\n    def({\n      trigger: function() {\n        var args;\n        args = toArray(arguments);\n        args.splice(1, 0, this);\n        return this._super.apply(this, args);\n      }\n    });\n    this.prototype.trigger.doc = {\n      params: [[\"event\", String, true], [\"...\"]],\n      desc: \"\"\n    };\n    def({\n      readPath: function(path) {\n        var _ref;\n        if (path[1]) {\n          return (_ref = this[path[0]].get().model) != null ? _ref.readPath(path.slice(1)) : void 0;\n        } else if (path[0]) {\n          return this[path[0]].get();\n        }\n      }\n    });\n    this.prototype.readPath.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      writePath: function(path, value) {\n        var piece, target, _i, _len, _ref;\n        target = this;\n        _ref = path.slice(0, -1);\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          piece = _ref[_i];\n          target = target[piece].get();\n        }\n        return target[path[path.length - 1]].set(value);\n      }\n    });\n    return this.prototype.writePath.doc = {\n      params: [[]],\n      desc: \"\"\n    };\n  });\n\n  AS.Model.UniqueId = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    return defs({\n      find: function(id) {\n        return AS.All.byId[id] || this[\"new\"]({\n          id: id\n        });\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model");minispade.register('alpha_simprini/core/model/dendrite', "(function() {(function() {\n\n  AS.Model.Dendrite = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function(observer, notifier, config) {\n        this.observer = observer;\n        this.notifier = notifier;\n        this.config = config != null ? config : {};\n        this.callback = _.bind(this.callback, this);\n        return this.on();\n      }\n    });\n    def({\n      callback: function() {\n        if (this.observer.blocking) return;\n        return this.observer.set(this.notifier.get(), arguments);\n      }\n    });\n    def({\n      equal: function() {\n        return this.notifier.get() === this.observer.get();\n      }\n    });\n    def({\n      on: function() {\n        if (this.config.bindEvents !== false) this.notifier.binds(this.callback);\n        if (this.equal()) return;\n        if (!_.isEmpty(this.notifier.get())) return this.callback();\n      }\n    });\n    return def({\n      off: function() {\n        if (this.config.bindEvents !== false) {\n          return this.notifier.unbinds(this.callback);\n        }\n      }\n    });\n  });\n\n  AS.Model.CollectionDendrite = AS.Model.Dendrite.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function(observer, notifier, config) {\n        this.observer = observer;\n        this.notifier = notifier;\n        this.config = config != null ? config : {};\n        this.insertCallback = _.bind(this.insertCallback, this);\n        this.removeCallback = _.bind(this.removeCallback, this);\n        return this.on();\n      }\n    });\n    def({\n      insertCallback: function(item, options) {\n        if (this.observer.blocking) return;\n        return this.observer.insert(item, options);\n      }\n    });\n    def({\n      removeCallback: function(item, options) {\n        if (this.observer.blocking) return;\n        return this.observer.remove(item, options);\n      }\n    });\n    def({\n      on: function() {\n        if (this.config.bindEvents !== false) {\n          return this.notifier.binds(this.insertCallback, this.removeCallback);\n        }\n      }\n    });\n    return def({\n      off: function() {\n        if (this.config.bindEvents !== false) {\n          return this.notifier.unbinds(this.insertCallback, this.removeCallback);\n        }\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/dendrite");minispade.register('alpha_simprini/core/model/local', "(function() {(function() {\n\n\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/local");minispade.register('alpha_simprini/core/model/post_message', "(function() {(function() {\n  var bind, each, flatten, upperCamelize,\n    __slice = Array.prototype.slice;\n\n  bind = _.bind, flatten = _.flatten, each = _.each;\n\n  upperCamelize = fleck.upperCamelize;\n\n  AS.PostMessageController = Pathology.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    def({\n      initialize: function(accept, commands) {\n        this.accept = accept;\n        this.commands = commands != null ? commands : {};\n        return window.addEventListener(\"message\", bind(this.receiveMessage, this), false);\n      }\n    });\n    def({\n      receiveMessage: function(event) {\n        var args, command, identifier, _ref, _ref2;\n        if ((_ref = this.accept) !== \"*\" && _ref !== event.source && _ref !== event.origin) {\n          return;\n        }\n        _ref2 = flatten(event.data), identifier = _ref2[0], args = 2 <= _ref2.length ? __slice.call(_ref2, 1) : [];\n        if (command = this.commands[identifier]) {\n          if (!command.apply) return;\n          command.apply(null, [event].concat(args));\n        } else {\n          if (this.commands.write === false) return;\n          this[\"receiveMessage\" + (upperCamelize(identifier))].apply(this, [event].concat(args));\n        }\n        this.trigger(\"message\");\n        if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n      }\n    });\n    def({\n      receiveMessageCreate: function(event, path, id, data) {\n        return AS.loadPath(path).find(id).set(data);\n      }\n    });\n    def({\n      receiveMessageDestroy: function(event, id) {\n        return AS.All.byId[id].destroy();\n      }\n    });\n    def({\n      receiveMessageAdd: function(event, id, field, itemId, options) {\n        return AS.All.byId[id][field].add(itemId, options);\n      }\n    });\n    def({\n      receiveMessageRemove: function(event, id, field, itemId) {\n        return AS.All.byId[id][field].remove(AS.Model.find(itemId));\n      }\n    });\n    return def({\n      receiveMessageChange: function(event, id, field, value) {\n        return AS.All.byId[id][field].set(value);\n      }\n    });\n  });\n\n  AS.PostMessageSource = Pathology.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function(_window, origin) {\n        this._window = _window;\n        this.origin = origin;\n      }\n    });\n    return def({\n      post: function(_arguments) {\n        var _ref;\n        return (_ref = this._window) != null ? _ref.postMessage(_arguments, this.origin) : void 0;\n      }\n    });\n  });\n\n  AS.Model.PostMessageAdapter = Pathology.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    delegate('post', {\n      to: 'source'\n    });\n    def({\n      initialize: function() {\n        return this.registrations = Pathology.Set[\"new\"]();\n      }\n    });\n    def({\n      connect: function(event) {\n        this.source = AS.PostMessageSource[\"new\"](event.source, event.origin);\n        return this.trigger(\"ready\");\n      }\n    });\n    def({\n      register: function(model) {\n        var _this = this;\n        if (this.registrations.include(model)) return;\n        this.registrations.add(model);\n        console.log(\"[postmessage] register\", model.toString(), model.id);\n        this.binds(model, \"destroy\", function() {\n          this.unbind(model);\n          this.post([\"destroy\", model.id]);\n          return this.registrations.remove(model);\n        });\n        each(model.properties(), function(property) {\n          var current;\n          if (property.constructor === AS.Model.HasMany.Instance) {\n            property.each(bind(_this.register, _this));\n            _this.binds(property, \"add\", function(item, options) {\n              this.register(item);\n              return this.post([\n                \"add\", model.id, property.options.name, item.id, {\n                  at: options.indexOf(item).value()\n                }\n              ]);\n            });\n            return _this.binds(property, \"remove\", function(item) {\n              return this.post([\"remove\", model.id, property.options.name, item.id]);\n            });\n          } else {\n            if (current = property.get()) {\n              console.log(\"currentValue\", current.toString());\n              if (current instanceof AS.Model) _this.register(current);\n            }\n            return _this.binds(property, \"change\", function() {\n              var value;\n              value = property.get();\n              if (value instanceof AS.Model) {\n                this.register(value);\n                value = value.id;\n              }\n              return this.post([\"change\", model.id, property.options.name, value]);\n            });\n          }\n        });\n        this.post([\"create\", model.constructor.path(), model.id, model.payload()]);\n        return model;\n      }\n    });\n    def({\n      binds: function(model, event, handler) {\n        return model.bind({\n          namespace: this.objectId(),\n          event: event,\n          handler: handler,\n          context: this\n        });\n      }\n    });\n    def({\n      reset: function() {\n        var _this = this;\n        this.registrations.each(function(model) {\n          return _this.unbind(model);\n        });\n        return PL.editor.postMessageAdapter.registrations.empty();\n      }\n    });\n    return def({\n      unbind: function(model) {\n        var property, _i, _len, _ref, _results;\n        model.unbind(\".\" + (this.objectId()));\n        _ref = model.properties();\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          property = _ref[_i];\n          _results.push(property.unbind(\".\" + (this.objectId())));\n        }\n        return _results;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/post_message");minispade.register('alpha_simprini/core/model/rest', "(function() {(function() {\n  var camelize, convertKeys, extractIds, pluralize, singularize, underscore;\n\n  camelize = fleck.camelize, underscore = fleck.underscore, pluralize = fleck.pluralize, singularize = fleck.singularize;\n\n  convertKeys = function(object) {\n    var converted, key, value;\n    converted = {};\n    for (key in object) {\n      value = object[key];\n      converted[camelize(key)] = value;\n    }\n    return converted;\n  };\n\n  extractIds = function(object) {\n    var data, ids, key, value;\n    data = {};\n    ids = {};\n    for (key in object) {\n      value = object[key];\n      if (key.match(/Id$/) && !object[key.replace(/Id$/, \"Type\")]) {\n        ids[key] = value;\n      } else if (key.match(/Ids$/)) {\n        ids[key] = value;\n      } else {\n        data[key] = value;\n      }\n    }\n    return [data, ids];\n  };\n\n  AS.Model.REST = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      mappings: AS.Map[\"new\"]()\n    });\n    defs({\n      rootKey: function() {\n        return underscore(this._name());\n      }\n    });\n    defs({\n      resourcesURL: function() {\n        return \"/\" + (pluralize(this.rootKey()));\n      }\n    });\n    defs({\n      resourceURL: function(id) {\n        return \"\" + (this.resourcesURL()) + \"/\" + id;\n      }\n    });\n    defs({\n      load: function(id, callback) {\n        var model;\n        if (!(model = AS.All.byId[id])) {\n          model = this[\"new\"]();\n          if (callback == null) callback = model.didLoad;\n          this.readOne(id, _.bind(callback, model));\n        }\n        return model;\n      }\n    });\n    def({\n      didLoad: function(data) {\n        return this.loadData(data);\n      }\n    });\n    defs({\n      readOne: function(id, callback) {\n        var _this = this;\n        return $.ajax({\n          url: this.resourceURL(id),\n          dataType: 'json',\n          success: callback,\n          error: function() {\n            console.error(\"readone error\");\n            return console.error(_this, arguments);\n          }\n        });\n      }\n    });\n    defs({\n      mappings: function() {\n        var klass, mappings, _i, _len, _ref;\n        mappings = {};\n        _ref = this.appendedTo;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          klass = _ref[_i];\n          mappings[pluralize(camelize(klass.rootKey()))] = klass;\n        }\n        return mappings;\n      }\n    });\n    def({\n      loadData: function(data) {\n        var embed, embeds, ids, key, modelData, references, root, _i, _len, _ref, _ref2;\n        references = AS.Map[\"new\"]();\n        root = this.constructor.rootKey();\n        modelData = data[root];\n        modelData = convertKeys(modelData);\n        _ref = extractIds(modelData), modelData = _ref[0], ids = _ref[1];\n        this.set(modelData);\n        references.set(this, ids);\n        _ref2 = convertKeys(data);\n        for (key in _ref2) {\n          embeds = _ref2[key];\n          if (key === root) continue;\n          for (_i = 0, _len = embeds.length; _i < _len; _i++) {\n            embed = embeds[_i];\n            this.constructor.mappings()[key].sideloadData(embed, references);\n          }\n        }\n        references.each(function(model, ids) {\n          return model.resolveReferences(ids);\n        });\n        references.each(function(model) {\n          return model.trigger(\"ready\");\n        });\n        return this;\n      }\n    });\n    defs({\n      sideloadData: function(modelData, references) {\n        var ids, model, _ref;\n        modelData = convertKeys(modelData);\n        _ref = extractIds(modelData), modelData = _ref[0], ids = _ref[1];\n        model = this[\"new\"](modelData);\n        return references.set(model, ids);\n      }\n    });\n    return def({\n      resolveReferences: function(ids) {\n        var id, item, key, path, references, relation, relationKey, _results;\n        _results = [];\n        for (key in ids) {\n          references = ids[key];\n          if (!references) continue;\n          if (references.length === void 0) {\n            relationKey = key.replace(/Id$/, '');\n            path = this[relationKey].model().path();\n            id = references;\n            _results.push(this[relationKey].set(AS.All.byIdRef[\"\" + id + \"-\" + path]));\n          } else {\n            relationKey = pluralize(key.replace(/Ids$/, ''));\n            path = this[relationKey].model().path();\n            _results.push((function() {\n              var _i, _len, _results2;\n              _results2 = [];\n              for (_i = 0, _len = references.length; _i < _len; _i++) {\n                id = references[_i];\n                item = AS.All.byIdRef[\"\" + id + \"-\" + path];\n                relation = this[relationKey];\n                if (relation.include(item).value()) continue;\n                _results2.push(relation.add(item));\n              }\n              return _results2;\n            }).call(this));\n          }\n        }\n        return _results;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/rest");minispade.register('alpha_simprini/core/model/share', "(function() {(function() {\n  var bind, compact, connections, defer, each, flatten, getConnection, keys,\n    __slice = Array.prototype.slice;\n\n  keys = _.keys, bind = _.bind, defer = _.defer, each = _.each, flatten = _.flatten, compact = _.compact;\nminispade.require(\"bcsocket\");\nminispade.require(\"sharejs\");\nminispade.require(\"sharejs.json\");\n\n  window.ShareJS = sharejs;\n\n  AS.ShareJSURL = \"http://\" + ((typeof window !== \"undefined\" && window !== null ? window.location.host : void 0) || 'localhost') + \"/channel\";\n\n  connections = {};\n\n  getConnection = function(origin) {\n    var c, del;\n    if (!connections[origin]) {\n      c = new ShareJS.Connection(origin);\n      del = function() {\n        return delete connections[origin];\n      };\n      c.on('disconnecting', del);\n      c.on('connect failed', del);\n      connections[origin] = c;\n    }\n    return connections[origin];\n  };\n\n  AS.Model.ShareJSAdapter = AS.Object.extend(function(_arg) {\n    var LIST_DELETE, LIST_INSERT, LIST_MOVE, NUMBER_ADD, OBJECT_DELETE, OBJECT_INSERT, STRING_DELETE, STRING_INSERT, def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    def({\n      initialize: function(url, documentName) {\n        this.url = url;\n        this.documentName = documentName;\n        this.registrations = Pathology.Set[\"new\"]();\n        if (this.url == null) this.url = AS.ShareJSURL;\n        this.connection = getConnection(this.url);\n        this.document = new ShareJS.Doc(this.connection, this.documentName, {\n          type: 'json'\n        });\n        this.connection.docs[this.documentName] = this.document;\n        this.fetchDoc();\n        this.document.on(\"change\", bind(this.stashDoc, this));\n        this.document.on(\"acknowledge\", bind(this.stashDoc, this));\n        return this.open();\n      }\n    });\n    def({\n      fetchDoc: function() {\n        var pendingOp, snapshot, version;\n        version = localStorage.getItem(\"\" + this.documentName + \":share:version\");\n        pendingOp = localStorage.getItem(\"\" + this.documentName + \":share:pendingOp\");\n        snapshot = localStorage.getItem(\"\" + this.documentName + \":share:snapshot\");\n        if (!((version != null) && (pendingOp != null) && (typeof Snapshot !== \"undefined\" && Snapshot !== null))) {\n          return;\n        }\n        this.document.pendingOp = JSON.parse(pendingOp);\n        this.document.snapshot = JSON.parse(snapshot);\n        this.document.version = parseInt(version, 10);\n        return this.loadEmbeddedData();\n      }\n    });\n    def({\n      stashDoc: function(op, snapshot) {\n        var pendingOp;\n        pendingOp = flatten(compact([this.document.inflightOp, this.document.pendingOp]));\n        localStorage.setItem(\"\" + this.documentName + \":share:version\", this.document.version);\n        localStorage.setItem(\"\" + this.documentName + \":share:pendingOp\", JSON.stringify(pendingOp));\n        return localStorage.setItem(\"\" + this.documentName + \":share:snapshot\", JSON.stringify(this.document.snapshot));\n      }\n    });\n    def({\n      maybeClose: function() {\n        var doc, name, numDocs, _ref;\n        numDocs = 0;\n        _ref = this.connection.docs;\n        for (name in _ref) {\n          doc = _ref[name];\n          if (doc.state !== 'closed' || doc.autoOpen) numDocs++;\n        }\n        if (numDocs === 0) return this.connection.disconnect();\n      }\n    });\n    def({\n      open: function() {\n        var _this = this;\n        return this.document.open(function(error) {\n          if (error) {\n            _this.maybeClose();\n            return _this.trigger(\"share:open:error\", error, _this);\n          } else {\n            if (_this.document.get() === null) _this.document.set(new Object);\n            return _this.didOpen();\n          }\n        });\n      }\n    });\n    def({\n      didOpen: function() {\n        this.loadEmbeddedData();\n        this.bindRemoteOperationHandler();\n        return this.trigger(\"ready\");\n      }\n    });\n    def({\n      eachEmbed: function(fn) {\n        var key, value, _ref, _results;\n        _ref = this.document.get();\n        _results = [];\n        for (key in _ref) {\n          value = _ref[key];\n          _results.push(fn.call(this, key, value));\n        }\n        return _results;\n      }\n    });\n    def({\n      loadEmbeddedData: function() {\n        this.eachEmbed(function(path, data) {\n          var constructor, datum, id, _results;\n          if (!this.document.at(path).get()) {\n            this.document.at(path).set(new Object);\n          }\n          constructor = AS.loadPath(path);\n          _results = [];\n          for (id in data) {\n            datum = data[id];\n            _results.push(constructor.find(id, {\n              skipCallbacks: true\n            }));\n          }\n          return _results;\n        });\n        this.eachEmbed(function(path, data) {\n          var constructor, datum, id, model, _results;\n          constructor = AS.loadPath(path);\n          _results = [];\n          for (id in data) {\n            datum = data[id];\n            model = constructor.find(id);\n            _results.push(this.register(model, datum));\n          }\n          return _results;\n        });\n        this.eachEmbed(function(path, data) {\n          var constructor, datum, id, _results;\n          constructor = AS.loadPath(path);\n          _results = [];\n          for (id in data) {\n            datum = data[id];\n            _results.push(constructor.find(id).runCallbacks(\"afterInitialize\"));\n          }\n          return _results;\n        });\n        if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n      }\n    });\n    def({\n      modelDocument: function(model) {\n        return this.constructorGroup(model.constructor).at(model.id);\n      }\n    });\n    def({\n      constructorGroup: function(constructor) {\n        var constructorGroup;\n        constructorGroup = this.document.at(constructor.path());\n        if (!constructorGroup.get()) constructorGroup.set(new Object);\n        return constructorGroup;\n      }\n    });\n    def({\n      register: function(model, data) {\n        var _this = this;\n        if (data == null) data = {};\n        if (this.registrations.include(model)) return;\n        this.registrations.add(model);\n        console.log(\"[share] register\", model.toString(), model.id);\n        model.share = this.modelDocument(model);\n        if (!model.share.get()) model.share.set(new Object);\n        this.binds(model, \"destroy\", function() {\n          this.unbind(model);\n          return this.registrations.remove(model);\n        });\n        each(model.properties(), function(property) {\n          var current;\n          if (!property.syncWith) return;\n          property.syncWith(model.share, data[property.options.name]);\n          if (property.constructor === AS.Model.HasMany.Instance) {\n            property.each(function(item) {\n              return _this.register(item);\n            });\n            return _this.binds(property, \"add\", function(item) {\n              return _this.register(item, item.payload());\n            });\n          } else {\n            if (current = property.get()) {\n              console.log(\"currentValue\", current.toString());\n              if (current instanceof AS.Model) {\n                _this.register(current, current.payload());\n              }\n            }\n            return _this.binds(property, \"change\", function() {\n              var value;\n              value = property.get();\n              if (value instanceof AS.Model) {\n                return this.register(value, value.payload());\n              }\n            });\n          }\n        });\n      }\n    });\n    def({\n      bindRemoteOperationHandler: function() {\n        return this.document.on(\"remoteop\", bind(this.remoteOperationHandler, this));\n      }\n    });\n    NUMBER_ADD = \"na\";\n    STRING_INSERT = \"si\";\n    STRING_DELETE = \"sd\";\n    LIST_INSERT = \"li\";\n    LIST_DELETE = \"ld\";\n    LIST_MOVE = \"lm\";\n    OBJECT_INSERT = \"oi\";\n    OBJECT_DELETE = \"od\";\n    def({\n      remoteOperationHandler: function(operation) {\n        var change, path, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = operation.length; _i < _len; _i++) {\n          change = operation[_i];\n          console.log(\"remoteop change\", change);\n          path = change.p;\n          if (path.length === 1) {\n            _results.push(this.remoteClassOperation(change, path));\n          } else if (path.length === 2) {\n            _results.push(this.remoteInstanceOperation(change, path));\n          } else {\n            _results.push(this.remotePropertyOperation(change, path));\n          }\n        }\n        return _results;\n      }\n    });\n    def({\n      remoteClassOperation: function(change, path) {\n        var constructor, id, object, objects, _len, _results;\n        constructor = AS.loadPath(path[0]);\n        if (change[OBJECT_INSERT] != null) {\n          objects = this.document.at(path.slice(0, 2)).get();\n          _results = [];\n          for (object = 0, _len = objects.length; object < _len; object++) {\n            id = objects[object];\n            _results.push(this.register(constructor.find(id), object));\n          }\n          return _results;\n        }\n      }\n    });\n    def({\n      remoteInstanceOperation: function(change, path) {\n        var constructor, id, object;\n        constructor = AS.loadPath(path[0]);\n        id = path[1];\n        if (change[OBJECT_INSERT] != null) {\n          object = this.document.at(path.slice(0, 2)).get();\n          return this.register(constructor.find(id), object);\n        } else if (change[OBJECT_DELETE] != null) {\n          return constructor.find(id).destroy();\n        }\n      }\n    });\n    def({\n      remotePropertyOperation: function(change, path) {\n        var constructor, constructorPath, property, propertyName, record, recordId,\n          _this = this;\n        constructorPath = path[0];\n        constructor = AS.loadPath(constructorPath);\n        recordId = path[1];\n        propertyName = path[2];\n        record = constructor.find(recordId);\n        property = record[propertyName];\n        return property.shareSynapse.block(function() {\n          var value;\n          if (change[NUMBER_ADD] != null) {\n            _this.log(function() {\n              return [\"remote number add\"];\n            });\n          } else if (change[STRING_INSERT] != null) {\n            value = _this.document.at(path.slice(0, 3)).get();\n            property.synapse.set(value);\n            _this.log(function() {\n              return [\"remote string insert\", property, path.slice(0, 3), value];\n            });\n          } else if (change[STRING_DELETE] != null) {\n            value = _this.document.at(path.slice(0, 3)).get();\n            property.synapse.set(value);\n            _this.log(function() {\n              return [\"remote string delete\", property, path.slice(0, 3), value];\n            });\n          } else if ((change[LIST_INSERT] != null) && (change[LIST_DELETE] != null)) {\n            _this.log(function() {\n              return [\"remote list replace\"];\n            });\n          } else if (change[LIST_INSERT] != null) {\n            property.synapse.insert(change.li, {\n              at: path[3]\n            });\n            _this.log(function() {\n              return [\"remote list insert\", property, change.li, path[3]];\n            });\n          } else if (change[LIST_DELETE] != null) {\n            property.synapse.remove(AS.All.byId[change.ld], {\n              at: path[3]\n            });\n            _this.log(function() {\n              return [\"remote list delete\", property, change.li, path[3]];\n            });\n          } else if (change[LIST_MOVE] != null) {\n            _this.log(function() {\n              return [\"remote list move\"];\n            });\n          } else if ((change[OBJECT_INSERT] != null) && (change[OBJECT_DELETE] != null)) {\n            property.synapse.set(value);\n            _this.log(function() {\n              return [\"remote object replace\", property, value, path.slice(0, 4)];\n            });\n          } else if (change[OBJECT_INSERT] != null) {\n            value = _this.document.at(path.slice(0, 4)).get();\n            property.synapse.set(value);\n            _this.log(function() {\n              return [\"remote object insert\", property, value, path.slice(0, 4)];\n            });\n          } else if (change[OBJECT_DELETE] != null) {\n            property.synapse.set(null);\n            _this.log(function() {\n              return [\"remote object delete\", property, value, path.slice(0, 4)];\n            });\n          }\n          if (Taxi.Governer.currentLoop) return Taxi.Governer.exit();\n        });\n      }\n    });\n    def({\n      log: function(fn) {\n        var data, event, _ref;\n        _ref = fn(), event = _ref[0], data = 2 <= _ref.length ? __slice.call(_ref, 1) : [];\n        return console.log(\"[\" + event + \"] \" + (data.join(',')));\n      }\n    });\n    def({\n      binds: function(model, event, handler) {\n        return model.bind({\n          namespace: this.objectId(),\n          event: event,\n          handler: handler,\n          context: this\n        });\n      }\n    });\n    return def({\n      unbind: function(model) {\n        var property, _i, _len, _ref, _results;\n        model.unbind(\".\" + (this.objectId()));\n        _ref = model.properties();\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          property = _ref[_i];\n          _results.push(property.unbind(\".\" + (this.objectId())));\n        }\n        return _results;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/share");minispade.register('alpha_simprini/core/model/store', "(function() {(function() {\n  var clone, extend;\n\n  extend = _.extend, clone = _.clone;\n\n  AS.Model.Store = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    include(Taxi.Mixin);\n    def({\n      initialize: function(_arg2) {\n        this.adapterClass = _arg2.adapterClass, this.adapterConfig = _arg2.adapterConfig;\n        if (this.adapterConfig == null) this.adapterConfig = {};\n        return this.adapterConfig.store = this;\n      }\n    });\n    def({\n      adapterFor: function(options) {\n        return this.adapterClass[\"new\"](extend(clone(this.adapterConfig), options));\n      }\n    });\n    return def({\n      load: function(constructor, id) {\n        var model;\n        model = constructor.find(id);\n        this.adapterFor({\n          model: model\n        }).open();\n        return model;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/store");minispade.register('alpha_simprini/core/model/synapse', "(function() {(function() {\n\n  AS.Model.AbstractSynapse = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      create: function(raw) {\n        if (raw.constructor.Synapse) {\n          return raw.constructor.Synapse[\"new\"](raw);\n        } else {\n          return null;\n        }\n      }\n    });\n    def({\n      initialize: function(raw) {\n        this.raw = raw;\n        this.namespace = \".\" + (_.uniqueId('s'));\n        this.observations = [];\n        return this.notifications = [];\n      }\n    });\n    def({\n      observe: function(other, config) {\n        if (config == null) config = {};\n        if (config.syncNow == null) config.syncNow = true;\n        if (config.bindEvents == null) config.bindEvents = false;\n        return this.observations.push(this.dendriteClass[\"new\"](this, other, config));\n      }\n    });\n    def({\n      notify: function(other, config) {\n        if (config == null) config = {};\n        if (config.syncNow == null) config.syncNow = false;\n        return this.notifications.push(this.dendriteClass[\"new\"](other, this, config));\n      }\n    });\n    def({\n      block: function(fn) {\n        this.blocking = true;\n        fn();\n        return this.blocking = void 0;\n      }\n    });\n    def({\n      stopObserving: function(other) {\n        _(this.observations).invoke('off');\n        return this.observations = [];\n      }\n    });\n    return def({\n      stopNotifying: function(other) {\n        _(this.notifications).invoke('off');\n        return this.notifications = [];\n      }\n    });\n  });\n\n  AS.Model.Synapse = AS.Model.AbstractSynapse.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.prototype.dendriteClass = AS.Model.Dendrite;\n    def({\n      binds: AS.unimplemented(\"binds: (callback) ->\")\n    });\n    def({\n      unbinds: AS.unimplemented(\"unbinds: (callback) ->\")\n    });\n    def({\n      get: AS.unimplemented(\"get: ->\")\n    });\n    return def({\n      set: AS.unimplemented(\"set: (value) ->\")\n    });\n  });\n\n  AS.Model.CollectionSynapse = AS.Model.AbstractSynapse.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.prototype.dendriteClass = AS.Model.CollectionDendrite;\n    def({\n      binds: AS.unimplemented(\"binds: (insertCallback, removeCallback) ->\")\n    });\n    def({\n      unbinds: AS.unimplemented(\"unbinds: (insertCallback, removeCallback) ->\")\n    });\n    def({\n      insert: AS.unimplemented(\"insert: (item, options) ->\")\n    });\n    def({\n      remove: AS.unimplemented(\"remove: (item) ->\")\n    });\n    def({\n      set: function(list) {\n        var item, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = list.length; _i < _len; _i++) {\n          item = list[_i];\n          _results.push(this.insert(item));\n        }\n        return _results;\n      }\n    });\n    return def({\n      each: AS.unimplemented(\"each: (fn) ->\")\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/model/synapse");minispade.register('alpha_simprini/core/models/file', "(function() {(function() {\n  var camelize;\n\n  camelize = fleck.upperCamelize;\n\n  AS.Models.File = AS.Model.extend(function(_arg) {\n    var MIME, MIME_FAMILY, MIME_TYPES, def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      familyClasses: AS.Map[\"new\"](function() {\n        return this;\n      })\n    });\n    defs({\n      registerFamilyClass: function(mimeFamily, klass) {\n        return this.familyClasses.set(mimeFamily, klass);\n      }\n    });\n    MIME_TYPES = {\n      \"png\": \"image/png\",\n      \"jpg\": \"image/jpeg\",\n      \"jpeg\": \"image/jpeg\",\n      \"gif\": \"image/gif\"\n    };\n    MIME = function(path) {\n      var file;\n      file = $.url(path).attr(\"file\");\n      return MIME_TYPES[file.split(\".\")[1]];\n    };\n    MIME_FAMILY = /^(.*)\\/(.*)$/;\n    defs({\n      classForMimeType: function(mime) {\n        var family;\n        family = mime.match(MIME_FAMILY)[1];\n        return this.familyClasses.get(family);\n      }\n    });\n    this.property(\"file\");\n    this.field(\"name\");\n    this.field(\"bytes\");\n    this.field(\"mime\");\n    this.field(\"url\");\n    defs({\n      build: function(source) {\n        if (_.isString(source)) {\n          return this.build_from_url(source);\n        } else if (source instanceof this.prototype.File) {\n          return this.build_from_filereader(source);\n        }\n      }\n    });\n    defs({\n      build_from_filereader: function(file) {\n        return this.classForMimeType(file.type)[\"new\"]({\n          file: file\n        });\n      }\n    });\n    def({\n      initialize: function() {\n        var file;\n        this._super.apply(this, arguments);\n        if (file = this.file.get()) {\n          this.name.set(file.name);\n          this.bytes.set(file.size);\n          return this.mime.set(file.type);\n        }\n      }\n    });\n    this.prototype.initialize.doc = {\n      desc: \"\"\n    };\n    def({\n      read: function(callback) {\n        if (this.file.get()) return this.readFile(callback);\n      }\n    });\n    this.prototype.read.doc = {\n      params: [[\"callback\", Function, true]],\n      desc: \"\"\n    };\n    def({\n      readFile: function(callback) {\n        var reader;\n        reader = new this.FileReader;\n        reader.onload = function(event) {\n          this.dataURL = event.target.result;\n          return callback(this.dataURL);\n        };\n        reader.readAsDataURL(this.file.get());\n        return callback;\n      }\n    });\n    this.prototype.readFile.doc = {\n      params: [[\"callback\", Function, true]],\n      desc: \"\"\n    };\n    def({\n      upload: function() {\n        var formdata,\n          _this = this;\n        formdata = new FormData;\n        formdata.append(\"image[image]\", this.file.get());\n        console.log(formdata);\n        return $.ajax({\n          url: \"/images\",\n          type: \"POST\",\n          data: formdata,\n          processData: false,\n          contentType: false,\n          error: function() {\n            return AS.error(\"POST /images failed\", _this);\n          },\n          success: function(data, status, xhr) {\n            _this.url.set(xhr.getResponseHeader(\"Location\"));\n            return _this.trigger(\"uploaded\");\n          }\n        });\n      }\n    });\n    return this.prototype.upload.doc = {\n      desc: \"\"\n    };\n  });\n\n  if (typeof FileReader !== 'undefined') {\n    AS.Models.File.prototype.FileReader = FileReader;\n  }\n\n  if (typeof File !== 'undefined') AS.Models.File.prototype.File = File;\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/models/file");minispade.register('alpha_simprini/core/models/group', "(function() {(function() {\n\n  AS.Models.Group = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.property(\"metaData\");\n    this.field(\"name\");\n    this.hasMany(\"members\");\n    return this.virtualProperties('members', {\n      membersCount: function() {\n        return this.members.backingCollection.length;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/models/group");minispade.register('alpha_simprini/core/models/grouping', "(function() {(function() {\n\n  AS.Models.Grouping = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.hasMany('groups');\n    def({\n      initialize: function(backingCollection, groupByProperty, metaData) {\n        var _this = this;\n        this.backingCollection = backingCollection;\n        this.groupByProperty = groupByProperty;\n        this.metaData = metaData != null ? metaData : {};\n        this._super();\n        this.groupMap = AS.Map[\"new\"]();\n        this.itemMap = AS.Map[\"new\"]();\n        this.backingCollection.bind({\n          event: \"add\",\n          handler: this.addToGroup,\n          context: this\n        });\n        this.backingCollection.bind({\n          event: \"remove\",\n          handler: this.removeFromGroup,\n          context: this\n        });\n        this.backingCollection.bind({\n          event: \"change:\" + this.groupByProperty,\n          handler: this.determineNewGroup,\n          context: this\n        });\n        return this.backingCollection.each(function(item) {\n          return _this.addToGroup(item);\n        });\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\"@backingCollection\", AS.Collection, true], [\"@groupByProperty\", String, true], [\n          \"@metaData\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      addToGroup: function(item) {\n        var group, name, _ref;\n        name = (_ref = item[this.groupByProperty].get()) != null ? _ref : \"default\";\n        if (!(group = this.groupMap.get(name))) {\n          group = AS.Models.Group[\"new\"]({\n            name: name,\n            metaData: this.metaData\n          });\n          this.groups.add(group);\n          this.groupMap.set(name, group);\n        }\n        this.itemMap.set(item, group);\n        return group.members.add(item);\n      }\n    });\n    this.prototype.addToGroup.doc = {\n      params: [[\"item\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      removeFromGroup: function(item) {\n        var group;\n        if (!(group = this.itemMap.get(item))) return;\n        return group.members.remove(item);\n      }\n    });\n    this.prototype.removeFromGroup.doc = {\n      params: [[\"item\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      determineNewGroup: function(item) {\n        this.removeFromGroup(item);\n        return this.addToGroup(item);\n      }\n    });\n    return this.prototype.determineNewGroup.doc = {\n      params: [[\"item\", AS.Model, true]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/models/grouping");minispade.register('alpha_simprini/core/models/multiple_selection_model', "(function() {(function() {\n\n  AS.Models.MultipleSelectionModel = AS.Model.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    this.hasMany(\"items\");\n    def({\n      initialize: function(options) {\n        var _this = this;\n        if (options == null) options = {};\n        this.property = options.property;\n        this._super();\n        this.items.bind(\"add\", function(item) {\n          return _this.trigger(\"add\", item);\n        });\n        return this.items.bind(\"remove\", function(item) {\n          return _this.trigger(\"remove\", item);\n        });\n      }\n    });\n    this.prototype.initialize.doc = {\n      desc: \"\"\n    };\n    def({\n      select: function(item) {\n        var _ref;\n        if (this.property) {\n          if ((_ref = item[this.property]) != null) _ref.set(true);\n        }\n        return this.items.add(item);\n      }\n    });\n    this.prototype.select.doc = {\n      params: [[\"item\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      deselect: function(item) {\n        var _ref;\n        if (this.property) {\n          if ((_ref = item[this.property]) != null) _ref.set(null);\n        }\n        return this.items.remove(item);\n      }\n    });\n    this.prototype.deselect.doc = {\n      params: [[\"item\", AS.Model, true]],\n      desc: \"\"\n    };\n    def({\n      clear: function() {\n        var _this = this;\n        return this.items.each(function(item) {\n          var _ref;\n          _this.items.remove(item);\n          if (_this.property) {\n            return (_ref = item[_this.property]) != null ? _ref.set(null) : void 0;\n          }\n        });\n      }\n    });\n    return this.prototype.clear.doc = {\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/models/multiple_selection_model");minispade.register('alpha_simprini/core/models/radio_selection_model', "(function() {(function() {\n\n  AS.Models.RadioSelectionModel = AS.Model.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    this.property('selected');\n    def({\n      initialize: function(options) {\n        if (options == null) options = {};\n        this.property = options.property;\n        delete options.property;\n        this._super.apply(this, arguments);\n        return this.select(void 0);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\n          \"options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      select: function(item) {\n        var _ref, _ref2, _ref3;\n        if (this.property) {\n          if ((_ref = this.selected.get()) != null) {\n            if ((_ref2 = _ref.model[this.property]) != null) _ref2.set(null);\n          }\n          if (item != null) {\n            if ((_ref3 = item.model[this.property]) != null) _ref3.set(true);\n          }\n        }\n        return this.selected.set(item);\n      }\n    });\n    return this.prototype.select.doc = {\n      params: [[\"item\", \"*\", true]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/models/radio_selection_model");minispade.register('alpha_simprini/core/properties/belongs_to', "(function() {(function() {\n\n  AS.Model.BelongsTo = AS.Model.HasOne.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n  });\n\n  AS.Model.BelongsTo.Instance = AS.Model.HasOne.Instance.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      bindToValue: function(value) {\n        var _this = this;\n        this._super.apply(this, arguments);\n        return value.bind(\"destroy\" + this.namespace, function() {\n          if (_this.options.dependant === \"destroy\") {\n            return _this.object.destroy();\n          } else {\n            return _this.set(null);\n          }\n        });\n      }\n    });\n    this.Synapse = AS.Model.Field.Instance.Synapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        get: function() {\n          return this.raw.get();\n        }\n      });\n      return def({\n        set: function(value) {\n          return this.raw.set(value);\n        }\n      });\n    });\n    return this.ShareSynapse = AS.Model.Field.Instance.ShareSynapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        get: function() {\n          return this.raw.at(this.path).get();\n        }\n      });\n      return def({\n        set: function(value) {\n          if (value != null ? value.id : void 0) {\n            return this._super(value != null ? value.id : void 0);\n          }\n        }\n      });\n    });\n  });\n\n  AS.Model.defs({\n    belongsTo: function(name, options) {\n      return AS.Model.BelongsTo[\"new\"](name, this, options);\n    }\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/properties/belongs_to");minispade.register('alpha_simprini/core/properties/field', "(function() {(function() {\n  var isBoolean, isString,\n    __slice = Array.prototype.slice;\n\n  isBoolean = _.isBoolean, isString = _.isString;\n\n  AS.Model.Enum = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value, options) {\n        return options.values[value];\n      }\n    });\n    return defs({\n      write: function(value, options) {\n        return options.values.indexOf(value);\n      }\n    });\n  });\n\n  AS.Model.String = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value) {\n        if (value != null) return String(value);\n      }\n    });\n    return defs({\n      write: function(value) {\n        if (value != null) return String(value);\n      }\n    });\n  });\n\n  AS.Model.Number = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value) {\n        if (value != null) return Number(value);\n      }\n    });\n    return defs({\n      write: function(value) {\n        if (value != null) return String(value);\n      }\n    });\n  });\n\n  AS.Model.Date = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value) {\n        if (isString(value)) {\n          return new Date(value);\n        } else {\n          return value;\n        }\n      }\n    });\n    return defs({\n      write: function(value) {\n        if (value instanceof Date) {\n          return value.toJSON();\n        } else {\n          return value;\n        }\n      }\n    });\n  });\n\n  AS.Model.Boolean = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value) {\n        if (isBoolean(value)) return value;\n        if (value === \"true\") return true;\n        if (value === \"false\") return false;\n        return false;\n      }\n    });\n    return defs({\n      write: function(value) {\n        if (value === \"true\" || value === true) return \"true\";\n        if (value === \"false\" || value === false) return \"false\";\n        return \"false\";\n      }\n    });\n  });\n\n  AS.Model.TokenList = AS.Object.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      read: function(value) {\n        return value.split(\",\");\n      }\n    });\n    return defs({\n      write: function(value) {\n        return value.join(\",\");\n      }\n    });\n  });\n\n  AS.Model.Field = AS.Property.extend(function(_arg) {\n    var Casters, def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    defs({\n      Casters: AS.Map[\"new\"]()\n    });\n    Casters = this.Casters;\n    Casters.set(AS.Model.String, AS.Model.String);\n    Casters.set(AS.Model.Number, AS.Model.Number);\n    Casters.set(AS.Model.Date, AS.Model.Date);\n    Casters.set(AS.Model.Boolean, AS.Model.Boolean);\n    Casters.set(AS.Model.Enum, AS.Model.Enum);\n    def({\n      initialize: function(name, _constructor, options) {\n        var _base;\n        this.name = name;\n        this._constructor = _constructor;\n        this.options = options != null ? options : {};\n        this.options.name = this.name;\n        if ((_base = this.options).type == null) _base.type = AS.Model.String;\n        return this._constructor.writeInheritableValue('properties', this.name, this);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\"@name\", String, true], [\"@_constructor\", AS.Model, true], [\n          \"@options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      instance: function(object) {\n        return this.constructor.Instance[\"new\"](object, this.options);\n      }\n    });\n    this.prototype.instance.doc = {\n      params: [[\"object\", AS.Model, true]],\n      desc: \"\"\n    };\n    return this.Instance = AS.Property.Instance.extend(function(_arg2) {\n      var def;\n      def = _arg2.def;\n      def({\n        initialize: function(object, options) {\n          var _base, _ref;\n          this.object = object;\n          this.options = options != null ? options : {};\n          return (_ref = (_base = this.options).type) != null ? _ref : _base.type = AS.Model.String;\n        }\n      });\n      this.prototype.initialize.doc = {\n        params: [\n          [\"@object\", AS.Model, true], [\n            \"@options\", Object, false, {\n              \"default\": true\n            }\n          ]\n        ],\n        desc: \"\"\n      };\n      def({\n        syncWith: function(share) {\n          var shareValue;\n          this.share = share.at(this.options.name);\n          if (shareValue = this.share.get()) this.set(shareValue);\n          this.stopSync();\n          this.synapse = this.constructor.Synapse[\"new\"](this);\n          this.shareSynapse = this.constructor.ShareSynapse[\"new\"](share, this.options.name);\n          return this.synapse.notify(this.shareSynapse);\n        }\n      });\n      this.prototype.syncWith.doc = {\n        params: [[\"share\", \"ShareJS.Doc\", true]],\n        desc: \"\"\n      };\n      def({\n        stopSync: function() {\n          var _ref;\n          return (_ref = this.synapse) != null ? _ref.stopNotifying() : void 0;\n        }\n      });\n      this.prototype.stopSync.doc = {\n        desc: \"\"\n      };\n      def({\n        get: function() {\n          var value;\n          if (this.value !== void 0) {\n            return value = Casters.get(this.options.type).read(this.value, this.options);\n          } else {\n            return this.options[\"default\"];\n          }\n        }\n      });\n      this.prototype.get.doc = {\n        \"return\": \"*\",\n        desc: \"\"\n      };\n      def({\n        set: function(value) {\n          var writeValue;\n          writeValue = Casters.get(this.options.type).write(value, this.options);\n          if (writeValue === this.value) return this.value;\n          this.value = writeValue;\n          this.object.trigger(\"change\");\n          this.object.trigger(\"change:\" + this.options.name);\n          this.trigger(\"change\");\n          this.triggerDependants();\n          return this.value;\n        }\n      });\n      this.prototype.set.doc = {\n        params: [[\"value\", \"*\", true]],\n        desc: \"\"\n      };\n      this.Synapse = AS.Model.Synapse.extend(function(_arg3) {\n        var def, defs, delegate, include;\n        delegate = _arg3.delegate, include = _arg3.include, def = _arg3.def, defs = _arg3.defs;\n        delegate('get', 'set', {\n          to: 'raw'\n        });\n        def({\n          binds: function(callback) {\n            return this.raw.bind(\"change\", callback);\n          }\n        });\n        return def({\n          unbinds: function(callback) {\n            return this.raw.unbind(\"change\", callback);\n          }\n        });\n      });\n      return this.ShareSynapse = AS.Model.Synapse.extend(function(_arg3) {\n        var def, defs, delegate, include;\n        delegate = _arg3.delegate, include = _arg3.include, def = _arg3.def, defs = _arg3.defs;\n        def({\n          initialize: function() {\n            var path, raw;\n            raw = arguments[0], path = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n            this.raw = raw;\n            this.path = path;\n            return this._super.apply(this, arguments);\n          }\n        });\n        def({\n          get: function() {\n            return this.raw.at(this.path).get();\n          }\n        });\n        def({\n          set: function(value) {\n            var current, length, raw;\n            raw = this.raw.at(this.path);\n            if ((current = raw.get()) === void 0) raw.set(\"\");\n            if (current === value) return;\n            if (current) {\n              length = current.length;\n              raw.del(0, length);\n              return raw.insert(0, value.toString());\n            } else if (value) {\n              return raw.insert(0, value.toString());\n            } else if (current) {\n              return raw.del(0, current.toString().length);\n            }\n          }\n        });\n        def({\n          binds: function(callback) {\n            return this.listeners = [];\n          }\n        });\n        return def({\n          unbinds: function(callback) {\n            var listener, _i, _len, _ref;\n            _ref = this.listeners;\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n              listener = _ref[_i];\n              this.raw.removeListener(listener);\n            }\n            return this.listeners = [];\n          }\n        });\n      });\n    });\n  });\n\n  AS.Model.defs({\n    field: function(name, options) {\n      return AS.Model.Field[\"new\"](name, this, options);\n    }\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/properties/field");minispade.register('alpha_simprini/core/properties/has_many', "(function() {(function() {\n  var any, clone, each, include,\n    __indexOf = Array.prototype.indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n    __slice = Array.prototype.slice;\n\n  include = _.include, any = _.any, each = _.each, clone = _.clone;\n\n  AS.Model.HasMany = AS.Model.Field.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    return def({\n      couldBe: function(test) {\n        var _base, _ref;\n        if (_ref = typeof (_base = this.options).model === \"function\" ? _base.model() : void 0, __indexOf.call(test.ancestors || [], _ref) >= 0) {\n          return true;\n        }\n        return this._super.apply(this, arguments);\n      }\n    });\n  });\n\n  AS.Model.HasMany.Instance = AS.Model.Field.Instance.extend(function(_arg) {\n    var def, delegate;\n    def = _arg.def, delegate = _arg.delegate;\n    delegate(AS.COLLECTION_DELEGATES, {\n      to: \"backingCollection\"\n    });\n    delegate('groupBy', 'bind', 'trigger', 'unbind', {\n      to: \"backingCollection\"\n    });\n    def({\n      inspect: function() {\n        return \"\" + this.options.name + \": [\" + this.backingCollection.length + \"]}\";\n      }\n    });\n    this.prototype.inspect.doc = {\n      \"return\": String,\n      desc: \"\"\n    };\n    def({\n      initialize: function(object, options) {\n        var _this = this;\n        this.object = object;\n        this.options = options != null ? options : {};\n        this.model = this.options.model;\n        if (this.options.inverse) this.options.source = this.object;\n        this.backingCollection = AS.Collection[\"new\"](void 0, this.options);\n        this.bind('change', (function() {\n          return _this.triggerDependants();\n        }), this);\n        if (this.options.dependant === \"destroy\") {\n          return this.object.bind(\"destroy\", function() {\n            return _this.backingCollection.invoke(\"destroy\");\n          });\n        }\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [\n        [\"@object\", AS.Model, true], [\n          \"@options\", Object, false, {\n            \"default\": {}\n          }\n        ]\n      ],\n      desc: \"\"\n    };\n    def({\n      syncWith: function(share) {\n        var alreadyThere, fromShare, item, _i, _len,\n          _this = this;\n        this.share = share.at(this.options.name);\n        this.stopSync();\n        this.synapse = this.constructor.Synapse[\"new\"](this);\n        this.shareSynapse = this.constructor.ShareSynapse[\"new\"](share, this.options.name);\n        alreadyThere = clone(this.backingCollection.models.value());\n        if (fromShare = this.share.get()) {\n          for (_i = 0, _len = fromShare.length; _i < _len; _i++) {\n            item = fromShare[_i];\n            if (this.backingCollection.include(item).value()) continue;\n            this.add(item);\n          }\n        }\n        if (any(alreadyThere)) {\n          this.synapse.block(function() {\n            return each(alreadyThere, function(item) {\n              return _this.shareSynapse.insert(item, {});\n            });\n          });\n        }\n        return Taxi.Governer.react(this, function() {\n          return _this.synapse.notify(_this.shareSynapse);\n        });\n      }\n    });\n    this.prototype.syncWith.doc = {\n      params: [[\"share\", \"ShareJS.Doc\", true]],\n      desc: \"\"\n    };\n    def({\n      objects: function(test) {\n        var model, _i, _len, _ref, _results;\n        if (include(test != null ? test.ancestors : void 0, AS.Model)) {\n          _ref = this.backingCollection.models.value();\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            model = _ref[_i];\n            if (model instanceof test) _results.push(model);\n          }\n          return _results;\n        } else {\n          return this.backingCollection.models.value();\n        }\n      }\n    });\n    this.prototype.objects.doc = {\n      \"return\": [AS.Model],\n      desc: \"\"\n    };\n    def({\n      bindToPathSegment: function(segment) {\n        segment.binds(this, \"add\", segment.insertCallback);\n        segment.binds(this, \"remove\", segment.removeCallback);\n        return segment.binds(this, \"change\", segment.changeCallback);\n      }\n    });\n    this.prototype.bindToPathSegment.doc = {\n      params: [[\"segment\", Taxi.Segment, true]],\n      desc: \"\"\n    };\n    def({\n      set: function(models) {\n        var model, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = models.length; _i < _len; _i++) {\n          model = models[_i];\n          _results.push(this.backingCollection.add(model));\n        }\n        return _results;\n      }\n    });\n    this.prototype.set.doc = {\n      params: [[\"models\", [[AS.Model, String, Object]], true]],\n      desc: \"\"\n    };\n    def({\n      add: function(model, options) {\n        var added;\n        added = this.backingCollection.add(model, options);\n        this.triggerDependants();\n        return added;\n      }\n    });\n    this.prototype.add.doc = {\n      params: [[\"model\", AS.Model, true], [\"options\", Object, false]],\n      desc: \"\"\n    };\n    def({\n      at: function(index) {\n        return this.backingCollection.at.apply(this.backingCollection, arguments);\n      }\n    });\n    this.prototype.at.doc = {\n      params: [[\"index\", Number, true]],\n      \"return\": [AS.Model, void 0],\n      desc: \"\"\n    };\n    def({\n      remove: function(model) {\n        var removed;\n        removed = this.backingCollection.remove.apply(this.backingCollection, arguments);\n        this.triggerDependants();\n        return removed;\n      }\n    });\n    this.prototype.remove.doc = {\n      params: [[\"model\", AS.Model, true]],\n      \"return\": AS.Model,\n      desc: \"\"\n    };\n    def({\n      pluck: function(key) {\n        return this.map(function(item) {\n          return item[key].get();\n        });\n      }\n    });\n    this.prototype.pluck.doc = {\n      params: [[\"key\", String, true]],\n      \"return\": [\"*\"],\n      desc: \"\"\n    };\n    def({\n      any: function() {\n        return this.count() > 0;\n      }\n    });\n    this.prototype.any.doc = {\n      \"return\": \"Boolean\",\n      desc: \"Returns true if there are 1 or more items in the collection.\"\n    };\n    def({\n      count: function() {\n        return this.backingCollection.length;\n      }\n    });\n    this.prototype.count.doc = {\n      \"return\": \"Number\",\n      desc: \"Returns the number of items in the collection.\"\n    };\n    def({\n      rawValue: function() {\n        return this.backingCollection.pluck('id').value();\n      }\n    });\n    this.Synapse = AS.Model.CollectionSynapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        insert: function(item, options) {\n          return this.raw.add(item, options);\n        }\n      });\n      def({\n        remove: function(item, options) {\n          return this.raw.remove(this.raw.at(options.at));\n        }\n      });\n      def({\n        binds: function(insertCallback, removeCallback) {\n          this.raw.bind(\"add\" + this.namespace, function(model, collection, options) {\n            return insertCallback(model, options);\n          });\n          return this.raw.bind(\"remove\" + this.namespace, function(model, collection, options) {\n            return removeCallback(model, options);\n          });\n        }\n      });\n      def({\n        each: function(fn) {\n          return this.raw.each(fn);\n        }\n      });\n      return def({\n        unbinds: function() {\n          return this.raw.unbind(this.namespace);\n        }\n      });\n    });\n    return this.ShareSynapse = AS.Model.CollectionSynapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        initialize: function() {\n          var path, raw;\n          raw = arguments[0], path = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n          this.raw = raw;\n          this.path = path;\n          return this._super.apply(this, arguments);\n        }\n      });\n      def({\n        binds: function(insertCallback, removeCallback) {\n          var raw;\n          raw = this.raw.at(this.path);\n          return this.listeners = [];\n        }\n      });\n      def({\n        unbinds: function() {\n          var listener, _i, _len, _ref, _results;\n          _ref = this.listeners;\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            listener = _ref[_i];\n            _results.push(this.raw.removeListener(listener));\n          }\n          return _results;\n        }\n      });\n      def({\n        insert: function(model, options) {\n          var _ref, _ref2;\n          if ((_ref = this.raw.at(this.path).get()) === null || _ref === (void 0)) {\n            this.raw.at(this.path).set([]);\n          }\n          if (options.at == null) options.at = this.raw.at(this.path).get().length;\n          if (_ref2 = model.id, __indexOf.call(this.raw.at(this.path).get(), _ref2) >= 0) {\n            AS.warn(\"Attempted to add\", model, \"(again) to share at path:\", this.path);\n            return;\n          }\n          return this.raw.at(this.path).insert(options.at, model.id);\n        }\n      });\n      def({\n        remove: function(model, options) {\n          this.raw.at(this.path.concat([options.at])).remove();\n          if (!any(this.raw.at(this.path).get())) {\n            return this.raw.at(this.path).remove();\n          }\n        }\n      });\n      return def({\n        each: function(fn) {\n          return _.each(this.raw.at(this.path).get(), fn);\n        }\n      });\n    });\n  });\n\n  AS.Model.defs({\n    hasMany: function(name, options) {\n      return AS.Model.HasMany[\"new\"](name, this, options);\n    }\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/properties/has_many");minispade.register('alpha_simprini/core/properties/has_one', "(function() {(function() {\n  var __indexOf = Array.prototype.indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  AS.Model.HasOne = AS.Model.Field.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      couldBe: function(test) {\n        var _base;\n        if (__indexOf.call(typeof (_base = this.options).model === \"function\" ? _base.model().ancestors : void 0, test) >= 0) {\n          return true;\n        }\n        return this._super.apply(this, arguments);\n      }\n    });\n    return this.prototype.couldBe.doc = {\n      params: [[\"test\", void 0, true]],\n      desc: \"\"\n    };\n  });\n\n  AS.Model.HasOne.Instance = AS.Model.Field.Instance.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(object, options) {\n        var _base,\n          _this = this;\n        this.object = object;\n        this.options = options;\n        if ((_base = this.options).model == null) {\n          _base.model = function() {\n            return AS.Model;\n          };\n        }\n        this.model = this.options.model;\n        this.namespace = \".\" + (_.uniqueId());\n        this._super.apply(this, arguments);\n        this.bind(\"destroy\", function() {\n          return _this.set(null);\n        });\n        if (this.options.dependant === \"destroy\") {\n          return this.object.bind(\"destroy\" + this.namespace, function() {\n            var _ref;\n            return (_ref = _this.value) != null ? _ref.destroy() : void 0;\n          });\n        }\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[\"@object\", AS.Model, true], [\"@options\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      get: function() {\n        return this.value;\n      }\n    });\n    this.prototype.get.doc = {\n      \"return\": [AS.Model, null],\n      desc: \"\"\n    };\n    def({\n      set: function(value) {\n        var konstructor, _ref;\n        if (value != null ? value.model : void 0) value = value.model;\n        if (value === this.value) return this.value;\n        if (_.isString(value) && (konstructor = this.model()) !== AS.Model) {\n          value = konstructor.find(value);\n        } else if (_.isString(value)) {\n          value = AS.All.byId[value];\n        } else if (value instanceof AS.Model) {\n          value = value;\n        } else if (_.isObject(value)) {\n          value = this.options.model()[\"new\"](value);\n        }\n        if ((_ref = this.value) != null) _ref.unbind(this.namespace);\n        if (this.value && this.options.inverse && this.value[this.options.inverse]) {\n          if (this.value[this.options.inverse].include(this.object).value()) {\n            this.value[this.options.inverse].remove(this.object);\n          }\n        }\n        this.value = value;\n        if (this.value && this.options.inverse && this.value[this.options.inverse]) {\n          if (!this.value[this.options.inverse].include(this.object).value()) {\n            this.value[this.options.inverse].add(this.object);\n          }\n        }\n        if (this.value) this.bindToValue(this.value);\n        this.object.trigger(\"change\");\n        this.object.trigger(\"change:\" + this.options.name);\n        this.trigger(\"change\");\n        this.triggerDependants();\n        return this.value;\n      }\n    });\n    this.prototype.set.doc = {\n      params: [[\"value\", AS.Model]],\n      desc: \"\"\n    };\n    def({\n      rawValue: function() {\n        var _ref;\n        return (_ref = this.value) != null ? _ref.id : void 0;\n      }\n    });\n    def({\n      bindToValue: function(value) {\n        var _this = this;\n        value.bind(\"change\" + this.namespace, function() {\n          return _this.triggerDependants();\n        });\n        return value.bind(\"destroy\" + this.namespace, function() {\n          return _this.set(null);\n        });\n      }\n    });\n    this.Synapse = AS.Model.Field.Instance.Synapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        get: function() {\n          return this.raw.get();\n        }\n      });\n      return def({\n        set: function(value) {\n          return this.raw.set(value);\n        }\n      });\n    });\n    return this.ShareSynapse = AS.Model.Field.Instance.ShareSynapse.extend(function(_arg2) {\n      var def, defs, delegate, include;\n      delegate = _arg2.delegate, include = _arg2.include, def = _arg2.def, defs = _arg2.defs;\n      def({\n        get: function() {\n          return this.raw.at(this.path).get();\n        }\n      });\n      return def({\n        set: function(value) {\n          if (value != null ? value.id : void 0) {\n            return this._super(value != null ? value.id : void 0);\n          }\n        }\n      });\n    });\n  });\n\n  AS.Model.defs({\n    hasOne: function(name, options) {\n      return AS.Model.HasOne[\"new\"](name, this, options);\n    }\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/properties/has_one");minispade.register('alpha_simprini/core/properties/virtual_property', "(function() {(function() {\n  var NULL_CACHE,\n    __slice = Array.prototype.slice;\n\n  AS.Model.VirtualProperty = AS.Model.Field.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(name, _constructor, options) {\n        this.name = name;\n        this._constructor = _constructor;\n        this.options = options != null ? options : {};\n        this.options.name = this.name;\n        this.dependencies = this.options.dependencies;\n        return this._constructor.writeInheritableValue('properties', this.name, this);\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[\"@name\", String, true], [\"@_constructor\", AS.Object, true], [\"@options\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      instance: function(object) {\n        return this.constructor.Instance[\"new\"](object, this.options);\n      }\n    });\n    return this.prototype.instance.doc = {\n      params: [[\"object\", AS.Model, true]],\n      desc: \"\"\n    };\n  });\n\n  NULL_CACHE = new Object;\n\n  AS.Model.VirtualProperty.Instance = AS.Property.Instance.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      initialize: function(object, options) {\n        this.object = object;\n        this.options = options;\n        this.cached = NULL_CACHE;\n        return this.bindDependencies();\n      }\n    });\n    this.prototype.initialize.doc = {\n      params: [[\"@object\", AS.Model, true], [\"@options\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      bindDependencies: function() {\n        var dependency, _i, _len, _ref, _results;\n        _ref = this.options.dependencies;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          dependency = _ref[_i];\n          _results.push(this.object[dependency].addDependant(this));\n        }\n        return _results;\n      }\n    });\n    this.prototype.bindDependencies.doc = {\n      desc: \"\"\n    };\n    def({\n      set: function(value) {\n        var set;\n        if (set = this.options.getSet.set) {\n          set.call(this.object, value);\n          return this.triggerDependants();\n        } else {\n          return AS.warn(\"Can't set a VirtualProperty name: \" + this.options.name + \", dependencies: \" + (this.options.dependencies.join(',')));\n        }\n      }\n    });\n    this.prototype.set.doc = {\n      params: [[\"value\", \"*\", true]],\n      desc: \"\"\n    };\n    def({\n      get: function() {\n        return this.cached = this.compute();\n      }\n    });\n    this.prototype.get.doc = {\n      \"return\": \"*\",\n      desc: \"\"\n    };\n    def({\n      compute: function(args) {\n        return this.options.getSet.get.call(this.object);\n      }\n    });\n    this.prototype.compute.doc = {\n      private: true,\n      params: [[]],\n      desc: \"\"\n    };\n    def({\n      objects: function() {\n        return [this.get()];\n      }\n    });\n    this.prototype.objects.doc = {\n      desc: \"For virtual properties, 'objects' is an Array containing the computed value.\"\n    };\n    def({\n      triggerFor: function() {\n        this.trigger(\"change\");\n        this.object.trigger(\"change\");\n        return this.object.trigger(\"change:\" + this.options.name);\n      }\n    });\n    this.prototype.triggerFor.doc = {\n      private: true,\n      desc: \"\"\n    };\n    return def({\n      rawValue: function() {\n        return;\n      }\n    });\n  });\n\n  AS.Model.defs({\n    virtualProperties: function() {\n      var dependencies, fn, getSet, name, properties, _i, _results;\n      dependencies = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), properties = arguments[_i++];\n      _results = [];\n      for (name in properties) {\n        fn = properties[name];\n        if (_.isFunction(fn)) {\n          getSet = {\n            get: fn\n          };\n        } else {\n          getSet = fn;\n        }\n        _results.push(AS.Model.VirtualProperty[\"new\"](name, this, {\n          dependencies: dependencies,\n          getSet: getSet\n        }));\n      }\n      return _results;\n    }\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/properties/virtual_property");minispade.register('alpha_simprini/core/state_machine', "(function() {(function() {\n\n  AS.StateMachine = AS.Module.extend(function(_arg) {\n    var def;\n    def = _arg.def;\n    def({\n      transitionState: function(options) {\n        var _name, _name2;\n        if (this.state === options.from) {\n          if (this.state) {\n            if (typeof this[_name = \"exit_\" + this.state] === \"function\") {\n              this[_name](options);\n            }\n          }\n          this.state = options.to;\n          return typeof this[_name2 = \"enter_\" + options.to] === \"function\" ? this[_name2](options) : void 0;\n        }\n      }\n    });\n    this.prototype.transitionState.doc = {\n      params: [[\"options\", Object, true]],\n      desc: \"\"\n    };\n    def({\n      defaultState: function(state) {\n        return this.transitionState({\n          from: void 0,\n          to: state\n        });\n      }\n    });\n    return this.prototype.defaultState.doc = {\n      params: [[\"state\", String, true]],\n      desc: \"\"\n    };\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/state_machine");minispade.register('alpha_simprini/core/string', "(function() {(function() {\n\n  String.prototype.blank = function() {\n    return !!this.match(/^\\s*?$/);\n  };\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/core/string");minispade.register('alpha_simprini/css', "(function() {(function() {\nminispade.require(\"alpha_simprini\");\n\n  AS.part(\"CSS\");\n\n  AS.CSS.DIMENSION_UNITS = \"px % em /4 /6 /8 /12 /24 /36 /48 /72 /96\".split(\" \");\n\n  AS.CSS.DIMENSION_UNITS.unshift(\"\");\n\n  AS.CSS.SIZE_UNITS = \"px em\".split(\" \");\n\n  AS.CSS.TEXT_UNITS = \"px em % pt\".split(\" \");\n\n  AS.CSS.require(\"models/color models/color_stop models/color_stops models/percent\\nmodels/length models/angle models/font_size models/font_family\\nmodels/siding models/margin models/padding\\n\\nviews/color_stop_picker views/dialogs/color views/angle_picker views/color_picker\");\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css");minispade.register('alpha_simprini/css/models/angle', "(function() {(function() {\n\n  AS.Models.Angle = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    return this.field(\"degrees\", {\n      \"default\": 0,\n      type: AS.Model.Number\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/angle");minispade.register('alpha_simprini/css/models/color', "(function() {(function() {\n  var rpad;\n\n  rpad = AS.util.rpad;\n\n  AS.Models.Color = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.field('red', {\n      type: AS.Model.Number\n    });\n    this.field('green', {\n      type: AS.Model.Number\n    });\n    this.field('blue', {\n      type: AS.Model.Number\n    });\n    this.field('alpha', {\n      \"default\": 0,\n      type: AS.Model.Number\n    });\n    return this.virtualProperties(\"red\", \"green\", \"blue\", \"alpha\", {\n      ahex: function() {\n        return [\"#\", rpad((this.red.get() || 0).toString(16), 2, \"0\"), rpad((this.green.get() || 0).toString(16), 2, \"0\"), rpad((this.blue.get() || 0).toString(16), 2, \"0\"), rpad((this.alpha.get() || 0).toString(16), 2, \"0\")].join(\"\");\n      },\n      rgba: function() {\n        return [\"rgba(\", [this.red.get() || 0, this.green.get() || 0, this.blue.get() || 0, (this.alpha.get() / 255).toFixed(2)].join(), \")\"].join(\"\");\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/color");minispade.register('alpha_simprini/css/models/color_stop', "(function() {(function() {\n\n  AS.Models.ColorStop = AS.Models.Color.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    return this.field('stop', {\n      type: AS.Model.Number\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/color_stop");minispade.register('alpha_simprini/css/models/color_stops', "(function() {(function() {\n  var map, sortBy;\n\n  sortBy = _.sortBy, map = _.map;\n\n  AS.Models.ColorStops = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include,\n      _this = this;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.afterInitialize(function(model) {\n      return model.angle.set(_this.properties.angle.options.model()[\"new\"]());\n    });\n    this.belongsTo('angle', {\n      model: function() {\n        return AS.Models.Angle;\n      }\n    });\n    this.hasMany('stops', {\n      model: function() {\n        return AS.Models.ColorStop;\n      }\n    });\n    return this.virtualProperties('stops', 'angle', {\n      linearGradient: function() {\n        var degrees, ordered, stops;\n        ordered = sortBy(this.stops.toArray().value(), function(stop) {\n          return stop.stop.get();\n        });\n        stops = map(ordered, function(stop) {\n          return \"\" + (stop.rgba.get()) + \" \" + (stop.stop.get()) + \"%\";\n        });\n        degrees = (this.angle.get().degrees.get() - 90) + \"deg\";\n        return \"\" + AS.prefix + \"linear-gradient(\" + degrees + \", \" + (stops.join(',')) + \")\";\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/color_stops");minispade.register('alpha_simprini/css/models/font_family', "(function() {(function() {\n  var create, mono, options, sans, serif;\n\n  AS.Models.FontFamily = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.field(\"name\");\n    this.field(\"fallback\");\n    return def({\n      toCSS: function() {\n        return \"\" + (this.name()) + \", \" + (this.fallback());\n      }\n    });\n  });\n\n  create = function(id, name, fallback) {\n    return AS.Models.FontFamily[\"new\"]({\n      name: name,\n      fallback: fallback,\n      id: \"TypeFace-\" + id\n    });\n  };\n\n  serif = function(id, name) {\n    return create(id, name, \"serif\");\n  };\n\n  sans = function(id, name) {\n    return create(id, name, \"sans-serif\");\n  };\n\n  mono = function(id, name) {\n    return create(id, name, \"monospace\");\n  };\n\n  AS.CSS.FontFamilies = [serif(0, \"Georgia\"), serif(1, \"Times New Roman\"), sans(2, \"Andale Mono\"), sans(3, \"Arial\"), sans(4, \"Arial Black\"), serif(5, \"Century Gothic\"), sans(6, \"Impact\"), sans(7, \"Trebuchet MS\"), sans(8, \"Verdana\"), mono(9, \"Courier New\"), mono(10, \"monofur\"), sans(11, \"Palatino\"), sans(12, \"Optima\")];\n\n  options = AS.CSS.FontFamilies.options = {};\n\n  _.each(AS.CSS.FontFamilies, function(family) {\n    return options[family.name.get()] = family.id;\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/font_family");minispade.register('alpha_simprini/css/models/font_size', "(function() {(function() {\n\n  AS.Models.FontSize = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.field(\"value\");\n    this.field(\"unit\");\n    return this.virtualProperties('value', 'unit', {\n      size: function() {\n        return \"\" + (this.value.get()) + (this.unit.get());\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/font_size");minispade.register('alpha_simprini/css/models/length', "(function() {(function() {\n\n  AS.Models.Length = AS.Model.extend(function(_arg) {\n    var COLUMNS, GRID, columns, def, defs, delegate, include, _i, _len, _ref;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.field('value', {\n      type: AS.Model.Number\n    });\n    this.field('unit');\n    GRID = 960;\n    COLUMNS = {};\n    _ref = \"4 6 8 12 24 36 48 72 96\".split(\" \");\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      columns = _ref[_i];\n      COLUMNS[\"/\" + columns] = GRID / parseInt(columns, 10);\n    }\n    return this.virtualProperties('value', 'unit', {\n      length: function() {\n        var unit, value;\n        unit = this.unit.get();\n        value = this.value.get();\n        if (!value) return \"\";\n        if (unit === \"%\" || unit === \"em\" || unit === \"px\" || unit === (void 0) || unit === null) {\n          return \"\" + value + (unit || 'px');\n        } else if (unit.match(/^\\/[\\d]+$/)) {\n          return \"\" + (COLUMNS[unit] * value) + \"px\";\n        }\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/length");minispade.register('alpha_simprini/css/models/margin', "(function() {(function() {\n\n  AS.Models.Margin = AS.Models.Siding.extend(function(_arg) {\n    var def, defs, delegate, include, side, _i, _len, _ref, _results;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    _ref = \"top right bottom left\".split(\" \");\n    _results = [];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      side = _ref[_i];\n      _results.push(this.properties[side].options.model = function() {\n        return AS.Models.Length;\n      });\n    }\n    return _results;\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/margin");minispade.register('alpha_simprini/css/models/padding', "(function() {(function() {\n\n  AS.Models.Padding = AS.Models.Siding.extend(function(_arg) {\n    var def, defs, delegate, include, side, _i, _len, _ref, _results;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    _ref = \"top right bottom left\".split(\" \");\n    _results = [];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      side = _ref[_i];\n      _results.push(this.properties[side].options.model = function() {\n        return AS.Models.Length;\n      });\n    }\n    return _results;\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/padding");minispade.register('alpha_simprini/css/models/percent', "(function() {(function() {\n\n  AS.Models.Percent = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    return this.field(\"value\", {\n      type: AS.Model.Number,\n      \"default\": 0\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/percent");minispade.register('alpha_simprini/css/models/siding', "(function() {(function() {\n\n  AS.Models.Siding = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.hasOne(\"top\", {\n      dependant: 'destroy'\n    });\n    this.hasOne(\"right\", {\n      dependant: 'destroy'\n    });\n    this.hasOne(\"bottom\", {\n      dependant: 'destroy'\n    });\n    return this.hasOne(\"left\", {\n      dependant: 'destroy'\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/models/siding");minispade.register('alpha_simprini/css/views/angle_picker', "(function() {(function() {\n\n  AS.Views.AnglePicker = AS.View.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.afterContent(function(view) {\n      return knead.monitor(view.el);\n    });\n    def({\n      events: {\n        \"knead:dragstart\": \"pickAngle\",\n        \"knead:drag\": \"pickAngle\"\n      }\n    });\n    def({\n      pickAngle: function(event) {\n        var centerX, centerY, clientX, clientY, degrees, deltaX, deltaY, offset, target, _ref, _ref2, _ref3;\n        _ref = event.originalEvent, clientX = _ref.clientX, clientY = _ref.clientY;\n        target = this.picker;\n        offset = target.offset();\n        _ref2 = [offset.left + 20, offset.top + 20], centerX = _ref2[0], centerY = _ref2[1];\n        _ref3 = [centerX - clientX, centerY - clientY], deltaX = _ref3[0], deltaY = _ref3[1];\n        degrees = -1 * (Math.atan2(deltaX, deltaY) * 180 / Math.PI);\n        return target.trigger($.Event(\"change\", {\n          degrees: degrees\n        }));\n      }\n    });\n    return def({\n      content: function() {\n        var indicatorTransform, r, r2,\n          _this = this;\n        r = 20;\n        r2 = r * 2;\n        indicatorTransform = function() {\n          return \"translate(\" + r + \", \" + r + \") rotate(\" + (_this.model.degrees.get() || 0) + \")\";\n        };\n        this.picker = $(this.svg({\n          width: r2 + 5,\n          height: r2,\n          \"class\": \"angle-selector\"\n        }, function() {\n          this.defs(function() {\n            return this.radialGradient({\n              id: this.objectId(),\n              cx: \"50%\",\n              cy: \"50%\",\n              r: \"0.48\"\n            }, function() {\n              this.stop({\n                offset: 0.85,\n                \"stop-color\": \"#ddd\"\n              });\n              this.stop({\n                offset: 0.95,\n                \"stop-color\": \"#fff\"\n              });\n              return this.stop({\n                offset: 1,\n                \"stop-color\": \"#777\"\n              });\n            });\n          });\n          this.circle({\n            x1: r,\n            y1: r,\n            cx: r,\n            cy: r,\n            r: r,\n            fill: \"url(#\" + (this.objectId()) + \")\"\n          });\n          return this.indicator = $(this.g({\n            transform: indicatorTransform()\n          }, function() {\n            return this.line({\n              x1: 0,\n              y1: 0,\n              x2: 0,\n              y2: -r,\n              \"stroke-width\": 0.5,\n              stroke: \"black\"\n            });\n          }));\n        }));\n        this.binds(this.picker, \"change\", function(event) {\n          return _this.model.degrees.set(event.degrees);\n        });\n        return this.binds(this.model, [\"degrees\"], function() {\n          return _this.indicator.attr(\"transform\", indicatorTransform());\n        });\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/views/angle_picker");minispade.register('alpha_simprini/css/views/color_picker', "(function() {(function() {\n\n  AS.Views.ColorPicker = AS.View.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      tagName: 'img'\n    });\n    def({\n      events: {\n        \"click\": \"pickColor\"\n      }\n    });\n    this.afterContent(function(view) {\n      view.el.attr('src', \"/assets/jPicker/picker.gif\");\n      view.modelBinding().css({\n        'background-color': ['rgba']\n      });\n      return view.modelBinding().paint();\n    });\n    return def({\n      pickColor: function() {\n        return this.colorPicker.pick(this.model);\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/views/color_picker");minispade.register('alpha_simprini/css/views/color_stop_picker', "(function() {(function() {\n  var defer;\nminispade.require(\"knead\");\n\n  defer = _.defer;\n\n  AS.Views.ColorStopHandle = AS.View.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      events: {\n        \"knead:dragstart\": \"dragstartStop\",\n        \"knead:drag\": \"dragStop\",\n        \"dblclick\": \"pickColor\"\n      }\n    });\n    def({\n      content: function() {\n        var _this = this;\n        this.span({\n          \"class\": \"pointer\"\n        });\n        this.span({\n          \"class\": \"handle\"\n        });\n        this.modelBinding().css({\n          \"left\": {\n            field: [\"stop\"],\n            fn: function() {\n              return \"\" + (_this.model.stop.get()) + \"%\";\n            }\n          },\n          \"background-color\": {\n            field: [\"rgba\"],\n            fn: function() {\n              return _this.model.rgba.get();\n            }\n          }\n        });\n        return defer(function() {\n          return _this.modelBinding().paint();\n        });\n      }\n    });\n    def({\n      dragstartStop: function(event) {\n        return this.startx = parseFloat(this.el.position().left, 10);\n      }\n    });\n    def({\n      dragStop: function(event) {\n        var percent, x;\n        x = this.startx + event.deltaX;\n        percent = 100 * (x / 300).toPrecision(2);\n        percent = Math.min(100, Math.max(0, percent));\n        return this.model.stop.set(percent);\n      }\n    });\n    return def({\n      pickColor: function(event) {\n        event.stopPropagation();\n        return this.colorPicker.pick(this.model);\n      }\n    });\n  });\n\n  AS.Views.ColorStopPicker = AS.View.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.afterContent(function(view) {\n      return knead.monitor(view.el);\n    });\n    def({\n      events: {\n        \"dblclick ol\": \"addStop\"\n      }\n    });\n    def({\n      content: function() {\n        this.view(AS.Views.AnglePicker, {\n          model: this.model.angle.get()\n        });\n        return this.section({\n          \"class\": \"ColorStops\"\n        }, function() {\n          this.svg(function() {\n            this.defs(function() {\n              return this.linearGradient({\n                id: this.objectId()\n              }, function() {\n                return this.model.binding(\"stops\", {\n                  order_by: \"stop\"\n                }, function(colorStop, binding) {\n                  var stop;\n                  stop = this.stop();\n                  binding.attr({\n                    offset: {\n                      field: [\"stop\"],\n                      fn: function() {\n                        return \"\" + (colorStop.stop.get()) + \"%\";\n                      }\n                    },\n                    \"stop-color\": {\n                      field: [\"rgba\"],\n                      fn: function() {\n                        return colorStop.rgba.get();\n                      }\n                    }\n                  });\n                  _.defer(function() {\n                    return binding.paint();\n                  });\n                  return stop;\n                });\n              });\n            });\n            return this.g(function() {\n              return this.rect({\n                width: 300,\n                height: 20,\n                fill: \"url(#\" + (this.objectId()) + \")\"\n              });\n            });\n          });\n          return this.ol(function() {\n            return this.model.binding(\"stops\", {\n              order_by: \"stop\"\n            }, this.stopHandle);\n          });\n        });\n      }\n    });\n    def({\n      stopHandle: function(colorStop, binding) {\n        return this.view(AS.Views.ColorStopHandle, {\n          el: this.li({\n            \"class\": 'stop'\n          }),\n          model: colorStop,\n          colorPicker: this.colorPicker\n        });\n      }\n    });\n    return def({\n      addStop: function() {\n        return this.model.stops.add({\n          stop: 50\n        });\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/views/color_stop_picker");minispade.register('alpha_simprini/css/views/dialogs/color', "(function() {(function() {\n  var JPICKER_SETTINGS;\nminispade.require(\"jpicker\");\n\n  JPICKER_SETTINGS = {\n    images: {\n      clientPath: \"/assets/jPicker/\"\n    },\n    window: {\n      alphaSupport: true,\n      alphaPrecision: 2\n    }\n  };\n\n  AS.Views.Dialogs.Color = AS.Views.Dialog.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      events: {\n        \"dblclick .Map\": \"triggerCommit\",\n        \"dblclick .Bar\": \"triggerCommit\"\n      }\n    });\n    def({\n      headerContent: function() {\n        return this.label(\"Color Picker\");\n      }\n    });\n    def({\n      color: function() {\n        return this.active_color().val();\n      }\n    });\n    def({\n      active_color: function() {\n        return this.picker[0].color.active;\n      }\n    });\n    def({\n      current_color: function() {\n        return this.picker[0].color.current;\n      }\n    });\n    def({\n      pick: function(color) {\n        var bg, set_color, _ref,\n          _this = this;\n        bg = \".\" + color.objectId();\n        set_color = function(picked) {\n          return color.set({\n            red: picked.r,\n            green: picked.g,\n            blue: picked.b,\n            alpha: picked.a\n          });\n        };\n        this.bind(\"change\" + bg, _.throttle(set_color, 100));\n        this.bind(\"commit\" + bg, set_color);\n        this.bind(\"cancel\" + bg, set_color);\n        this.bind(\"close\" + bg, function() {\n          return _this.unbind(bg);\n        });\n        return this.open(((_ref = color.ahex) != null ? _ref.get().slice(1) : void 0) || \"000000ff\");\n      }\n    });\n    def({\n      open: function(color, type) {\n        if (type == null) type = \"ahex\";\n        this.el.find(\".Map > span\").css(\"position\", \"relative\");\n        this.current_color().val(type, color);\n        this.active_color().val(type, color);\n        return this._super();\n      }\n    });\n    def({\n      triggerChange: function() {\n        return this.trigger(\"change\", this.color());\n      }\n    });\n    def({\n      triggerCommit: function() {\n        this.current_color().val('ahex', this.active_color().val('ahex'));\n        this.trigger(\"commit\", this.color());\n        return this.close();\n      }\n    });\n    def({\n      triggerCancel: function() {\n        this.current_color().val('ahex', this.current_color().val('ahex'));\n        this.trigger(\"cancel\", this.color());\n        return this.close();\n      }\n    });\n    return def({\n      initialize: function() {\n        this._super.apply(this, arguments);\n        this.picker = this.content.jPicker(JPICKER_SETTINGS, (function() {}), _.bind(this.triggerChange, this));\n        return this.close();\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/css/views/dialogs/color");minispade.register('alpha_simprini/keyboard', "(function() {(function() {\nminispade.require(\"alpha_simprini\");\n\n  AS.part(\"Keyboard\").require(\"models/zone_controller models/zone_group models/zone\\n\\nviews/keyboard_navigation views/selectable views/destructable views/zone\");\n\n  AS.Keyboard.KEYS = jwerty.KEYS.keys;\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard");minispade.register('alpha_simprini/keyboard/models/zone', "(function() {(function() {\n\n  AS.Models.Zone = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.property(\"item\", {\n      get: function() {\n        var hit, identifier, _i, _len, _ref;\n        if (!this.value) return;\n        hit = window;\n        _ref = this.value;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          identifier = _ref[_i];\n          hit = hit != null ? hit[identifier] : void 0;\n        }\n        return hit;\n      }\n    });\n    this.belongsTo(\"group\");\n    def({\n      activate: function() {\n        return this.item.get().isActive();\n      }\n    });\n    return def({\n      deactivate: function() {\n        return this.item.get().isntActive();\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/models/zone");minispade.register('alpha_simprini/keyboard/models/zone_controller', "(function() {(function() {\n\n  AS.Models.ZoneController = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.hasMany(\"zoneGroups\");\n    this.hasOne(\"activeZoneGroup\");\n    this.hasOne(\"defaultZoneGroup\");\n    def({\n      initialize: function(config) {\n        var event, _i, _len, _ref, _results,\n          _this = this;\n        this.application = config.application;\n        delete config.application;\n        this._super.apply(this, arguments);\n        _ref = 'up down right left alphanum open'.split(\" \");\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          event = _ref[_i];\n          _results.push((function(event) {\n            return _this.application.bind({\n              event: event,\n              handler: function(jqevent) {\n                return this.forwardAppEvent(event, jqevent);\n              },\n              context: _this\n            });\n          })(event));\n        }\n        return _results;\n      }\n    });\n    this.afterInitialize(function(model) {\n      if (!model.defaultZoneGroup.get()) {\n        model.defaultZoneGroup.set(AS.Models.ZoneGroup[\"new\"]());\n      }\n      return model.activateGroup();\n    });\n    def({\n      activateGroup: function(group) {\n        if (group == null) group = this.defaultZoneGroup.get();\n        this.deactivateGroup(this.activeZoneGroup.get());\n        this.activeZoneGroup.set(group);\n        return group.activate();\n      }\n    });\n    def({\n      add: function(group) {\n        return this.zoneGroups.add(group);\n      }\n    });\n    def({\n      deactivateGroup: function(group) {\n        if (!group) return;\n        this.activeZoneGroup.set(null);\n        return group.deactivate();\n      }\n    });\n    return def({\n      forwardAppEvent: function(event, jqevent) {\n        var group, _ref;\n        if ($(jqevent.target).is(\":input, [contenteditable]\")) return true;\n        if (!(group = this.activeZoneGroup.get())) return true;\n        return (_ref = group[event]) != null ? _ref.call(group) : void 0;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/models/zone_controller");minispade.register('alpha_simprini/keyboard/models/zone_group', "(function() {(function() {\n  var __slice = Array.prototype.slice;\n\n  AS.Models.ZoneGroup = AS.Model.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    this.hasMany(\"zones\", {\n      model: function() {\n        return AS.Models.Zone;\n      }\n    });\n    this.hasOne(\"activeZone\");\n    def({\n      up: function() {\n        var _base;\n        return typeof (_base = this.activeZone.get().item.get()).up === \"function\" ? _base.up() : void 0;\n      }\n    });\n    def({\n      down: function() {\n        var _base;\n        return typeof (_base = this.activeZone.get().item.get()).down === \"function\" ? _base.down() : void 0;\n      }\n    });\n    def({\n      left: function() {\n        return this.activateZone(this.prev());\n      }\n    });\n    def({\n      right: function() {\n        return this.activateZone(this.next());\n      }\n    });\n    def({\n      alphanum: function() {\n        var _ref;\n        return (_ref = this.activeZone.get()) != null ? _ref.item.get().trigger(\"alphanum\") : void 0;\n      }\n    });\n    def({\n      open: function() {\n        var _ref;\n        return (_ref = this.activeZone.get()) != null ? _ref.item.get().trigger(\"open\") : void 0;\n      }\n    });\n    def({\n      add: function() {\n        var zone, zones, _i, _len, _results;\n        zones = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        _results = [];\n        for (_i = 0, _len = zones.length; _i < _len; _i++) {\n          zone = zones[_i];\n          _results.push(this.zones.add({\n            item: zone,\n            group: this\n          }));\n        }\n        return _results;\n      }\n    });\n    def({\n      deactivate: function() {\n        var _ref;\n        return (_ref = this.activeZone.get()) != null ? _ref.deactivate() : void 0;\n      }\n    });\n    def({\n      activate: function() {\n        return this.activateZone();\n      }\n    });\n    def({\n      activateZone: function(zone) {\n        var _ref;\n        if (zone == null) zone = this.zones.first().value();\n        if (!zone) return;\n        if ((_ref = this.activeZone.get()) != null) _ref.deactivate();\n        this.activeZone.set(zone);\n        return zone.activate();\n      }\n    });\n    def({\n      next: function() {\n        var index;\n        index = this.zones.indexOf(this.activeZone.get()).value();\n        if (index === -1) {\n          return this.zones.first().value();\n        } else {\n          return this.zones.at(index + 1) || this.zones.first().value();\n        }\n      }\n    });\n    return def({\n      prev: function() {\n        var index;\n        index = this.zones.indexOf(this.activeZone.get()).value();\n        if (index === -1) {\n          return this.zones.last().value();\n        } else {\n          return this.zones.at(index - 1) || this.zones.last().value();\n        }\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/models/zone_group");minispade.register('alpha_simprini/keyboard/views/destructable', "(function() {(function() {\n\n  AS.Views.Destructable = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function() {\n        if (this.events == null) this.events = {};\n        this.events[\"click .delete\"] = \"destroyModel\";\n        return this._super.apply(this, arguments);\n      }\n    });\n    return def({\n      destroyModel: function(event) {\n        event.stopPropagation();\n        return this.model.destroy();\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/views/destructable");minispade.register('alpha_simprini/keyboard/views/keyboard_navigation', "(function() {(function() {\n\n  AS.Views.KeyboardNavigation = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function() {\n        if (this.events == null) this.events = {};\n        this.events[\"open @\"] = \"openCurrent\";\n        this._super.apply(this, arguments);\n        return this.selectDefault();\n      }\n    });\n    def({\n      selectDefault: function() {\n        return this.navigableSelection().select(this.selectableViews()[0]);\n      }\n    });\n    def({\n      up: function() {\n        var index, views;\n        views = this.selectableViews();\n        index = Math.max(0, (_.indexOf(views, this.currentSelection())) - 1);\n        return this.navigableSelection().select(views[index]);\n      }\n    });\n    def({\n      down: function() {\n        var index, views;\n        views = this.selectableViews();\n        index = Math.min(views.length - 1, (_.indexOf(views, this.currentSelection())) + 1);\n        return this.navigableSelection().select(views[index]);\n      }\n    });\n    def({\n      currentSelection: function() {\n        return this.navigableSelection().selected.get();\n      }\n    });\n    return def({\n      openCurrent: function() {\n        var _ref;\n        return (_ref = this.navigableSelection().selected.get()) != null ? _ref._input.trigger('dblclick') : void 0;\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/views/keyboard_navigation");minispade.register('alpha_simprini/keyboard/views/selectable', "(function() {(function() {\n\n  AS.Views.Selectable = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      initialize: function() {\n        if (this.events == null) this.events = {};\n        this.events[\"click\"] = \"activateSelf\";\n        return this._super.apply(this, arguments);\n      }\n    });\n    return def({\n      activateSelf: function(event) {\n        if (event) if ($(event.target).parent()[0] !== this.el[0]) return;\n        return this.navigableSelection().select(this);\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/views/selectable");minispade.register('alpha_simprini/keyboard/views/zone', "(function() {(function() {\n\n  AS.Views.Zone = AS.Module.extend(function(_arg) {\n    var def, defs, delegate, include;\n    delegate = _arg.delegate, include = _arg.include, def = _arg.def, defs = _arg.defs;\n    def({\n      isActive: function() {\n        return this.addClass('active-zone');\n      }\n    });\n    return def({\n      isntActive: function() {\n        return this.removeClass('active-zone');\n      }\n    });\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/keyboard/views/zone");minispade.register('alpha_simprini/packer', "(function() {(function() {\n\n\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/packer");minispade.register('alpha_simprini/string', "(function() {(function() {\n\n  String.prototype.blank = function() {\n    return !!this.match(/^\\s*?$/);\n  };\n\n}).call(this);\n\n})();\n//@ sourceURL=alpha_simprini/string");minispade.register('doc', "(function() {(function() {\n  var $, each;\n\n  minispade.require(\"pathology\");\n\n  minispade.require(\"underscore\");\n\n  minispade.require(\"jquery\");\n\n  minispade.require(\"coffeekup\");\n\n  minispade.require(\"alpha_simprini\");\n\n  minispade.register(\"rangy-core\", \"rangy = null\");\n\n  minispade.register(\"jpicker\", \"null\");\n\n  AS.require(\"client\");\n\n  AS.require(\"css\");\n\n  $ = jQuery;\n\n  each = _.each;\n\n  jQuery(function() {\n    var classdocs, classes;\n    console.time(\"RENDER\");\n    classes = $(\"#classes\");\n    classdocs = $(\"#classdocs\");\n    each([Pathology.Object].concat(Pathology.Object.descendants), function(klass) {\n      var classArticle;\n      classes.append(\"<a href=\\\"#\" + (klass.path()) + \"\\\">\" + (klass.path()) + \"</a>\");\n      classArticle = function() {\n        return article({\n          id: this.klass.path()\n        }, function() {\n          h1(this.klass.path());\n          h2(\"Ancestors\");\n          nav({\n            \"class\": 'ancestors'\n          }, function() {\n            var ancestor, index, _len, _ref, _results;\n            _ref = this.klass.ancestors;\n            _results = [];\n            for (index = 0, _len = _ref.length; index < _len; index++) {\n              ancestor = _ref[index];\n              if (ancestor === this.klass) continue;\n              a({\n                href: \"#\" + (ancestor.path())\n              }, function() {\n                return ancestor.path();\n              });\n              if (index !== this.klass.ancestors.length - 1) {\n                _results.push(text(\" < \"));\n              } else {\n                _results.push(void 0);\n              }\n            }\n            return _results;\n          });\n          h2(\"Class Methods\");\n          ul(function() {\n            var method, name, _i, _len, _ref, _results;\n            _ref = this.klass.classMethods || [];\n            _results = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n              name = _ref[_i];\n              if (!(method = this.klass.classMethod(name))) continue;\n              if (method.definedOn !== this.klass.path()) continue;\n              _results.push(li({\n                id: this.klass.path() + \".classMethod.\" + name\n              }, function() {\n                h1(method.name);\n                span({\n                  \"class\": \"private\"\n                }, function() {\n                  if (method.private) return \"private api\";\n                });\n                a({\n                  href: \"#\" + method.definedOn\n                }, function() {\n                  return \"defined on: \" + method.definedOn;\n                });\n                return pre(h(method.desc) || \"No Description Given\");\n              }));\n            }\n            return _results;\n          });\n          h2(\"Instance Methods\");\n          return ul(function() {\n            var method, name, _i, _len, _ref, _results;\n            _ref = this.klass.instanceMethods || [];\n            _results = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n              name = _ref[_i];\n              if (!(method = this.klass.instanceMethod(name))) continue;\n              if (method.definedOn !== this.klass.path()) continue;\n              _results.push(li({\n                id: this.klass.path() + \".instanceMethod.\" + name\n              }, function() {\n                h1(method.name);\n                span({\n                  \"class\": \"private\"\n                }, function() {\n                  if (method.private) return \"private api\";\n                });\n                a({\n                  href: \"#\" + method.definedOn\n                }, function() {\n                  return \"defined on: \" + method.definedOn;\n                });\n                return pre(h(method.desc) || \"No Description Given\");\n              }));\n            }\n            return _results;\n          });\n        });\n      };\n      return classdocs.append(CoffeeKup.render(classArticle, {\n        klass: klass,\n        hardcode: {\n          each: each\n        }\n      }));\n    });\n    return console.timeEnd(\"RENDER\");\n  });\n\n}).call(this);\n\n})();\n//@ sourceURL=doc");