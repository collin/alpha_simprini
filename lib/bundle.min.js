/*
 Rangy, a cross-browser JavaScript range and selection library
 http://code.google.com/p/rangy/

 Copyright 2011, Tim Down
 Licensed under the MIT license.
 Version: 1.2.2
 Build date: 13 November 2011
*/
this.msgpack||function(b){function l(a,f){o=0;var b=i([],a,0);return o?false:f?h(b):b}function g(a){F=typeof a==="string"?v(a):a;p=-1;return k()}function i(a,b,e){var c,h,g;if(b==null)a.push(192);else if(b===false)a.push(194);else if(b===true)a.push(195);else switch(typeof b){case "number":b!==b?a.push(203,255,255,255,255,255,255,255,255):b===Infinity?a.push(203,127,240,0,0,0,0,0,0):Math.floor(b)===b?b<0?b>=-32?a.push(224+b+32):b>-128?a.push(208,b+256):b>-32768?(b+=65536,a.push(209,b>>8,b&255)):b>
-2147483648?(b+=4294967296,a.push(210,b>>>24,b>>16&255,b>>8&255,b&255)):(h=Math.floor(b/4294967296),b&=4294967295,a.push(211,h>>24&255,h>>16&255,h>>8&255,h&255,b>>24&255,b>>16&255,b>>8&255,b&255)):b<128?a.push(b):b<256?a.push(204,b):b<65536?a.push(205,b>>8,b&255):b<4294967296?a.push(206,b>>>24,b>>16&255,b>>8&255,b&255):(h=Math.floor(b/4294967296),b&=4294967295,a.push(207,h>>24&255,h>>16&255,h>>8&255,h&255,b>>24&255,b>>16&255,b>>8&255,b&255)):((h=b<0)&&(b*=-1),g=Math.log(b)/0.6931471805599453+1023|
0,e=b*Math.pow(2,1075-g),b=e&4294967295,h&&(g|=2048),h=e/4294967296&1048575|g<<20,a.push(203,h>>24&255,h>>16&255,h>>8&255,h&255,b>>24&255,b>>16&255,b>>8&255,b&255));break;case "string":e=b.length;g=a.length;a.push(0);for(h=0;h<e;++h)c=b.charCodeAt(h),c<128?a.push(c&127):c<2048?a.push(c>>>6&31|192,c&63|128):c<65536&&a.push(c>>>12&15|224,c>>>6&63|128,c&63|128);c=a.length-g-1;c<32?a[g]=160+c:c<65536?a.splice(g,1,218,c>>8,c&255):c<4294967296&&a.splice(g,1,219,c>>>24,c>>16&255,c>>8&255,c&255);break;default:if(++e>=
f)return o=1,[];if(D(b)){c=b.length;c<16?a.push(144+c):c<65536?a.push(220,c>>8,c&255):c<4294967296&&a.push(221,c>>>24,c>>16&255,c>>8&255,c&255);for(h=0;h<c;++h)i(a,b[h],e)}else{g=a.length;a.push(0);c=0;for(h in b)++c,i(a,h,e),i(a,b[h],e);c<16?a[g]=128+c:c<65536?a.splice(g,1,222,c>>8,c&255):c<4294967296&&a.splice(g,1,223,c>>>24,c>>16&255,c>>8&255,c&255)}}return a}function k(){var a,b,f,e=0,c,i,g=F;c=g[++p];if(c>=224)return c-256;if(c<192){if(c<128)return c;c<144?(e=c-128,c=128):c<160?(e=c-144,c=144):
(e=c-160,c=160)}switch(c){case 192:return null;case 194:return false;case 195:return true;case 202:return e=g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p],c=e>>23&255,i=e&8388607,!e||e===2147483648?0:c===255?i?NaN:Infinity:(e&2147483648?-1:1)*(i|8388608)*Math.pow(2,c-127-23);case 203:e=g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p];b=e&2147483648;c=e>>20&2047;i=e&1048575;if(!e||e===2147483648)return p+=4,0;if(c===2047)return p+=4,i?NaN:Infinity;e=g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p];
return(b?-1:1)*((i|1048576)*Math.pow(2,c-1023-20)+e*Math.pow(2,c-1023-52));case 207:return e=g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p],e*4294967296+g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p];case 206:e+=g[++p]*16777216+(g[++p]<<16);case 205:e+=g[++p]<<8;case 204:return e+g[++p];case 211:return e=g[++p],e&128?((e^255)*72057594037927936+(g[++p]^255)*281474976710656+(g[++p]^255)*1099511627776+(g[++p]^255)*4294967296+(g[++p]^255)*16777216+(g[++p]^255)*65536+(g[++p]^255)*256+(g[++p]^255)+1)*
-1:e*72057594037927936+g[++p]*281474976710656+g[++p]*1099511627776+g[++p]*4294967296+g[++p]*16777216+g[++p]*65536+g[++p]*256+g[++p];case 210:return e=g[++p]*16777216+(g[++p]<<16)+(g[++p]<<8)+g[++p],e<2147483648?e:e-4294967296;case 209:return e=(g[++p]<<8)+g[++p],e<32768?e:e-65536;case 208:return e=g[++p],e<128?e:e-256;case 219:e+=g[++p]*16777216+(g[++p]<<16);case 218:e+=(g[++p]<<8)+g[++p];case 160:for(c=[],b=p,a=b+e;b<a;)f=g[++b],c.push(f<128?f:f<224?(f&31)<<6|g[++b]&63:(f&15)<<12|(g[++b]&63)<<6|
g[++b]&63);p=b;return c.length<10240?C.apply(null,c):h(c);case 223:e+=g[++p]*16777216+(g[++p]<<16);case 222:e+=(g[++p]<<8)+g[++p];case 128:for(i={};e--;){a=g[++p]-160;for(c=[],b=p,a=b+a;b<a;)f=g[++b],c.push(f<128?f:f<224?(f&31)<<6|g[++b]&63:(f&15)<<12|(g[++b]&63)<<6|g[++b]&63);p=b;i[C.apply(null,c)]=k()}return i;case 221:e+=g[++p]*16777216+(g[++p]<<16);case 220:e+=(g[++p]<<8)+g[++p];case 144:for(c=[];e--;)c.push(k());return c}}function h(a){try{return C.apply(this,a)}catch(b){}for(var f=[],e=0,c=
a.length,g=A;e<c;++e)f[e]=g[a[e]];return f.join("")}function t(a,f,c){function h(){if(t.readyState===4){var a,q=t.status,i={status:q,ok:q>=200&&q<300};if(!z++){if(p==="PUT")a=i.ok?t.responseText:"";else if(i.ok)if(f.worker&&b.Worker){a=new Worker(msgpack.worker);a.onmessage=function(a){c(a.data,f,i)};a.postMessage({method:"unpack",data:t.responseText});o();return}else a=u?e(t):v(t.responseText),a=g(a);I&&I(t,f,i);c(a,f,i);o()}}}function i(a,b){if(!z++){var e={status:b||400,ok:false};I&&I(t,f,e);c(null,
f,e);o(a)}}function o(a){a&&t&&t.abort&&t.abort();k&&(clearTimeout(k),k=0);t=null;b.addEventListener&&b.removeEventListener("beforeunload",i,false)}var k=0,p=f.method||"GET",q=f.header||{},K=f.before,I=f.after,l=f.data||null,t=b.XMLHttpRequest?new XMLHttpRequest:b.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null,z=0,A,D=p==="GET"&&f.binary;try{t.onreadystatechange=h;t.open(p,a,true);K&&K(t,f);D&&t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined");l&&t.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");for(A in q)t.setRequestHeader(A,q[A]);b.addEventListener&&b.addEventListener("beforeunload",i,false);t.send(l);k=setTimeout(function(){i(1,408)},(f.timeout||10)*1E3)}catch(E){i(0,400)}}function v(a){var b=[],f=z,e=a.split(""),c=-1,g;g=e.length;for(a=g%8;a--;)++c,b[c]=f[e[c]];for(a=g>>3;a--;)b.push(f[e[++c]],f[e[++c]],f[e[++c]],f[e[++c]],f[e[++c]],f[e[++c]],f[e[++c]],f[e[++c]]);return b}function e(a){var b=[],f,e,c,g,h,i,q,o,k,u=-1,p;p=vblen(a);a=vbstr(a);e=Math.ceil(p/
2);for(f=e%8;f--;)c=a.charCodeAt(++u),b.push(c&255,c>>8);for(f=e>>3;f--;)c=a.charCodeAt(++u),e=a.charCodeAt(++u),g=a.charCodeAt(++u),h=a.charCodeAt(++u),i=a.charCodeAt(++u),q=a.charCodeAt(++u),o=a.charCodeAt(++u),k=a.charCodeAt(++u),b.push(c&255,c>>8,e&255,e>>8,g&255,g>>8,h&255,h>>8,i&255,i>>8,q&255,q>>8,o&255,o>>8,k&255,k>>8);p%2&&b.pop();return b}function c(a){var f=[],e=0,c=-1,g=a.length,h=[0,2,1][a.length%3],e=A,i=E;if(b.btoa){for(;c<g;)f.push(e[a[++c]]);return btoa(f.join(""))}for(--g;c<g;)e=
a[++c]<<16|a[++c]<<8|a[++c],f.push(i[e>>18&63],i[e>>12&63],i[e>>6&63],i[e&63]);h>1&&(f[f.length-2]="=");h>0&&(f[f.length-1]="=");return f.join("")}b.msgpack={pack:l,unpack:g,worker:"msgpack.js",upload:function(a,f,e){f.method="PUT";f.binary=true;if(f.worker&&b.Worker){var g=new Worker(msgpack.worker);g.onmessage=function(b){f.data=b.data;t(a,f,e)};g.postMessage({method:"pack",data:f.data})}else f.data=c(l(f.data)),t(a,f,e)},download:function(a,b,f){b.method="GET";b.binary=true;t(a,b,f)}};var u=/MSIE/.test(navigator.userAgent),
z={},A={},E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),F=[],p=0,o=0,D=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},C=String.fromCharCode,f=512;self.importScripts&&(onmessage=function(a){a.data.method==="pack"?postMessage(c(l(a.data.data))):postMessage(g(a.data.data))});(function(){for(var a=0,b;a<256;++a)b=C(a),z[b]=a,A[a]=b;for(a=128;a<256;++a)z[C(63232+a)]=a})();u&&document.write('<script type="text/vbscript">Function vblen(b)vblen=LenB(b.responseBody)End Function\nFunction vbstr(b)vbstr=CStr(b.responseBody)+chr(0)End Function<\/script>')}(this);
(function(b,l){function g(d,j,b){if(b===l&&d.nodeType===1)if(b=d.getAttribute("data-"+j),typeof b==="string"){try{b=b==="true"?true:b==="false"?false:b==="null"?null:!a.isNaN(b)?parseFloat(b):P.test(b)?a.parseJSON(b):b}catch(f){}a.data(d,j,b)}else b=l;return b}function i(){return false}function k(){return true}function h(d,j,b){b[0].type=d;return a.event.handle.apply(j,b)}function t(d){var j,b,f,e,c,g,h,q,i,r,o,k=[];e=[];c=a._data(this,Q);if(typeof c==="function")c=c.events;if(!(d.liveFired===this||
!c||!c.live||d.target.disabled||d.button&&d.type==="click")){d.namespace&&(o=RegExp("(^|\\.)"+d.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));d.liveFired=this;var w=c.live.slice(0);for(h=0;h<w.length;h++)c=w[h],c.origType.replace(I,"")===d.type?e.push(c.selector):w.splice(h--,1);e=a(d.target).closest(e,d.currentTarget);for(q=0,i=e.length;q<i;q++){r=e[q];for(h=0;h<w.length;h++)if(c=w[h],r.selector===c.selector&&(!o||o.test(c.namespace))){g=r.elem;f=null;if(c.preType==="mouseenter"||c.preType===
"mouseleave")d.type=c.preType,f=a(d.relatedTarget).closest(c.selector)[0];(!f||f!==g)&&k.push({elem:g,handleObj:c,level:r.level})}}for(q=0,i=k.length;q<i;q++){e=k[q];if(b&&e.level>b)break;d.currentTarget=e.elem;d.data=e.handleObj.data;d.handleObj=e.handleObj;o=e.handleObj.origHandler.apply(e.elem,arguments);if(o===false||d.isPropagationStopped())if(b=e.level,o===false&&(j=false),d.isImmediatePropagationStopped())break}return j}}function v(a,j){return(a&&a!=="*"?a+".":"")+j.replace(T,"`").replace(B,
"&")}function e(d,j,b){if(a.isFunction(j))return a.grep(d,function(a,d){return!!j.call(a,d,a)===b});else if(j.nodeType)return a.grep(d,function(a){return a===j===b});else if(typeof j==="string"){var f=a.grep(d,function(a){return a.nodeType===1});if(Ga.test(j))return a.filter(j,f,!b);else j=a.filter(j,f)}return a.grep(d,function(d){return a.inArray(d,j)>=0===b})}function c(d,j){if(j.nodeType===1&&a.hasData(d)){var b=a.expando,f=a.data(d),e=a.data(j,f);if(f=f[b]){var c=f.events,e=e[b]=a.extend({},f);
if(c){delete e.handle;e.events={};for(var g in c){b=0;for(f=c[g].length;b<f;b++)a.event.add(j,g,c[g][b],c[g][b].data)}}}}}function u(d,j){if(j.nodeType===1){var b=j.nodeName.toLowerCase();j.clearAttributes();j.mergeAttributes(d);if(b==="object")j.outerHTML=d.outerHTML;else if(b==="input"&&(d.type==="checkbox"||d.type==="radio")){if(d.checked)j.defaultChecked=j.checked=d.checked;if(j.value!==d.value)j.value=d.value}else if(b==="option")j.selected=d.defaultSelected;else if(b==="input"||b==="textarea")j.defaultValue=
d.defaultValue;j.removeAttribute(a.expando)}}function z(d,j){j.src?a.ajax({url:j.src,async:false,dataType:"script"}):a.globalEval(j.text||j.textContent||j.innerHTML||"");j.parentNode&&j.parentNode.removeChild(j)}function A(d,j,b){var f=j==="width"?d.offsetWidth:d.offsetHeight;if(b==="border")return f;a.each(j==="width"?Ya:Ha,function(){b||(f-=parseFloat(a.css(d,"padding"+this))||0);b==="margin"?f+=parseFloat(a.css(d,"margin"+this))||0:f-=parseFloat(a.css(d,"border"+this+"Width"))||0});return f}function E(d){return function(j,
b){var s;typeof j!=="string"&&(b=j,j="*");if(a.isFunction(b))for(var f=j.toLowerCase().split(la),e=0,c=f.length,g,h;e<c;e++)g=f[e],(h=/^\+/.test(g))&&(g=g.substr(1)||"*"),s=d[g]=d[g]||[],g=s,g[h?"unshift":"push"](b)}}function F(a,j,b,f,e,c){e=e||j.dataTypes[0];c=c||{};c[e]=true;for(var e=a[e],g=0,h=e?e.length:0,q=a===Ia,i;g<h&&(q||!i);g++)i=e[g](j,b,f),typeof i==="string"&&(c[i]?i=l:(j.dataTypes.unshift(i),i=F(a,j,b,f,i,c)));if((q||!i)&&!c["*"])i=F(a,j,b,f,"*",c);return i}function p(d,j,b,f){a.isArray(j)&&
j.length?a.each(j,function(j,e){b||ta.test(d)?f(d,e):p(d+"["+(typeof e==="object"||a.isArray(e)?j:"")+"]",e,b,f)}):!b&&j!=null&&typeof j==="object"?a.isArray(j)||a.isEmptyObject(j)?f(d,""):a.each(j,function(a,j){p(d+"["+a+"]",j,b,f)}):f(d,j)}function o(d,j){var b={};a.each(Za.concat.apply([],Za.slice(0,j)),function(){b[this]=d});return b}function D(d){if(!Qa[d]){var j=a("<"+d+">").appendTo("body"),b=j.css("display");j.remove();if(b==="none"||b==="")b="block";Qa[d]=b}return Qa[d]}function C(d){return a.isWindow(d)?
d:d.nodeType===9?d.defaultView||d.parentWindow:false}var f=b.document,a=function(){function a(){if(!j.isReady){try{f.documentElement.doScroll("left")}catch(s){setTimeout(a,1);return}j.ready()}}var j=function(a,s){return new j.fn.init(a,s,g)},e=b.jQuery,c=b.$,g,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,i=/\S/,q=/^\s+/,r=/\s+$/,o=/\d/,k=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,w=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,K=/(?:^|:|,)(?:\s*\[)+/g,
t=/(webkit)[ \/]([\w.]+)/,I=/(opera)(?:.*version)?[ \/]([\w.]+)/,ga=/(msie) ([\w.]+)/,ab=/(mozilla)(?:.*? rv:([\w.]+))?/,G=navigator.userAgent,z=false,A,U="then done fail isResolved isRejected promise".split(" "),v,s=Object.prototype.toString,y=Object.prototype.hasOwnProperty,O=Array.prototype.push,$=Array.prototype.slice,ma=String.prototype.trim,H=Array.prototype.indexOf,ia={};j.fn=j.prototype={constructor:j,init:function(a,s,d){var y;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,
this.length=1,this;if(a==="body"&&!s&&f.body)return this.context=f,this[0]=f.body,this.selector="body",this.length=1,this;if(typeof a==="string")if((y=h.exec(a))&&(y[1]||!s))if(y[1])return d=(s=s instanceof j?s[0]:s)?s.ownerDocument||s:f,(a=k.exec(a))?j.isPlainObject(s)?(a=[f.createElement(a[1])],j.fn.attr.call(a,s,true)):a=[d.createElement(a[1])]:(a=j.buildFragment([y[1]],[d]),a=(a.cacheable?j.clone(a.fragment):a.fragment).childNodes),j.merge(this,a);else{if((s=f.getElementById(y[2]))&&s.parentNode){if(s.id!==
y[2])return d.find(a);this.length=1;this[0]=s}this.context=f;this.selector=a;return this}else return!s||s.jquery?(s||d).find(a):this.constructor(s).find(a);else if(j.isFunction(a))return d.ready(a);if(a.selector!==l)this.selector=a.selector,this.context=a.context;return j.makeArray(a,this)},selector:"",jquery:"1.5",length:0,size:function(){return this.length},toArray:function(){return $.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,
s,d){var y=this.constructor();j.isArray(a)?O.apply(y,a):j.merge(y,a);y.prevObject=this;y.context=this.context;if(s==="find")y.selector=this.selector+(this.selector?" ":"")+d;else if(s)y.selector=this.selector+"."+s+"("+d+")";return y},each:function(a,s){return j.each(this,a,s)},ready:function(a){j.bindReady();A.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack($.apply(this,
arguments),"slice",$.call(arguments).join(","))},map:function(a){return this.pushStack(j.map(this,function(s,d){return a.call(s,d,s)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var a,s,d,y,b,O=arguments[0]||{},f=1,H=arguments.length,$=false;typeof O==="boolean"&&($=O,O=arguments[1]||{},f=2);typeof O!=="object"&&!j.isFunction(O)&&(O={});H===f&&(O=this,--f);for(;f<H;f++)if((a=arguments[f])!=
null)for(s in a)d=O[s],y=a[s],O!==y&&($&&y&&(j.isPlainObject(y)||(b=j.isArray(y)))?(b?(b=false,d=d&&j.isArray(d)?d:[]):d=d&&j.isPlainObject(d)?d:{},O[s]=j.extend($,d,y)):y!==l&&(O[s]=y));return O};j.extend({noConflict:function(a){b.$=c;if(a)b.jQuery=e;return j},isReady:false,readyWait:1,ready:function(a){a===true&&j.readyWait--;if(!j.readyWait||a!==true&&!j.isReady){if(!f.body)return setTimeout(j.ready,1);j.isReady=true;a!==true&&--j.readyWait>0||(A.resolveWith(f,[j]),j.fn.trigger&&j(f).trigger("ready").unbind("ready"))}},
bindReady:function(){if(!z){z=true;if(f.readyState==="complete")return setTimeout(j.ready,1);if(f.addEventListener)f.addEventListener("DOMContentLoaded",v,false),b.addEventListener("load",j.ready,false);else if(f.attachEvent){f.attachEvent("onreadystatechange",v);b.attachEvent("onload",j.ready);var s=false;try{s=b.frameElement==null}catch(y){}f.documentElement.doScroll&&s&&a()}}},isFunction:function(a){return j.type(a)==="function"},isArray:Array.isArray||function(a){return j.type(a)==="array"},isWindow:function(a){return a&&
typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!o.test(a)||isNaN(a)},type:function(a){return a==null?String(a):ia[s.call(a)]||"object"},isPlainObject:function(a){if(!a||j.type(a)!=="object"||a.nodeType||j.isWindow(a))return false;if(a.constructor&&!y.call(a,"constructor")&&!y.call(a.constructor.prototype,"isPrototypeOf"))return false;for(var s in a);return s===l||y.call(a,s)},isEmptyObject:function(a){for(var s in a)return false;return true},error:function(a){throw a;},
parseJSON:function(a){if(typeof a!=="string"||!a)return null;a=j.trim(a);if(w.test(a.replace(u,"@").replace(p,"]").replace(K,"")))return b.JSON&&b.JSON.parse?b.JSON.parse(a):(new Function("return "+a))();else j.error("Invalid JSON: "+a)},parseXML:function(a,s,d){b.DOMParser?(d=new DOMParser,s=d.parseFromString(a,"text/xml")):(s=new ActiveXObject("Microsoft.XMLDOM"),s.async="false",s.loadXML(a));d=s.documentElement;(!d||!d.nodeName||d.nodeName==="parsererror")&&j.error("Invalid XML: "+a);return s},
noop:function(){},globalEval:function(a){if(a&&i.test(a)){var s=f.getElementsByTagName("head")[0]||f.documentElement,d=f.createElement("script");d.type="text/javascript";j.support.scriptEval()?d.appendChild(f.createTextNode(a)):d.text=a;s.insertBefore(d,s.firstChild);s.removeChild(d)}},nodeName:function(a,s){return a.nodeName&&a.nodeName.toUpperCase()===s.toUpperCase()},each:function(a,s,d){var y,b=0,O=a.length,f=O===l||j.isFunction(a);if(d)if(f)for(y in a){if(s.apply(a[y],d)===false)break}else for(;b<
O;){if(s.apply(a[b++],d)===false)break}else if(f)for(y in a){if(s.call(a[y],y,a[y])===false)break}else for(d=a[0];b<O&&s.call(d,b,d)!==false;d=a[++b]);return a},trim:ma?function(a){return a==null?"":ma.call(a)}:function(a){return a==null?"":a.toString().replace(q,"").replace(r,"")},makeArray:function(a,s){var d=s||[];if(a!=null){var y=j.type(a);a.length==null||y==="string"||y==="function"||y==="regexp"||j.isWindow(a)?O.call(d,a):j.merge(d,a)}return d},inArray:function(a,s){if(s.indexOf)return s.indexOf(a);
for(var d=0,y=s.length;d<y;d++)if(s[d]===a)return d;return-1},merge:function(a,s){var d=a.length,y=0;if(typeof s.length==="number")for(var j=s.length;y<j;y++)a[d++]=s[y];else for(;s[y]!==l;)a[d++]=s[y++];a.length=d;return a},grep:function(a,s,d){for(var y=[],j,d=!!d,b=0,O=a.length;b<O;b++)j=!!s(a[b],b),d!==j&&y.push(a[b]);return y},map:function(a,s,d){for(var y=[],j,b=0,O=a.length;b<O;b++)j=s(a[b],b,d),j!=null&&(y[y.length]=j);return y.concat.apply([],y)},guid:1,proxy:function(a,s,d){arguments.length===
2&&(typeof s==="string"?(d=a,a=d[s],s=l):s&&!j.isFunction(s)&&(d=s,s=l));!s&&a&&(s=function(){return a.apply(d||this,arguments)});if(a)s.guid=a.guid=a.guid||s.guid||j.guid++;return s},access:function(a,s,d,y,b,O){var f=a.length;if(typeof s==="object"){for(var H in s)j.access(a,H,s[H],y,b,d);return a}if(d!==l){y=!O&&y&&j.isFunction(d);for(H=0;H<f;H++)b(a[H],s,y?d.call(a[H],H,b(a[H],s)):d,O);return a}return f?b(a[0],s):l},now:function(){return(new Date).getTime()},_Deferred:function(){var a=[],s,d,
y,b={done:function(){if(!y){var d=arguments,O,f,H,$,e;s&&(e=s,s=0);for(O=0,f=d.length;O<f;O++)H=d[O],$=j.type(H),$==="array"?b.done.apply(b,H):$==="function"&&a.push(H);e&&b.resolveWith(e[0],e[1])}return this},resolveWith:function(j,b){if(!y&&!s&&!d){d=1;try{for(;a[0];)a.shift().apply(j,b)}finally{s=[j,b],d=0}}return this},resolve:function(){b.resolveWith(j.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return!(!d&&!s)},cancel:function(){y=1;a=[];return this}};
return b},Deferred:function(a){var s=j._Deferred(),d=j._Deferred(),y;j.extend(s,{then:function(a,d){s.done(a).fail(d);return this},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,promise:function(a,d){if(a==null){if(y)return y;y=a={}}for(d=U.length;d--;)a[U[d]]=s[U[d]];return a}});s.then(d.cancel,s.cancel);delete s.cancel;a&&a.call(s,s);return s},when:function(a){var s=arguments,d=s.length,y=d<=1&&a&&j.isFunction(a.promise)?a:j.Deferred(),b=y.promise(),O;d>1?(O=Array(d),
j.each(s,function(a,s){j.when(s).then(function(s){O[a]=arguments.length>1?$.call(arguments,0):s;--d||y.resolveWith(b,O)},y.reject)})):y!==a&&y.resolve(a);return b},uaMatch:function(a){a=a.toLowerCase();a=t.exec(a)||I.exec(a)||ga.exec(a)||a.indexOf("compatible")<0&&ab.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(s,d){return new a.fn.init(s,d)}j.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.subclass=this.subclass;a.fn.init=function(d,
y){y&&y instanceof j&&!(y instanceof a)&&(y=a(y));return j.fn.init.call(this,d,y,s)};a.fn.init.prototype=a.fn;var s=a(f);return a},browser:{}});A=j._Deferred();j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,s){ia["[object "+s+"]"]=s.toLowerCase()});G=j.uaMatch(G);if(G.browser)j.browser[G.browser]=true,j.browser.version=G.version;if(j.browser.webkit)j.browser.safari=true;if(H)j.inArray=function(a,s){return H.call(s,a)};i.test("\u00a0")&&(q=/^[\s\xA0]+/,r=/[\s\xA0]+$/);
g=j(f);f.addEventListener?v=function(){f.removeEventListener("DOMContentLoaded",v,false);j.ready()}:f.attachEvent&&(v=function(){f.readyState==="complete"&&(f.detachEvent("onreadystatechange",v),j.ready())});return b.jQuery=b.$=j}();(function(){a.support={};var d=f.createElement("div");d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var j=d.getElementsByTagName("*"),e=d.getElementsByTagName("a")[0],
c=f.createElement("select"),g=c.appendChild(f.createElement("option"));if(j&&j.length&&e){a.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:g.selected,deleteExpando:true,optDisabled:false,
checkClone:false,_scriptEval:null,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};c.disabled=true;a.support.optDisabled=!g.disabled;a.support.scriptEval=function(){if(a.support._scriptEval===null){var d=f.documentElement,j=f.createElement("script"),e="script"+a.now();j.type="text/javascript";try{j.appendChild(f.createTextNode("window."+e+"=1;"))}catch(c){}d.insertBefore(j,d.firstChild);b[e]?(a.support._scriptEval=true,delete b[e]):a.support._scriptEval=
false;d.removeChild(j)}return a.support._scriptEval};try{delete d.test}catch(h){a.support.deleteExpando=false}d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function fa(){a.support.noCloneEvent=false;d.detachEvent("onclick",fa)}),d.cloneNode(true).fireEvent("onclick"));d=f.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";j=f.createDocumentFragment();j.appendChild(d.firstChild);a.support.checkClone=j.cloneNode(true).cloneNode(true).lastChild.checked;
a(function(){var d=f.createElement("div"),j=f.getElementsByTagName("body")[0];if(j){d.style.width=d.style.paddingLeft="1px";j.appendChild(d);a.boxModel=a.support.boxModel=d.offsetWidth===2;if("zoom"in d.style)d.style.display="inline",d.style.zoom=1,a.support.inlineBlockNeedsLayout=d.offsetWidth===2,d.style.display="",d.innerHTML="<div style='width:4px;'></div>",a.support.shrinkWrapBlocks=d.offsetWidth!==2;d.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
var b=d.getElementsByTagName("td");a.support.reliableHiddenOffsets=b[0].offsetHeight===0;b[0].style.display="";b[1].style.display="none";a.support.reliableHiddenOffsets=a.support.reliableHiddenOffsets&&b[0].offsetHeight===0;d.innerHTML="";j.removeChild(d).style.display="none"}});j=function(a){var d=f.createElement("div"),a="on"+a;if(!d.attachEvent)return true;var j=a in d;j||(d.setAttribute(a,"return;"),j=typeof d[a]==="function");return j};a.support.submitBubbles=j("submit");a.support.changeBubbles=
j("change");d=j=e=null}})();var P=/^(?:\{.*\}|\[.*\])$/;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(d){d=d.nodeType?a.cache[d[a.expando]]:d[a.expando];return!!d&&!a.isEmptyObject(d)},data:function(d,j,b,f){if(a.acceptData(d)){var e=a.expando,c=typeof j==="string",g=d.nodeType,h=g?a.cache:d,i=g?d[a.expando]:d[a.expando]&&a.expando;if(i&&(!f||!i||h[i][e])||
!(c&&b===l)){if(!i)g?d[a.expando]=i=++a.uuid:i=a.expando;h[i]||(h[i]={});typeof j==="object"&&(f?h[i][e]=a.extend(h[i][e],j):h[i]=a.extend(h[i],j));d=h[i];f&&(d[e]||(d[e]={}),d=d[e]);b!==l&&(d[j]=b);return j==="events"&&!d[j]?d[e]&&d[e].events:c?d[j]:d}}},removeData:function(d,j,f){if(a.acceptData(d)){var e=a.expando,c=d.nodeType,g=c?a.cache:d,h=c?d[a.expando]:a.expando;if(g[h]){if(j){var i=f?g[h][e]:g[h];if(i&&(delete i[j],!a.isEmptyObject(i)))return}if(f&&(delete g[h][e],!a.isEmptyObject(g[h])))return;
j=g[h][e];a.support.deleteExpando||g!=b?delete g[h]:g[h]=null;j?(g[h]={},g[h][e]=j):c&&(a.support.deleteExpando?delete d[a.expando]:d.removeAttribute?d.removeAttribute(a.expando):d[a.expando]=null)}}},_data:function(d,j,b){return a.data(d,j,b,true)},acceptData:function(d){if(d.nodeName){var j=a.noData[d.nodeName.toLowerCase()];if(j)return!(j===true||d.getAttribute("classid")!==j)}return true}});a.fn.extend({data:function(d,j){var b=null;if(typeof d==="undefined"){if(this.length&&(b=a.data(this[0]),
this[0].nodeType===1))for(var f=this[0].attributes,e,c=0,h=f.length;c<h;c++)e=f[c].name,e.indexOf("data-")===0&&(e=e.substr(5),g(this[0],e,b[e]));return b}else if(typeof d==="object")return this.each(function(){a.data(this,d)});var i=d.split(".");i[1]=i[1]?"."+i[1]:"";return j===l?(b=this.triggerHandler("getData"+i[1]+"!",[i[0]]),b===l&&this.length&&(b=a.data(this[0],d),b=g(this[0],d,b)),b===l&&i[1]?this.data(i[0]):b):this.each(function(){var b=a(this),f=[i[0],j];b.triggerHandler("setData"+i[1]+"!",
f);a.data(this,d,j);b.triggerHandler("changeData"+i[1]+"!",f)})},removeData:function(d){return this.each(function(){a.removeData(this,d)})}});a.extend({queue:function(d,j,b){if(d){var j=(j||"fx")+"queue",f=a._data(d,j);if(!b)return f||[];!f||a.isArray(b)?f=a._data(d,j,a.makeArray(b)):f.push(b);return f}},dequeue:function(d,j){var j=j||"fx",b=a.queue(d,j),f=b.shift();f==="inprogress"&&(f=b.shift());f&&(j==="fx"&&b.unshift("inprogress"),f.call(d,function(){a.dequeue(d,j)}));b.length||a.removeData(d,
j+"queue",true)}});a.fn.extend({queue:function(d,j){typeof d!=="string"&&(j=d,d="fx");return j===l?a.queue(this[0],d):this.each(function(){var b=a.queue(this,d,j);d==="fx"&&b[0]!=="inprogress"&&a.dequeue(this,d)})},dequeue:function(d){return this.each(function(){a.dequeue(this,d)})},delay:function(d,j){d=a.fx?a.fx.speeds[d]||d:d;j=j||"fx";return this.queue(j,function(){var b=this;setTimeout(function(){a.dequeue(b,j)},d)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var Y=/[\n\t\r]/g,
M=/\s+/,x=/\r/g,Z=/^(?:href|src|style)$/,L=/^(?:button|input)$/i,X=/^(?:button|input|object|select|textarea)$/i,q=/^a(?:rea)?$/i,K=/^(?:radio|checkbox)$/i;a.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};a.fn.extend({attr:function(d,j){return a.access(this,d,j,true,a.attr)},removeAttr:function(d){return this.each(function(){a.attr(this,
d,"");this.nodeType===1&&this.removeAttribute(d)})},addClass:function(d){if(a.isFunction(d))return this.each(function(j){var b=a(this);b.addClass(d.call(this,j,b.attr("class")))});if(d&&typeof d==="string")for(var j=(d||"").split(M),b=0,f=this.length;b<f;b++){var e=this[b];if(e.nodeType===1)if(e.className){for(var c=" "+e.className+" ",g=e.className,h=0,i=j.length;h<i;h++)c.indexOf(" "+j[h]+" ")<0&&(g+=" "+j[h]);e.className=a.trim(g)}else e.className=d}return this},removeClass:function(d){if(a.isFunction(d))return this.each(function(j){var b=
a(this);b.removeClass(d.call(this,j,b.attr("class")))});if(d&&typeof d==="string"||d===l)for(var j=(d||"").split(M),b=0,f=this.length;b<f;b++){var e=this[b];if(e.nodeType===1&&e.className)if(d){for(var c=(" "+e.className+" ").replace(Y," "),g=0,h=j.length;g<h;g++)c=c.replace(" "+j[g]+" "," ");e.className=a.trim(c)}else e.className=""}return this},toggleClass:function(d,j){var b=typeof d,f=typeof j==="boolean";return a.isFunction(d)?this.each(function(b){var f=a(this);f.toggleClass(d.call(this,b,f.attr("class"),
j),j)}):this.each(function(){if(b==="string")for(var e,c=0,g=a(this),h=j,i=d.split(M);e=i[c++];)h=f?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else if(b==="undefined"||b==="boolean")this.className&&a._data(this,"__className__",this.className),this.className=this.className||d===false?"":a._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",j=0,b=this.length;j<b;j++)if((" "+this[j].className+" ").replace(Y," ").indexOf(a)>-1)return true;return false},val:function(d){if(!arguments.length){var j=
this[0];if(j){if(a.nodeName(j,"option")){var b=j.attributes.value;return!b||b.specified?j.value:j.text}if(a.nodeName(j,"select")){var f=j.selectedIndex,b=[],e=j.options,j=j.type==="select-one";if(f<0)return null;for(var c=j?f:0,f=j?f+1:e.length;c<f;c++){var g=e[c];if(g.selected&&(a.support.optDisabled?!g.disabled:g.getAttribute("disabled")===null)&&(!g.parentNode.disabled||!a.nodeName(g.parentNode,"optgroup"))){d=a(g).val();if(j)return d;b.push(d)}}return b}return K.test(j.type)&&!a.support.checkOn?
j.getAttribute("value")===null?"on":j.value:(j.value||"").replace(x,"")}return l}var h=a.isFunction(d);return this.each(function(j){var b=a(this),f=d;if(this.nodeType===1)if(h&&(f=d.call(this,j,b.val())),f==null?f="":typeof f==="number"?f+="":a.isArray(f)&&(f=a.map(f,function(a){return a==null?"":a+""})),a.isArray(f)&&K.test(this.type))this.checked=a.inArray(b.val(),f)>=0;else if(a.nodeName(this,"select")){var e=a.makeArray(f);a("option",this).each(function(){this.selected=a.inArray(a(this).val(),
e)>=0});if(!e.length)this.selectedIndex=-1}else this.value=f})}});a.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(d,j,b,f){if(!d||d.nodeType===3||d.nodeType===8||d.nodeType===2)return l;if(f&&j in a.attrFn)return a(d)[j](b);var f=d.nodeType!==1||!a.isXMLDoc(d),e=b!==l,j=f&&a.props[j]||j;if(d.nodeType===1){var c=Z.test(j);if((j in d||d[j]!==l)&&f&&!c){e&&(j==="type"&&L.test(d.nodeName)&&d.parentNode&&a.error("type property can't be changed"),
b===null?d.nodeType===1&&d.removeAttribute(j):d[j]=b);if(a.nodeName(d,"form")&&d.getAttributeNode(j))return d.getAttributeNode(j).nodeValue;return j==="tabIndex"?(j=d.getAttributeNode("tabIndex"))&&j.specified?j.value:X.test(d.nodeName)||q.test(d.nodeName)&&d.href?0:l:d[j]}if(!a.support.style&&f&&j==="style"){if(e)d.style.cssText=""+b;return d.style.cssText}e&&d.setAttribute(j,""+b);if(!d.attributes[j]&&d.hasAttribute&&!d.hasAttribute(j))return l;d=!a.support.hrefNormalized&&f&&c?d.getAttribute(j,
2):d.getAttribute(j);return d===null?l:d}e&&(d[j]=b);return d[j]}});var I=/\.(.*)$/,W=/^(?:textarea|input|select)$/i,T=/\./g,B=/ /g,N=/[^\w\s.|`]/g,aa=function(a){return a.replace(N,"\\$&")},Q="events";a.event={add:function(d,j,f,e){if(!(d.nodeType===3||d.nodeType===8)){a.isWindow(d)&&d!==b&&!d.frameElement&&(d=b);if(f===false)f=i;else if(!f)return;var c,g;if(f.handler)c=f,f=c.handler;if(!f.guid)f.guid=a.guid++;if(g=a._data(d)){var h=g[Q],q=g.handle;if(typeof h==="function")q=h.handle,h=h.events;
else if(!h)d.nodeType||(g[Q]=g=function(){}),g.events=h={};if(!q)g.handle=q=function(){return typeof a!=="undefined"&&!a.event.triggered?a.event.handle.apply(q.elem,arguments):l};q.elem=d;for(var j=j.split(" "),r,o=0,k;r=j[o++];){g=c?a.extend({},c):{handler:f,data:e};r.indexOf(".")>-1?(k=r.split("."),r=k.shift(),g.namespace=k.slice(0).sort().join(".")):(k=[],g.namespace="");g.type=r;if(!g.guid)g.guid=f.guid;var w=h[r],u=a.event.special[r]||{};if(!w&&(w=h[r]=[],!u.setup||u.setup.call(d,e,k,q)===false))d.addEventListener?
d.addEventListener(r,q,false):d.attachEvent&&d.attachEvent("on"+r,q);if(u.add&&(u.add.call(d,g),!g.handler.guid))g.handler.guid=f.guid;w.push(g);a.event.global[r]=true}d=null}}},global:{},remove:function(d,j,b,f){if(!(d.nodeType===3||d.nodeType===8)){b===false&&(b=i);var e,c,g=0,h,q,r,o,k,w,u=a.hasData(d)&&a._data(d),p=u&&u[Q];if(u&&p){if(typeof p==="function")u=p,p=p.events;if(j&&j.type)b=j.handler,j=j.type;if(!j||typeof j==="string"&&j.charAt(0)===".")for(e in j=j||"",p)a.event.remove(d,e+j);else{for(j=
j.split(" ");e=j[g++];)if(o=e,h=e.indexOf(".")<0,q=[],h||(q=e.split("."),e=q.shift(),r=RegExp("(^|\\.)"+a.map(q.slice(0).sort(),aa).join("\\.(?:.*\\.)?")+"(\\.|$)")),k=p[e])if(b){o=a.event.special[e]||{};for(c=f||0;c<k.length;c++)if(w=k[c],b.guid===w.guid){if(h||r.test(w.namespace))f==null&&k.splice(c--,1),o.remove&&o.remove.call(d,w);if(f!=null)break}if(k.length===0||f!=null&&k.length===1)(!o.teardown||o.teardown.call(d,q)===false)&&a.removeEvent(d,e,u.handle),delete p[e]}else for(c=0;c<k.length;c++)if(w=
k[c],h||r.test(w.namespace))a.event.remove(d,o,w.handler,c),k.splice(c--,1);if(a.isEmptyObject(p)){if(j=u.handle)j.elem=null;delete u.events;delete u.handle;typeof u==="function"?a.removeData(d,Q,true):a.isEmptyObject(u)&&a.removeData(d,l,true)}}}}},trigger:function(d,j,b,f){var e=d.type||d;if(!f){d=typeof d==="object"?d[a.expando]?d:a.extend(a.Event(e),d):a.Event(e);if(e.indexOf("!")>=0)d.type=e=e.slice(0,-1),d.exclusive=true;b||(d.stopPropagation(),a.event.global[e]&&a.each(a.cache,function(){var b=
this[a.expando];b&&b.events&&b.events[e]&&a.event.trigger(d,j,b.handle.elem)}));if(!b||b.nodeType===3||b.nodeType===8)return l;d.result=l;d.target=b;j=a.makeArray(j);j.unshift(d)}d.currentTarget=b;(f=b.nodeType?a._data(b,"handle"):(a._data(b,Q)||{}).handle)&&f.apply(b,j);f=b.parentNode||b.ownerDocument;try{if((!b||!b.nodeName||!a.noData[b.nodeName.toLowerCase()])&&b["on"+e]&&b["on"+e].apply(b,j)===false)d.result=false,d.preventDefault()}catch(c){}if(!d.isPropagationStopped()&&f)a.event.trigger(d,
j,f,true);else if(!d.isDefaultPrevented()){var g,f=d.target,h=e.replace(I,""),i=a.nodeName(f,"a")&&h==="click",q=a.event.special[h]||{};if((!q._default||q._default.call(b,d)===false)&&!i&&(!f||!f.nodeName||!a.noData[f.nodeName.toLowerCase()])){try{if(f[h])(g=f["on"+h])&&(f["on"+h]=null),a.event.triggered=true,f[h]()}catch(r){}g&&(f["on"+h]=g);a.event.triggered=false}}},handle:function(d){var j,f,e,c;f=[];var g=a.makeArray(arguments),d=g[0]=a.event.fix(d||b.event);d.currentTarget=this;j=d.type.indexOf(".")<
0&&!d.exclusive;if(!j)e=d.type.split("."),d.type=e.shift(),f=e.slice(0).sort(),e=RegExp("(^|\\.)"+f.join("\\.(?:.*\\.)?")+"(\\.|$)");d.namespace=d.namespace||f.join(".");c=a._data(this,Q);if(typeof c==="function")c=c.events;f=(c||{})[d.type];if(c&&f){f=f.slice(0);c=0;for(var h=f.length;c<h;c++){var i=f[c];if(j||e.test(i.namespace)){d.handler=i.handler;d.data=i.data;d.handleObj=i;i=i.handler.apply(this,g);if(i!==l)d.result=i,i===false&&(d.preventDefault(),d.stopPropagation());if(d.isImmediatePropagationStopped())break}}}return d.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(d){if(d[a.expando])return d;for(var j=d,d=a.Event(j),b=this.props.length,e;b;)e=this.props[--b],d[e]=j[e];if(!d.target)d.target=d.srcElement||f;if(d.target.nodeType===
3)d.target=d.target.parentNode;if(!d.relatedTarget&&d.fromElement)d.relatedTarget=d.fromElement===d.target?d.toElement:d.fromElement;if(d.pageX==null&&d.clientX!=null)j=f.documentElement,b=f.body,d.pageX=d.clientX+(j&&j.scrollLeft||b&&b.scrollLeft||0)-(j&&j.clientLeft||b&&b.clientLeft||0),d.pageY=d.clientY+(j&&j.scrollTop||b&&b.scrollTop||0)-(j&&j.clientTop||b&&b.clientTop||0);if(d.which==null&&(d.charCode!=null||d.keyCode!=null))d.which=d.charCode!=null?d.charCode:d.keyCode;if(!d.metaKey&&d.ctrlKey)d.metaKey=
d.ctrlKey;if(!d.which&&d.button!==l)d.which=d.button&1?1:d.button&2?3:d.button&4?2:0;return d},guid:1E8,proxy:a.proxy,special:{ready:{setup:a.bindReady,teardown:a.noop},live:{add:function(d){a.event.add(this,v(d.origType,d.selector),a.extend({},d,{handler:t,guid:d.handler.guid}))},remove:function(d){a.event.remove(this,v(d.origType,d.selector),d)}},beforeunload:{setup:function(d,j,b){if(a.isWindow(this))this.onbeforeunload=b},teardown:function(a,j){if(this.onbeforeunload===j)this.onbeforeunload=null}}}};
a.removeEvent=f.removeEventListener?function(a,j,b){a.removeEventListener&&a.removeEventListener(j,b,false)}:function(a,j,b){a.detachEvent&&a.detachEvent("on"+j,b)};a.Event=function(d){if(!this.preventDefault)return new a.Event(d);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.returnValue===false||d.getPreventDefault&&d.getPreventDefault()?k:i):this.type=d;this.timeStamp=a.now();this[a.expando]=true};a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
k;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=k;var a=this.originalEvent;if(a)a.stopPropagation&&a.stopPropagation(),a.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i};var ja=function(d){var j=d.relatedTarget;try{for(;j&&j!==this;)j=j.parentNode;if(j!==this)d.type=
d.data,a.event.handle.apply(this,arguments)}catch(b){}},pa=function(d){d.type=d.data;a.event.handle.apply(this,arguments)};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(d,j){a.event.special[d]={setup:function(b){a.event.add(this,j,b&&b.selector?pa:ja,d)},teardown:function(d){a.event.remove(this,j,d&&d.selector?pa:ja)}}});if(!a.support.submitBubbles)a.event.special.submit={setup:function(){if(this.nodeName&&this.nodeName.toLowerCase()!=="form")a.event.add(this,"click.specialSubmit",
function(d){var j=d.target,b=j.type;if((b==="submit"||b==="image")&&a(j).closest("form").length)return d.liveFired=l,h("submit",this,arguments)}),a.event.add(this,"keypress.specialSubmit",function(d){var j=d.target,b=j.type;if((b==="text"||b==="password")&&a(j).closest("form").length&&d.keyCode===13)return d.liveFired=l,h("submit",this,arguments)});else return false},teardown:function(){a.event.remove(this,".specialSubmit")}};if(!a.support.changeBubbles){var ea,w=function(d){var b=d.type,f=d.value;
if(b==="radio"||b==="checkbox")f=d.checked;else if(b==="select-multiple")f=d.selectedIndex>-1?a.map(d.options,function(a){return a.selected}).join("-"):"";else if(d.nodeName.toLowerCase()==="select")f=d.selectedIndex;return f},G=function(d,b){var f=d.target,e,c;if(W.test(f.nodeName)&&!f.readOnly&&(e=a._data(f,"_change_data"),c=w(f),(d.type!=="focusout"||f.type!=="radio")&&a._data(f,"_change_data",c),!(e===l||c===e)))if(e!=null||c)return d.type="change",d.liveFired=l,a.event.trigger(d,b,f)};a.event.special.change=
{filters:{focusout:G,beforedeactivate:G,click:function(a){var b=a.target,f=b.type;if(f==="radio"||f==="checkbox"||b.nodeName.toLowerCase()==="select")return G.call(this,a)},keydown:function(a){var b=a.target,f=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(f==="checkbox"||f==="radio")||f==="select-multiple")return G.call(this,a)},beforeactivate:function(d){d=d.target;a._data(d,"_change_data",w(d))}},setup:function(){if(this.type==="file")return false;for(var d in ea)a.event.add(this,
d+".specialChange",ea[d]);return W.test(this.nodeName)},teardown:function(){a.event.remove(this,".specialChange");return W.test(this.nodeName)}};ea=a.event.special.change.filters;ea.focus=ea.beforeactivate}f.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(d,b){function f(d){d=a.event.fix(d);d.type=b;return a.event.handle.call(this,d)}a.event.special[b]={setup:function(){this.addEventListener(d,f,true)},teardown:function(){this.removeEventListener(d,f,true)}}});a.each(["bind","one"],
function(d,b){a.fn[b]=function(d,f,e){if(typeof d==="object"){for(var c in d)this[b](c,f,d[c],e);return this}if(a.isFunction(f)||f===false)e=f,f=l;var g=b==="one"?a.proxy(e,function(d){a(this).unbind(d,g);return e.apply(this,arguments)}):e;if(d==="unload"&&b!=="one")this.one(d,f,e);else{c=0;for(var h=this.length;c<h;c++)a.event.add(this[c],d,g,f)}return this}});a.fn.extend({unbind:function(d,b){if(typeof d==="object"&&!d.preventDefault)for(var f in d)this.unbind(f,d[f]);else{f=0;for(var e=this.length;f<
e;f++)a.event.remove(this[f],d,b)}return this},delegate:function(a,b,f,e){return this.live(b,f,e,a)},undelegate:function(a,b,f){return arguments.length===0?this.unbind("live"):this.die(b,null,f,a)},trigger:function(d,b){return this.each(function(){a.event.trigger(d,b,this)})},triggerHandler:function(d,b){if(this[0]){var f=a.Event(d);f.preventDefault();f.stopPropagation();a.event.trigger(f,b,this[0]);return f.result}},toggle:function(d){for(var b=arguments,f=1;f<b.length;)a.proxy(d,b[f++]);return this.click(a.proxy(d,
function(e){var c=(a._data(this,"lastToggle"+d.guid)||0)%f;a._data(this,"lastToggle"+d.guid,c+1);e.preventDefault();return b[c].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var R={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};a.each(["live","die"],function(d,b){a.fn[b]=function(d,f,e,c){var g,h=0,i,q,r=c||this.selector,c=c?this:a(this.context);if(typeof d==="object"&&!d.preventDefault){for(g in d)c[b](g,f,d[g],r);
return this}a.isFunction(f)&&(e=f,f=l);for(d=(d||"").split(" ");(g=d[h++])!=null;)if(i=I.exec(g),q="",i&&(q=i[0],g=g.replace(I,"")),g==="hover")d.push("mouseenter"+q,"mouseleave"+q);else if(i=g,g==="focus"||g==="blur"?(d.push(R[g]+q),g+=q):g=(R[g]||g)+q,b==="live"){q=0;for(var o=c.length;q<o;q++)a.event.add(c[q],"live."+v(g,r),{data:f,selector:r,handler:e,origType:g,origHandler:e,preType:i})}else c.unbind("live."+v(g,r),e);return this}});a.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(d,b){a.fn[b]=function(a,d){d==null&&(d=a,a=null);return arguments.length>0?this.bind(b,a,d):this.trigger(b)};a.attrFn&&(a.attrFn[b]=true)});(function(){function d(a,d,b,f,j,e){for(var j=0,c=f.length;j<c;j++){var s=f[j];if(s){for(var y=false,s=s[a];s;){if(s.sizcache===b){y=f[s.sizset];break}if(s.nodeType===1&&!e)s.sizcache=b,s.sizset=j;if(s.nodeName.toLowerCase()===d){y=s;break}s=s[a]}f[j]=y}}}function b(a,d,f,j,e,c){for(var e=0,g=j.length;e<g;e++){var s=j[e];if(s){for(var y=false,s=s[a];s;){if(s.sizcache===
f){y=j[s.sizset];break}if(s.nodeType===1){if(!c)s.sizcache=f,s.sizset=e;if(typeof d!=="string"){if(s===d){y=true;break}}else if(q.filter(d,[s]).length>0){y=s;break}}s=s[a]}j[e]=y}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=0,g=Object.prototype.toString,h=false,i=true;[0,0].sort(function(){i=false;return 0});var q=function(a,d,b,j){var b=b||[],c=d=d||f;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!a||
typeof a!=="string")return b;var h,i,s,y,O,$=true,ma=q.isXML(d),H=[],ia=a;do if(e.exec(""),h=e.exec(ia))if(ia=h[3],H.push(h[1]),h[2]){y=h[3];break}while(h);if(H.length>1&&o.exec(a))if(H.length===2&&r.relative[H[0]])i=I(H[0]+H[1],d);else for(i=r.relative[H[0]]?[d]:q(H.shift(),d);H.length;)a=H.shift(),r.relative[a]&&(a+=H.shift()),i=I(a,i);else if(!j&&H.length>1&&d.nodeType===9&&!ma&&r.match.ID.test(H[0])&&!r.match.ID.test(H[H.length-1])&&(h=q.find(H.shift(),d,ma),d=h.expr?q.filter(h.expr,h.set)[0]:
h.set[0]),d){h=j?{expr:H.pop(),set:u(j)}:q.find(H.pop(),H.length===1&&(H[0]==="~"||H[0]==="+")&&d.parentNode?d.parentNode:d,ma);i=h.expr?q.filter(h.expr,h.set):h.set;for(H.length>0?s=u(i):$=false;H.length;)h=O=H.pop(),r.relative[O]?h=H.pop():O="",h==null&&(h=d),r.relative[O](s,h,ma)}else s=[];s||(s=i);s||q.error(O||a);if(g.call(s)==="[object Array]")if($)if(d&&d.nodeType===1)for(a=0;s[a]!=null;a++)s[a]&&(s[a]===true||s[a].nodeType===1&&q.contains(d,s[a]))&&b.push(i[a]);else for(a=0;s[a]!=null;a++)s[a]&&
s[a].nodeType===1&&b.push(i[a]);else b.push.apply(b,s);else u(s,b);y&&(q(y,c,b,j),q.uniqueSort(b));return b};q.uniqueSort=function(a){if(K&&(h=i,a.sort(K),h))for(var d=1;d<a.length;d++)a[d]===a[d-1]&&a.splice(d--,1);return a};q.matches=function(a,d){return q(a,null,null,d)};q.matchesSelector=function(a,d){return q(d,null,null,[a]).length>0};q.find=function(a,d,b){var f;if(!a)return[];for(var j=0,e=r.order.length;j<e;j++){var c,s=r.order[j];if(c=r.leftMatch[s].exec(a)){var y=c[1];c.splice(1,1);if(y.substr(y.length-
1)!=="\\"&&(c[1]=(c[1]||"").replace(/\\/g,""),f=r.find[s](c,d,b),f!=null)){a=a.replace(r.match[s],"");break}}}f||(f=typeof d.getElementsByTagName!=="undefined"?d.getElementsByTagName("*"):[]);return{set:f,expr:a}};q.filter=function(a,d,b,f){for(var j,e,c=a,s=[],y=d,O=d&&d[0]&&q.isXML(d[0]);a&&d.length;){for(var $ in r.filter)if((j=r.leftMatch[$].exec(a))!=null&&j[2]){var g,H,h=r.filter[$];H=j[1];e=false;j.splice(1,1);if(H.substr(H.length-1)!=="\\"){y===s&&(s=[]);if(r.preFilter[$])if(j=r.preFilter[$](j,
y,b,s,f,O)){if(j===true)continue}else e=g=true;if(j)for(var i=0;(H=y[i])!=null;i++)if(H){g=h(H,j,i,y);var ca=f^!!g;b&&g!=null?ca?e=true:y[i]=false:ca&&(s.push(H),e=true)}if(g!==l){b||(y=s);a=a.replace(r.match[$],"");if(!e)return[];break}}}if(a===c)if(e==null)q.error(a);else break;c=a}return y};q.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},
relative:{"+":function(a,d){var b=typeof d==="string",j=b&&!/\W/.test(d),b=b&&!j;j&&(d=d.toLowerCase());for(var j=0,f=a.length,e;j<f;j++)if(e=a[j]){for(;(e=e.previousSibling)&&e.nodeType!==1;);a[j]=b||e&&e.nodeName.toLowerCase()===d?e||false:e===d}b&&q.filter(d,a,true)},">":function(a,d){var b,j=typeof d==="string",f=0,e=a.length;if(j&&!/\W/.test(d))for(d=d.toLowerCase();f<e;f++){if(b=a[f])b=b.parentNode,a[f]=b.nodeName.toLowerCase()===d?b:false}else{for(;f<e;f++)(b=a[f])&&(a[f]=j?b.parentNode:b.parentNode===
d);j&&q.filter(d,a,true)}},"":function(a,f,e){var g,h=c++,q=b;typeof f==="string"&&!/\W/.test(f)&&(g=f=f.toLowerCase(),q=d);q("parentNode",f,h,a,g,e)},"~":function(a,f,e){var g,h=c++,q=b;typeof f==="string"&&!/\W/.test(f)&&(g=f=f.toLowerCase(),q=d);q("previousSibling",f,h,a,g,e)}},find:{ID:function(a,d,b){if(typeof d.getElementById!=="undefined"&&!b)return(a=d.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,d){if(typeof d.getElementsByName!=="undefined"){for(var b=[],f=d.getElementsByName(a[1]),
j=0,e=f.length;j<e;j++)f[j].getAttribute("name")===a[1]&&b.push(f[j]);return b.length===0?null:b}},TAG:function(a,d){if(typeof d.getElementsByTagName!=="undefined")return d.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,d,b,f,j,e){a=" "+a[1].replace(/\\/g,"")+" ";if(e)return a;for(var e=0,c;(c=d[e])!=null;e++)c&&(j^(c.className&&(" "+c.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?b||f.push(c):b&&(d[e]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},
CHILD:function(a){if(a[1]==="nth"){a[2]||q.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var d=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=d[1]+(d[2]||1)-0;a[3]=d[3]-0}else a[2]&&q.error(a[0]);a[0]=c++;return a},ATTR:function(a,d,b,f,j,e){d=a[1]=a[1].replace(/\\/g,"");!e&&r.attrMap[d]&&(a[1]=r.attrMap[d]);a[4]=(a[4]||a[5]||"").replace(/\\/g,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,d,b,f,j){if(a[1]==="not")if((e.exec(a[3])||
"").length>1||/^\w/.test(a[3]))a[3]=q(a[3],null,null,d);else return a=q.filter(a[3],d,b,1^j),b||f.push.apply(f,a),false;else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,d,b){return!!q(b[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()===
"button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,d){return d===0},last:function(a,d,b,f){return d===f.length-1},even:function(a,d){return d%2===0},odd:function(a,d){return d%2===1},lt:function(a,d,b){return d<b[3]-0},gt:function(a,d,b){return d>b[3]-0},nth:function(a,d,b){return b[3]-0===d},eq:function(a,d,b){return b[3]-0===d}},filter:{PSEUDO:function(a,d,b,f){var j=d[1],e=r.filters[j];if(e)return e(a,b,d,f);else if(j==="contains")return(a.textContent||
a.innerText||q.getText([a])||"").indexOf(d[3])>=0;else if(j==="not"){d=d[3];b=0;for(f=d.length;b<f;b++)if(d[b]===a)return false;return true}else q.error(j)},CHILD:function(a,d){var b=d[1],f=a;switch(b){case "only":case "first":for(;f=f.previousSibling;)if(f.nodeType===1)return false;if(b==="first")return true;f=a;case "last":for(;f=f.nextSibling;)if(f.nodeType===1)return false;return true;case "nth":var b=d[2],j=d[3];if(b===1&&j===0)return true;var e=d[0],c=a.parentNode;if(c&&(c.sizcache!==e||!a.nodeIndex)){for(var s=
0,f=c.firstChild;f;f=f.nextSibling)if(f.nodeType===1)f.nodeIndex=++s;c.sizcache=e}f=a.nodeIndex-j;return b===0?f===0:f%b===0&&f/b>=0}},ID:function(a,d){return a.nodeType===1&&a.getAttribute("id")===d},TAG:function(a,d){return d==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===d},CLASS:function(a,d){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(d)>-1},ATTR:function(a,d){var b=d[1],b=r.attrHandle[b]?r.attrHandle[b](a):a[b]!=null?a[b]:a.getAttribute(b),f=b+"",j=d[2],e=d[4];return b==
null?j==="!=":j==="="?f===e:j==="*="?f.indexOf(e)>=0:j==="~="?(" "+f+" ").indexOf(e)>=0:!e?f&&b!==false:j==="!="?f!==e:j==="^="?f.indexOf(e)===0:j==="$="?f.substr(f.length-e.length)===e:j==="|="?f===e||f.substr(0,e.length+1)===e+"-":false},POS:function(a,d,b,f){var j=r.setFilters[d[2]];if(j)return j(a,b,d,f)}}},o=r.match.POS,k=function(a,d){return"\\"+(d-0+1)},w;for(w in r.match)r.match[w]=RegExp(r.match[w].source+/(?![^\[]*\])(?![^\(]*\))/.source),r.leftMatch[w]=RegExp(/(^(?:.|\r|\n)*?)/.source+
r.match[w].source.replace(/\\(\d+)/g,k));var u=function(a,d){a=Array.prototype.slice.call(a,0);return d?(d.push.apply(d,a),d):a};try{Array.prototype.slice.call(f.documentElement.childNodes,0)}catch(p){u=function(a,d){var b=0,f=d||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(f,a);else if(typeof a.length==="number")for(var j=a.length;b<j;b++)f.push(a[b]);else for(;a[b];b++)f.push(a[b]);return f}}var K,t;f.documentElement.compareDocumentPosition?K=function(a,d){return a===d?(h=true,
0):!a.compareDocumentPosition||!d.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(d)&4?-1:1}:(K=function(a,d){var b,f,j=[],e=[];b=a.parentNode;f=d.parentNode;var c=b;if(a===d)return h=true,0;else if(b===f)return t(a,d);else if(b){if(!f)return 1}else return-1;for(;c;)j.unshift(c),c=c.parentNode;for(c=f;c;)e.unshift(c),c=c.parentNode;b=j.length;f=e.length;for(c=0;c<b&&c<f;c++)if(j[c]!==e[c])return t(j[c],e[c]);return c===b?t(a,e[c],-1):t(j[c],d,1)},t=function(a,d,b){if(a===
d)return b;for(a=a.nextSibling;a;){if(a===d)return-1;a=a.nextSibling}return 1});q.getText=function(a){for(var d="",b,f=0;a[f];f++)b=a[f],b.nodeType===3||b.nodeType===4?d+=b.nodeValue:b.nodeType!==8&&(d+=q.getText(b.childNodes));return d};(function(){var a=f.createElement("div"),d="script"+(new Date).getTime(),b=f.documentElement;a.innerHTML="<a name='"+d+"'/>";b.insertBefore(a,b.firstChild);if(f.getElementById(d))r.find.ID=function(a,d,b){if(typeof d.getElementById!=="undefined"&&!b)return(d=d.getElementById(a[1]))?
d.id===a[1]||typeof d.getAttributeNode!=="undefined"&&d.getAttributeNode("id").nodeValue===a[1]?[d]:l:[]},r.filter.ID=function(a,d){var b=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&b&&b.nodeValue===d};b.removeChild(a);b=a=null})();(function(){var a=f.createElement("div");a.appendChild(f.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(a,d){var b=d.getElementsByTagName(a[1]);if(a[1]==="*"){for(var f=[],j=0;b[j];j++)b[j].nodeType===
1&&f.push(b[j]);b=f}return b};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")r.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();f.querySelectorAll&&function(){var a=q,d=f.createElement("div");d.innerHTML="<p class='TEST'></p>";if(!(d.querySelectorAll&&d.querySelectorAll(".TEST").length===0)){q=function(d,b,j,e){b=b||f;if(!e&&!q.isXML(b)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(d);
if(s&&(b.nodeType===1||b.nodeType===9))if(s[1])return u(b.getElementsByTagName(d),j);else if(s[2]&&r.find.CLASS&&b.getElementsByClassName)return u(b.getElementsByClassName(s[2]),j);if(b.nodeType===9){if(d==="body"&&b.body)return u([b.body],j);else if(s&&s[3]){var y=b.getElementById(s[3]);if(y&&y.parentNode){if(y.id===s[3])return u([y],j)}else return u([],j)}try{return u(b.querySelectorAll(d),j)}catch(O){}}else if(b.nodeType===1&&b.nodeName.toLowerCase()!=="object"){var y=(s=b.getAttribute("id"))||
"__sizzle__",c=b.parentNode,g=/^\s*[+~]/.test(d);s?y=y.replace(/'/g,"\\$&"):b.setAttribute("id",y);if(g&&c)b=b.parentNode;try{if(!g||c)return u(b.querySelectorAll("[id='"+y+"'] "+d),j)}catch(H){}finally{s||b.removeAttribute("id")}}}return a(d,b,j,e)};for(var b in a)q[b]=a[b];d=null}}();(function(){var a=f.documentElement,d=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,b=false;try{d.call(f.documentElement,"[test!='']:sizzle")}catch(j){b=true}if(d)q.matchesSelector=
function(a,f){f=f.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!q.isXML(a))try{if(b||!r.match.PSEUDO.test(f)&&!/!=/.test(f))return d.call(a,f)}catch(j){}return q(f,null,null,[a]).length>0}})();(function(){var a=f.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1))r.order.splice(1,0,"CLASS"),r.find.CLASS=function(a,d,b){if(typeof d.getElementsByClassName!==
"undefined"&&!b)return d.getElementsByClassName(a[1])},a=null})();q.contains=f.documentElement.contains?function(a,d){return a!==d&&(a.contains?a.contains(d):true)}:f.documentElement.compareDocumentPosition?function(a,d){return!!(a.compareDocumentPosition(d)&16)}:function(){return false};q.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var I=function(a,d){for(var b,f=[],j="",e=d.nodeType?[d]:d;b=r.match.PSEUDO.exec(a);)j+=b[0],a=a.replace(r.match.PSEUDO,
"");a=r.relative[a]?a+"*":a;b=0;for(var c=e.length;b<c;b++)q(a,e[b],f);return q.filter(j,f)};a.find=q;a.expr=q.selectors;a.expr[":"]=a.expr.filters;a.unique=q.uniqueSort;a.text=q.getText;a.isXMLDoc=q.isXML;a.contains=q.contains})();var ka=/Until$/,qa=/^(?:parents|prevUntil|prevAll)/,na=/,/,Ga=/^.[^:#\[\.,]*$/,xa=Array.prototype.slice,ra=a.expr.match.POS,Ja={children:true,contents:true,next:true,prev:true};a.fn.extend({find:function(d){for(var b=this.pushStack("","find",d),f=0,e=0,c=this.length;e<
c;e++)if(f=b.length,a.find(d,this[e],b),e>0)for(var g=f;g<b.length;g++)for(var h=0;h<f;h++)if(b[h]===b[g]){b.splice(g--,1);break}return b},has:function(d){var b=a(d);return this.filter(function(){for(var d=0,f=b.length;d<f;d++)if(a.contains(this,b[d]))return true})},not:function(a){return this.pushStack(e(this,a,false),"not",a)},filter:function(a){return this.pushStack(e(this,a,true),"filter",a)},is:function(d){return!!d&&a.filter(d,this).length>0},closest:function(d,b){var f=[],e,c,g=this[0];if(a.isArray(d)){var h,
q={},i=1;if(g&&d.length){for(e=0,c=d.length;e<c;e++)h=d[e],q[h]||(q[h]=a.expr.match.POS.test(h)?a(h,b||this.context):h);for(;g&&g.ownerDocument&&g!==b;){for(h in q)e=q[h],(e.jquery?e.index(g)>-1:a(g).is(e))&&f.push({selector:h,elem:g,level:i});g=g.parentNode;i++}}return f}h=ra.test(d)?a(d,b||this.context):null;for(e=0,c=this.length;e<c;e++)for(g=this[e];g;)if(h?h.index(g)>-1:a.find.matchesSelector(g,d)){f.push(g);break}else if(g=g.parentNode,!g||!g.ownerDocument||g===b)break;f=f.length>1?a.unique(f):
f;return this.pushStack(f,"closest",d)},index:function(d){return!d||typeof d==="string"?a.inArray(this[0],d?a(d):this.parent().children()):a.inArray(d.jquery?d[0]:d,this)},add:function(d,b){var f=typeof d==="string"?a(d,b):a.makeArray(d),e=a.merge(this.get(),f);return this.pushStack(!f[0]||!f[0].parentNode||f[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:a.unique(e))},andSelf:function(){return this.add(this.prevObject)}});a.each({parent:function(a){return(a=
a.parentNode)&&a.nodeType!==11?a:null},parents:function(d){return a.dir(d,"parentNode")},parentsUntil:function(d,b,f){return a.dir(d,"parentNode",f)},next:function(d){return a.nth(d,2,"nextSibling")},prev:function(d){return a.nth(d,2,"previousSibling")},nextAll:function(d){return a.dir(d,"nextSibling")},prevAll:function(d){return a.dir(d,"previousSibling")},nextUntil:function(d,b,f){return a.dir(d,"nextSibling",f)},prevUntil:function(d,b,f){return a.dir(d,"previousSibling",f)},siblings:function(d){return a.sibling(d.parentNode.firstChild,
d)},children:function(d){return a.sibling(d.firstChild)},contents:function(d){return a.nodeName(d,"iframe")?d.contentDocument||d.contentWindow.document:a.makeArray(d.childNodes)}},function(d,b){a.fn[d]=function(f,e){var c=a.map(this,b,f),g=xa.call(arguments);ka.test(d)||(e=f);e&&typeof e==="string"&&(c=a.filter(e,c));c=this.length>1&&!Ja[d]?a.unique(c):c;if((this.length>1||na.test(e))&&qa.test(d))c=c.reverse();return this.pushStack(c,d,g.join(","))}});a.extend({filter:function(d,b,f){f&&(d=":not("+
d+")");return b.length===1?a.find.matchesSelector(b[0],d)?[b[0]]:[]:a.find.matches(d,b)},dir:function(d,b,f){for(var e=[],d=d[b];d&&d.nodeType!==9&&(f===l||d.nodeType!==1||!a(d).is(f));)d.nodeType===1&&e.push(d),d=d[b];return e},nth:function(a,b,f){for(var b=b||1,e=0;a;a=a[f])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&f.push(a);return f}});var Ra=/ jQuery\d+="(?:\d+|null)"/g,ua=/^\s+/,ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
va=/<([\w:]+)/,Ka=/<tbody/i,sa=/<|&#?\w+;/,r=/<(?:script|object|embed|option|style)/i,U=/checked\s*(?:[^=]|=\s*.checked.)/i,da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=
da.caption=da.thead;da.th=da.td;if(!a.support.htmlSerialize)da._default=[1,"div<div>","</div>"];a.fn.extend({text:function(d){return a.isFunction(d)?this.each(function(b){var f=a(this);f.text(d.call(this,b,f.text()))}):typeof d!=="object"&&d!==l?this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(d)):a.text(this)},wrapAll:function(d){if(a.isFunction(d))return this.each(function(b){a(this).wrapAll(d.call(this,b))});if(this[0]){var b=a(d,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&
b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(d){return a.isFunction(d)?this.each(function(b){a(this).wrapInner(d.call(this,b))}):this.each(function(){var b=a(this),f=b.contents();f.length?f.wrapAll(d):b.append(d)})},wrap:function(d){return this.each(function(){a(this).wrapAll(d)})},unwrap:function(){return this.parent().each(function(){a.nodeName(this,"body")||a(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var d=a(arguments[0]);d.push.apply(d,this.toArray());return this.pushStack(d,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var d=this.pushStack(this,"after",arguments);d.push.apply(d,a(arguments[0]).toArray());return d}},remove:function(d,b){for(var f=0,e;(e=this[f])!=null;f++)if(!d||a.filter(d,[e]).length)!b&&e.nodeType===1&&(a.cleanData(e.getElementsByTagName("*")),a.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var d=0,b;(b=this[d])!=
null;d++)for(b.nodeType===1&&a.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(d,b){d=d==null?true:d;b=b==null?d:b;return this.map(function(){return a.clone(this,d,b)})},html:function(d){if(d===l)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ra,""):null;else if(typeof d==="string"&&!r.test(d)&&(a.support.leadingWhitespace||!ua.test(d))&&!da[(va.exec(d)||["",""])[1].toLowerCase()]){d=d.replace(ya,"<$1></$2>");try{for(var b=
0,f=this.length;b<f;b++)if(this[b].nodeType===1)a.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=d}catch(e){this.empty().append(d)}}else a.isFunction(d)?this.each(function(b){var f=a(this);f.html(d.call(this,b,f.html()))}):this.empty().append(d);return this},replaceWith:function(d){if(this[0]&&this[0].parentNode){if(a.isFunction(d))return this.each(function(b){var f=a(this),e=f.html();f.replaceWith(d.call(this,b,e))});typeof d!=="string"&&(d=a(d).detach());return this.each(function(){var b=
this.nextSibling,f=this.parentNode;a(this).remove();b?a(b).before(d):a(f).append(d)})}else return this.pushStack(a(a.isFunction(d)?d():d),"replaceWith",d)},detach:function(a){return this.remove(a,true)},domManip:function(d,b,f){var e,c,g,h=d[0],q=[];if(!a.support.checkClone&&arguments.length===3&&typeof h==="string"&&U.test(h))return this.each(function(){a(this).domManip(d,b,f,true)});if(a.isFunction(h))return this.each(function(e){var c=a(this);d[0]=h.call(this,e,b?c.html():l);c.domManip(d,b,f)});
if(this[0]){e=h&&h.parentNode;e=a.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:a.buildFragment(d,this,q);g=e.fragment;if(c=g.childNodes.length===1?g=g.firstChild:g.firstChild){b=b&&a.nodeName(c,"tr");c=0;for(var i=this.length,r=i-1;c<i;c++)f.call(b?a.nodeName(this[c],"table")?this[c].getElementsByTagName("tbody")[0]||this[c].appendChild(this[c].ownerDocument.createElement("tbody")):this[c]:this[c],e.cacheable||i>1&&c<r?a.clone(g,true,true):g)}q.length&&a.each(q,
z)}return this}});a.buildFragment=function(d,b,e){var c,g,h,b=b&&b[0]?b[0].ownerDocument||b[0]:f;if(d.length===1&&typeof d[0]==="string"&&d[0].length<512&&b===f&&d[0].charAt(0)==="<"&&!r.test(d[0])&&(a.support.checkClone||!U.test(d[0])))g=true,(h=a.fragments[d[0]])&&h!==1&&(c=h);c||(c=b.createDocumentFragment(),a.clean(d,b,c,e));g&&(a.fragments[d[0]]=h?c:1);return{fragment:c,cacheable:g}};a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(d,b){a.fn[d]=function(f){var e=[],f=a(f),c=this.length===1&&this[0].parentNode;if(c&&c.nodeType===11&&c.childNodes.length===1&&f.length===1)return f[b](this[0]),this;else{for(var c=0,g=f.length;c<g;c++){var h=(c>0?this.clone(true):this).get();a(f[c])[b](h);e=e.concat(h)}return this.pushStack(e,d,f.selector)}}});a.extend({clone:function(d,b,f){var e=d.cloneNode(true),g,h,q;if(!a.support.noCloneEvent&&(d.nodeType===1||d.nodeType===11)&&!a.isXMLDoc(d)){g=d.getElementsByTagName("*");h=e.getElementsByTagName("*");
for(q=0;g[q];++q)u(g[q],h[q]);u(d,e)}if(b&&(c(d,e),f&&"getElementsByTagName"in d&&(g=d.getElementsByTagName("*"),h=e.getElementsByTagName("*"),g.length)))for(q=0;g[q];++q)c(g[q],h[q]);return e},clean:function(d,b,e,c){b=b||f;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||f);for(var g=[],h=0,q;(q=d[h])!=null;h++)if(typeof q==="number"&&(q+=""),q){if(typeof q==="string"&&!sa.test(q))q=b.createTextNode(q);else if(typeof q==="string"){q=q.replace(ya,"<$1></$2>");var i=
(va.exec(q)||["",""])[1].toLowerCase(),r=da[i]||da._default,o=r[0],u=b.createElement("div");for(u.innerHTML=r[1]+q+r[2];o--;)u=u.lastChild;if(!a.support.tbody){o=Ka.test(q);i=i==="table"&&!o?u.firstChild&&u.firstChild.childNodes:r[1]==="<table>"&&!o?u.childNodes:[];for(r=i.length-1;r>=0;--r)a.nodeName(i[r],"tbody")&&!i[r].childNodes.length&&i[r].parentNode.removeChild(i[r])}!a.support.leadingWhitespace&&ua.test(q)&&u.insertBefore(b.createTextNode(ua.exec(q)[0]),u.firstChild);q=u.childNodes}q.nodeType?
g.push(q):g=a.merge(g,q)}if(e)for(h=0;g[h];h++)c&&a.nodeName(g[h],"script")&&(!g[h].type||g[h].type.toLowerCase()==="text/javascript")?c.push(g[h].parentNode?g[h].parentNode.removeChild(g[h]):g[h]):(g[h].nodeType===1&&g.splice.apply(g,[h+1,0].concat(a.makeArray(g[h].getElementsByTagName("script")))),e.appendChild(g[h]));return g},cleanData:function(d){for(var b,f,e=a.cache,c=a.expando,g=a.event.special,h=a.support.deleteExpando,q=0,i;(i=d[q])!=null;q++)if(!i.nodeName||!a.noData[i.nodeName.toLowerCase()])if(f=
i[a.expando]){if((b=e[f]&&e[f][c])&&b.events){for(var r in b.events)g[r]?a.event.remove(i,r):a.removeEvent(i,r,b.handle);if(b.handle)b.handle.elem=null}h?delete i[a.expando]:i.removeAttribute&&i.removeAttribute(a.expando);delete e[f]}}});var cb=/alpha\([^)]*\)/i,tb=/opacity=([^)]*)/,La=/-([a-z])/ig,Ma=/([A-Z])/g,Na=/^-?\d+(?:px)?$/i,za=/^-?\d/,db={position:"absolute",visibility:"hidden",display:"block"},Ya=["Left","Right"],Ha=["Top","Bottom"],Aa,Ba,Ca,eb=function(a,b){return b.toUpperCase()};a.fn.css=
function(d,b){return arguments.length===2&&b===l?this:a.access(this,d,b,true,function(d,b,f){return f!==l?a.style(d,b,f):a.css(d,b)})};a.extend({cssHooks:{opacity:{get:function(a,b){if(b){var f=Aa(a,"opacity","opacity");return f===""?"1":f}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":a.support.cssFloat?"cssFloat":"styleFloat"},style:function(d,b,f,e){if(d&&!(d.nodeType===3||d.nodeType===8||!d.style)){var c,g=a.camelCase(b),
h=d.style,q=a.cssHooks[g],b=a.cssProps[g]||g;if(f!==l){if(!(typeof f==="number"&&isNaN(f)||f==null))if(typeof f==="number"&&!a.cssNumber[g]&&(f+="px"),!q||!("set"in q)||(f=q.set(d,f))!==l)try{h[b]=f}catch(i){}}else return q&&"get"in q&&(c=q.get(d,false,e))!==l?c:h[b]}},css:function(d,b,f){var e,c=a.camelCase(b),g=a.cssHooks[c],b=a.cssProps[c]||c;if(g&&"get"in g&&(e=g.get(d,true,f))!==l)return e;else if(Aa)return Aa(d,b,c)},swap:function(a,b,f){var e={},c;for(c in b)e[c]=a.style[c],a.style[c]=b[c];
f.call(a);for(c in b)a.style[c]=e[c]},camelCase:function(a){return a.replace(La,eb)}});a.curCSS=a.css;a.each(["height","width"],function(d,b){a.cssHooks[b]={get:function(d,f,e){var c;if(f){d.offsetWidth!==0?c=A(d,b,e):a.swap(d,db,function(){c=A(d,b,e)});if(c<=0&&(c=Aa(d,b,b),c==="0px"&&Ca&&(c=Ca(d,b,b)),c!=null))return c===""||c==="auto"?"0px":c;return c<0||c==null?(c=d.style[b],c===""||c==="auto"?"0px":c):typeof c==="string"?c:c+"px"}},set:function(a,d){if(Na.test(d)){if(d=parseFloat(d),d>=0)return d+
"px"}else return d}}});if(!a.support.opacity)a.cssHooks.opacity={get:function(a,b){return tb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(d,b){var f=d.style;f.zoom=1;var e=a.isNaN(b)?"":"alpha(opacity="+b*100+")",c=f.filter||"";f.filter=cb.test(c)?c.replace(cb,e):f.filter+" "+e}};f.defaultView&&f.defaultView.getComputedStyle&&(Ba=function(d,b,f){var e,f=f.replace(Ma,"-$1").toLowerCase();if(!(b=d.ownerDocument.defaultView))return l;
if(b=b.getComputedStyle(d,null))e=b.getPropertyValue(f),e===""&&!a.contains(d.ownerDocument.documentElement,d)&&(e=a.style(d,f));return e});f.documentElement.currentStyle&&(Ca=function(a,b){var f,e=a.currentStyle&&a.currentStyle[b],c=a.runtimeStyle&&a.runtimeStyle[b],g=a.style;if(!Na.test(e)&&za.test(e)){f=g.left;if(c)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":e||0;e=g.pixelLeft+"px";g.left=f;if(c)a.runtimeStyle.left=c}return e===""?"auto":e});Aa=Ba||Ca;if(a.expr&&a.expr.filters)a.expr.filters.hidden=
function(d){var b=d.offsetHeight;return d.offsetWidth===0&&b===0||!a.support.reliableHiddenOffsets&&(d.style.display||a.css(d,"display"))==="none"},a.expr.filters.visible=function(d){return!a.expr.filters.hidden(d)};var Sa=/%20/g,ta=/\[\]$/,Ta=/\r?\n/g,fb=/#.*$/,gb=/^(.*?):\s*(.*?)\r?$/mg,hb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ib=/^(?:GET|HEAD)$/,J=/^\/\//,Ua=/\?/,Da=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Va=/^(?:select|textarea)/i,
la=/\s+/,ub=/([?&])_=[^&]*/,V=/^(\w+:)\/\/([^\/?#:]+)(?::(\d+))?/,S=a.fn.load,Ia={},Wa={};a.fn.extend({load:function(d,b,f){if(typeof d!=="string"&&S)return S.apply(this,arguments);else if(!this.length)return this;var e=d.indexOf(" ");if(e>=0)var c=d.slice(e,d.length),d=d.slice(0,e);e="GET";b&&(a.isFunction(b)?(f=b,b=null):typeof b==="object"&&(b=a.param(b,a.ajaxSettings.traditional),e="POST"));var g=this;a.ajax({url:d,type:e,dataType:"html",data:b,complete:function(d,b,e){e=d.responseText;d.isResolved()&&
(d.done(function(a){e=a}),g.html(c?a("<div>").append(e.replace(Da,"")).find(c):e));f&&g.each(f,[e,b,d])}});return this},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Va.test(this.nodeName)||hb.test(this.type))}).map(function(d,b){var f=a(this).val();return f==null?null:a.isArray(f)?a.map(f,function(a){return{name:b.name,
value:a.replace(Ta,"\r\n")}}):{name:b.name,value:f.replace(Ta,"\r\n")}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,b){a.fn[b]=function(a){return this.bind(b,a)}});a.each(["get","post"],function(d,b){a[b]=function(d,f,e,c){a.isFunction(f)&&(c=c||e,e=f,f=null);return a.ajax({type:b,url:d,data:f,success:e,dataType:c})}});a.extend({getScript:function(d,b){return a.get(d,null,b,"script")},getJSON:function(d,b,f){return a.get(d,b,f,"json")},ajaxSetup:function(d){a.extend(true,
a.ajaxSettings,d);if(d.context)a.ajaxSettings.context=d.context},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":true,"text json":a.parseJSON,"text xml":a.parseXML}},
ajaxPrefilter:E(Ia),ajaxTransport:E(Wa),ajax:function(d,b){function e(d,b,f,s){if(G!==2){G=2;p&&clearTimeout(p);w=l;o=s||"";A.readyState=d?4:0;var y,j,$;if(f){var s=c,ma=A,H=s.contents,ia=s.dataTypes,u=s.responseFields,ca,k,K,t;for(k in u)k in f&&(ma[u[k]]=f[k]);for(;ia[0]==="*";)ia.shift(),ca===l&&(ca=ma.getResponseHeader("content-type"));if(ca)for(k in H)if(H[k]&&H[k].test(ca)){ia.unshift(k);break}if(ia[0]in f)K=ia[0];else{for(k in f){if(!ia[0]||s.converters[k+" "+ia[0]]){K=k;break}t||(t=k)}K=K||
t}K?(K!==ia[0]&&ia.unshift(K),f=f[K]):f=void 0}else f=l;if(d>=200&&d<300||d===304){if(c.ifModified){if(ca=A.getResponseHeader("Last-Modified"))a.lastModified[c.url]=ca;if(ca=A.getResponseHeader("Etag"))a.etag[c.url]=ca}if(d===304)b="notmodified",y=true;else try{ca=c;ca.dataFilter&&(f=ca.dataFilter(f,ca.dataType));var I=ca.dataTypes,z=ca.converters,v,U=I.length,P,x=I[0],D,E,F,C,B;for(v=1;v<U;v++)if(D=x,x=I[v],x==="*")x=D;else if(D!=="*"&&D!==x){E=D+" "+x;F=z[E]||z["* "+x];if(!F)for(C in B=l,z)if(P=
C.split(" "),P[0]===D||P[0]==="*")if(B=z[P[1]+" "+x]){C=z[C];C===true?F=B:B===true&&(F=C);break}!F&&!B&&a.error("No conversion from "+E.replace(" "," to "));F!==true&&(f=F?F(f):B(C(f)))}j=f;b="success";y=true}catch(W){b="parsererror",$=W}}else $=b,d&&(b="error",d<0&&(d=0));A.status=d;A.statusText=b;y?q.resolveWith(g,[j,b,A]):q.rejectWith(g,[A,b,$]);A.statusCode(r);r=l;c.global&&h.trigger("ajax"+(y?"Success":"Error"),[A,c,y?j:$]);i.resolveWith(g,[A,b]);c.global&&(h.trigger("ajaxComplete",[A,c]),--a.active||
a.event.trigger("ajaxStop"))}}typeof b!=="object"&&(b=d,d=l);var b=b||{},c=a.extend(true,{},a.ajaxSettings,b),g=(c.context=("context"in b?b:a.ajaxSettings).context)||c,h=g===c?a.event:a(g),q=a.Deferred(),i=a._Deferred(),r=c.statusCode||{},u={},o,k,w,p,K=f.location,t=K.protocol||"http:",I,G=0,z,A={readyState:0,setRequestHeader:function(a,d){G===0&&(u[a.toLowerCase()]=d);return this},getAllResponseHeaders:function(){return G===2?o:null},getResponseHeader:function(a){var d;if(G===2){if(!k)for(k={};d=
gb.exec(o);)k[d[1].toLowerCase()]=d[2];d=k[a.toLowerCase()]}return d||null},abort:function(a){a=a||"abort";w&&w.abort(a);e(0,a);return this}};q.promise(A);A.success=A.done;A.error=A.fail;A.complete=i.done;A.statusCode=function(a){if(a){var d;if(G<2)for(d in a)r[d]=[r[d],a[d]];else d=a[A.status],A.then(d,d)}return this};c.url=(""+(d||c.url)).replace(fb,"").replace(J,t+"//");c.dataTypes=a.trim(c.dataType||"*").toLowerCase().split(la);if(!c.crossDomain)I=V.exec(c.url.toLowerCase()),c.crossDomain=!(!I||
!(I[1]!=t||I[2]!=K.hostname||(I[3]||(I[1]==="http:"?80:443))!=(K.port||(t==="http:"?80:443))));if(c.data&&c.processData&&typeof c.data!=="string")c.data=a.param(c.data,c.traditional);F(Ia,c,b,A);c.type=c.type.toUpperCase();c.hasContent=!ib.test(c.type);c.global&&a.active++===0&&a.event.trigger("ajaxStart");if(!c.hasContent&&(c.data&&(c.url+=(Ua.test(c.url)?"&":"?")+c.data),c.cache===false))K=a.now(),t=c.url.replace(ub,"$1_="+K),c.url=t+(t===c.url?(Ua.test(c.url)?"&":"?")+"_="+K:"");if(c.data&&c.hasContent&&
c.contentType!==false||b.contentType)u["content-type"]=c.contentType;c.ifModified&&(a.lastModified[c.url]&&(u["if-modified-since"]=a.lastModified[c.url]),a.etag[c.url]&&(u["if-none-match"]=a.etag[c.url]));u.accept=c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", */*; q=0.01":""):c.accepts["*"];for(z in c.headers)u[z.toLowerCase()]=c.headers[z];if(c.beforeSend&&(c.beforeSend.call(g,A,c)===false||G===2))e(0,"abort"),A=false;else{for(z in{success:1,error:1,
complete:1})A[z](c[z]);if(w=F(Wa,c,b,A)){G=A.readyState=1;c.global&&h.trigger("ajaxSend",[A,c]);c.async&&c.timeout>0&&(p=setTimeout(function(){A.abort("timeout")},c.timeout));try{w.send(u,e)}catch(v){status<2?e(-1,v):a.error(v)}}else e(-1,"No Transport")}return A},param:function(d,b){var f=[],e=function(d,b){b=a.isFunction(b)?b():b;f[f.length]=encodeURIComponent(d)+"="+encodeURIComponent(b)};if(b===l)b=a.ajaxSettings.traditional;if(a.isArray(d)||d.jquery)a.each(d,function(){e(this.name,this.value)});
else for(var c in d)p(c,d[c],b,e);return f.join("&").replace(Sa,"+")}});a.extend({active:0,lastModified:{},etag:{}});var jb=a.now(),Ea=/(\=)\?(&|$)|()\?\?()/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+jb++}});a.ajaxPrefilter("json jsonp",function(d,f,e){e=typeof d.data==="string";if(d.dataTypes[0]==="jsonp"||f.jsonpCallback||f.jsonp!=null||d.jsonp!==false&&(Ea.test(d.url)||e&&Ea.test(d.data))){var c,g=d.jsonpCallback=a.isFunction(d.jsonpCallback)?d.jsonpCallback():
d.jsonpCallback,h=b[g],f=d.url,q=d.data,i="$1"+g+"$2";d.jsonp!==false&&(f=f.replace(Ea,i),d.url===f&&(e&&(q=q.replace(Ea,i)),d.data===q&&(f+=(/\?/.test(f)?"&":"?")+d.jsonp+"="+g)));d.url=f;d.data=q;b[g]=function(a){c=[a]};d.complete=[function(){if(b[g]=h){if(c&&a.isFunction(h))b[g](c[0])}else try{delete b[g]}catch(d){}},d.complete];d.converters["script json"]=function(){c||a.error(g+" was not called");return c[0]};d.dataTypes[0]="json";return"script"}});a.ajaxSetup({accepts:{script:"text/javascript, application/javascript"},
contents:{script:/javascript/},converters:{"text script":function(d){a.globalEval(d);return d}}});a.ajaxPrefilter("script",function(a){if(a.cache===l)a.cache=false;if(a.crossDomain)a.type="GET",a.global=false});a.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=f.getElementsByTagName("head")[0]||f.documentElement;return{send:function(c,g){b=f.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=function(a,d){if(!b.readyState||
/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,e&&b.parentNode&&e.removeChild(b),b=l,d||g(200,"success")};e.insertBefore(b,e.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var kb=a.now(),Oa={},Pa,wa;a.ajaxSettings.xhr=b.ActiveXObject?function(){if(b.location.protocol!=="file:")try{return new b.XMLHttpRequest}catch(a){}try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}:function(){return new b.XMLHttpRequest};try{wa=a.ajaxSettings.xhr()}catch(yb){}a.support.ajax=
!!wa;a.support.cors=wa&&"withCredentials"in wa;wa=l;a.support.ajax&&a.ajaxTransport(function(d){if(!d.crossDomain||a.support.cors){var f;return{send:function(e,c){Pa||(Pa=1,a(b).bind("unload",function(){a.each(Oa,function(a,d){if(d.onreadystatechange)d.onreadystatechange(1)})}));var g=d.xhr(),h;d.username?g.open(d.type,d.url,d.async,d.username,d.password):g.open(d.type,d.url,d.async);if((!d.crossDomain||d.hasContent)&&!e["x-requested-with"])e["x-requested-with"]="XMLHttpRequest";try{a.each(e,function(a,
d){g.setRequestHeader(a,d)})}catch(q){}g.send(d.hasContent&&d.data||null);f=function(b,e){if(f&&(e||g.readyState===4)){f=0;if(h)g.onreadystatechange=a.noop,delete Oa[h];if(e)g.readyState!==4&&g.abort();else{var q=g.status,i,r=g.getAllResponseHeaders(),u={},k=g.responseXML;if(k&&k.documentElement)u.xml=k;u.text=g.responseText;try{i=g.statusText}catch(o){i=""}q=q===0?!d.crossDomain||i?r?304:0:302:q==1223?204:q;c(q,i,u,r)}}};!d.async||g.readyState===4?f():(h=kb++,Oa[h]=g,g.onreadystatechange=f)},abort:function(){f&&
f(0,1)}}}});var Qa={},vb=/^(?:toggle|show|hide)$/,Fa=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,oa,Za=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];a.fn.extend({show:function(d,b,f){if(d||d===0)return this.animate(o("show",3),d,b,f);else{for(var f=0,e=this.length;f<e;f++){d=this[f];b=d.style.display;if(!a._data(d,"olddisplay")&&b==="none")b=d.style.display="";b===""&&a.css(d,"display")==="none"&&a._data(d,
"olddisplay",D(d.nodeName))}for(f=0;f<e;f++)if(d=this[f],b=d.style.display,b===""||b==="none")d.style.display=a._data(d,"olddisplay")||"";return this}},hide:function(d,b,f){if(d||d===0)return this.animate(o("hide",3),d,b,f);else{d=0;for(b=this.length;d<b;d++)f=a.css(this[d],"display"),f!=="none"&&!a._data(this[d],"olddisplay")&&a._data(this[d],"olddisplay",f);for(d=0;d<b;d++)this[d].style.display="none";return this}},_toggle:a.fn.toggle,toggle:function(d,b,f){var e=typeof d==="boolean";a.isFunction(d)&&
a.isFunction(b)?this._toggle.apply(this,arguments):d==null||e?this.each(function(){var b=e?d:a(this).is(":hidden");a(this)[b?"show":"hide"]()}):this.animate(o("toggle",3),d,b,f);return this},fadeTo:function(a,b,f,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,f,e)},animate:function(d,b,f,e){var c=a.speed(b,f,e);return a.isEmptyObject(d)?this.each(c.complete):this[c.queue===false?"each":"queue"](function(){var b=a.extend({},c),f,e=this.nodeType===1,g=e&&a(this).is(":hidden"),
j=this;for(f in d){var h=a.camelCase(f);f!==h&&(d[h]=d[f],delete d[f],f=h);if(d[f]==="hide"&&g||d[f]==="show"&&!g)return b.complete.call(this);if(e&&(f==="height"||f==="width"))if(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],a.css(this,"display")==="inline"&&a.css(this,"float")==="none")a.support.inlineBlockNeedsLayout?D(this.nodeName)==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1):this.style.display="inline-block";if(a.isArray(d[f]))(b.specialEasing=
b.specialEasing||{})[f]=d[f][1],d[f]=d[f][0]}if(b.overflow!=null)this.style.overflow="hidden";b.curAnim=a.extend({},d);a.each(d,function(f,e){var c=new a.fx(j,b,f);if(vb.test(e))c[e==="toggle"?g?"show":"hide":e](d);else{var h=Fa.exec(e),q=c.cur()||0;if(h){var i=parseFloat(h[2]),r=h[3]||"px";r!=="px"&&(a.style(j,f,(i||1)+r),q*=(i||1)/c.cur(),a.style(j,f,q+r));h[1]&&(i=(h[1]==="-="?-1:1)*i+q);c.custom(q,i,r)}else c.custom(q,e,"")}});return true})},stop:function(b,f){var e=a.timers;b&&this.queue([]);
this.each(function(){for(var a=e.length-1;a>=0;a--)if(e[a].elem===this){if(f)e[a](true);e.splice(a,1)}});f||this.dequeue();return this}});a.each({slideDown:o("show",1),slideUp:o("hide",1),slideToggle:o("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,f){a.fn[b]=function(a,b,d){return this.animate(f,a,b,d)}});a.extend({speed:function(b,f,e){var c=b&&typeof b==="object"?a.extend({},b):{complete:e||!e&&f||a.isFunction(b)&&b,duration:b,easing:e&&f||
f&&!a.isFunction(f)&&f};c.duration=a.fx.off?0:typeof c.duration==="number"?c.duration:c.duration in a.fx.speeds?a.fx.speeds[c.duration]:a.fx.speeds._default;c.old=c.complete;c.complete=function(){c.queue!==false&&a(this).dequeue();a.isFunction(c.old)&&c.old.call(this)};return c},easing:{linear:function(a,b,f,e){return f+e*a},swing:function(a,b,f,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+f}},timers:[],fx:function(a,b,f){this.options=b;this.elem=a;this.prop=f;if(!b.orig)b.orig={}}});a.fx.prototype={update:function(){this.options.step&&
this.options.step.call(this.elem,this.now,this);(a.fx.step[this.prop]||a.fx.step._default)(this)},cur:function(){return this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)?this.elem[this.prop]:parseFloat(a.css(this.elem,this.prop))||0},custom:function(b,f,e){function c(a){return g.step(a)}var g=this,h=a.fx;this.startTime=a.now();this.start=b;this.end=f;this.unit=e||this.unit||"px";this.now=this.start;this.pos=this.state=0;c.elem=this.elem;c()&&a.timers.push(c)&&!oa&&(oa=
setInterval(h.tick,h.interval))},show:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());a(this.elem).show()},hide:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var f=a.now(),e=true;if(b||f>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=
true;for(var c in this.options.curAnim)this.options.curAnim[c]!==true&&(e=false);if(e){if(this.options.overflow!=null&&!a.support.shrinkWrapBlocks){var g=this.elem,h=this.options;a.each(["","X","Y"],function(a,b){g.style["overflow"+b]=h.overflow[a]})}this.options.hide&&a(this.elem).hide();if(this.options.hide||this.options.show)for(var q in this.options.curAnim)a.style(this.elem,q,this.options.orig[q]);this.options.complete.call(this.elem)}return false}else b=f-this.startTime,this.state=b/this.options.duration,
f=this.options.easing||(a.easing.swing?"swing":"linear"),this.pos=a.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||f](this.state,b,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return true}};a.extend(a.fx,{tick:function(){for(var b=a.timers,f=0;f<b.length;f++)b[f]()||b.splice(f--,1);b.length||a.fx.stop()},interval:13,stop:function(){clearInterval(oa);oa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){a.style(b.elem,
"opacity",b.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});if(a.expr&&a.expr.filters)a.expr.filters.animated=function(b){return a.grep(a.timers,function(a){return b===a.elem}).length};var lb=/^t(?:able|d|h)$/i,ba=/^(?:body|html)$/i;a.fn.offset="getBoundingClientRect"in f.documentElement?function(b){var f=this[0],e;if(b)return this.each(function(f){a.offset.setOffset(this,
b,f)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return a.offset.bodyOffset(f);try{e=f.getBoundingClientRect()}catch(c){}var g=f.ownerDocument,h=g.documentElement;if(!e||!a.contains(h,f))return e?{top:e.top,left:e.left}:{top:0,left:0};f=g.body;g=C(g);return{top:e.top+(g.pageYOffset||a.support.boxModel&&h.scrollTop||f.scrollTop)-(h.clientTop||f.clientTop||0),left:e.left+(g.pageXOffset||a.support.boxModel&&h.scrollLeft||f.scrollLeft)-(h.clientLeft||f.clientLeft||0)}}:function(b){var f=
this[0];if(b)return this.each(function(f){a.offset.setOffset(this,b,f)});if(!f||!f.ownerDocument)return null;if(f===f.ownerDocument.body)return a.offset.bodyOffset(f);a.offset.initialize();var e,c=f.offsetParent,g=f.ownerDocument,h=g.documentElement,q=g.body;e=(g=g.defaultView)?g.getComputedStyle(f,null):f.currentStyle;for(var i=f.offsetTop,r=f.offsetLeft;(f=f.parentNode)&&f!==q&&f!==h;){if(a.offset.supportsFixedPosition&&e.position==="fixed")break;e=g?g.getComputedStyle(f,null):f.currentStyle;i-=
f.scrollTop;r-=f.scrollLeft;if(f===c){i+=f.offsetTop;r+=f.offsetLeft;if(a.offset.doesNotAddBorder&&(!a.offset.doesAddBorderForTableAndCells||!lb.test(f.nodeName)))i+=parseFloat(e.borderTopWidth)||0,r+=parseFloat(e.borderLeftWidth)||0;c=f.offsetParent}a.offset.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"&&(i+=parseFloat(e.borderTopWidth)||0,r+=parseFloat(e.borderLeftWidth)||0)}if(e.position==="relative"||e.position==="static")i+=q.offsetTop,r+=q.offsetLeft;a.offset.supportsFixedPosition&&
e.position==="fixed"&&(i+=Math.max(h.scrollTop,q.scrollTop),r+=Math.max(h.scrollLeft,q.scrollLeft));return{top:i,left:r}};a.offset={initialize:function(){var b=f.body,e=f.createElement("div"),c,g,h,q=parseFloat(a.css(b,"marginTop"))||0;a.extend(e.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});e.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b.insertBefore(e,b.firstChild);c=e.firstChild;g=c.firstChild;h=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=g.offsetTop!==5;this.doesAddBorderForTableAndCells=h.offsetTop===5;g.style.position="fixed";g.style.top="20px";this.supportsFixedPosition=g.offsetTop===20||g.offsetTop===15;g.style.position=g.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=g.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==q;b.removeChild(e);
a.offset.initialize=a.noop},bodyOffset:function(b){var f=b.offsetTop,e=b.offsetLeft;a.offset.initialize();a.offset.doesNotIncludeMarginInBodyOffset&&(f+=parseFloat(a.css(b,"marginTop"))||0,e+=parseFloat(a.css(b,"marginLeft"))||0);return{top:f,left:e}},setOffset:function(b,f,e){var c=a.css(b,"position");if(c==="static")b.style.position="relative";var g=a(b),h=g.offset(),q=a.css(b,"top"),i=a.css(b,"left"),r=c==="absolute"&&a.inArray("auto",[q,i])>-1,c={},u={};r&&(u=g.position());q=r?u.top:parseInt(q,
10)||0;i=r?u.left:parseInt(i,10)||0;a.isFunction(f)&&(f=f.call(b,e,h));if(f.top!=null)c.top=f.top-h.top+q;if(f.left!=null)c.left=f.left-h.left+i;"using"in f?f.using.call(b,c):g.css(c)}};a.fn.extend({position:function(){if(!this[0])return null;var b=this[0],f=this.offsetParent(),e=this.offset(),c=ba.test(f[0].nodeName)?{top:0,left:0}:f.offset();e.top-=parseFloat(a.css(b,"marginTop"))||0;e.left-=parseFloat(a.css(b,"marginLeft"))||0;c.top+=parseFloat(a.css(f[0],"borderTopWidth"))||0;c.left+=parseFloat(a.css(f[0],
"borderLeftWidth"))||0;return{top:e.top-c.top,left:e.left-c.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||f.body;b&&!ba.test(b.nodeName)&&a.css(b,"position")==="static";)b=b.offsetParent;return b})}});a.each(["Left","Top"],function(b,f){var e="scroll"+f;a.fn[e]=function(f){var c=this[0],g;return!c?null:f!==l?this.each(function(){(g=C(this))?g.scrollTo(!b?f:a(g).scrollLeft(),b?f:a(g).scrollTop()):this[e]=f}):(g=C(c))?"pageXOffset"in g?g[b?"pageYOffset":"pageXOffset"]:
a.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:c[e]}});a.each(["Height","Width"],function(b,f){var e=f.toLowerCase();a.fn["inner"+f]=function(){return this[0]?parseFloat(a.css(this[0],e,"padding")):null};a.fn["outer"+f]=function(b){return this[0]?parseFloat(a.css(this[0],e,b?"margin":"border")):null};a.fn[e]=function(b){var d=this[0];if(!d)return b==null?null:this;if(a.isFunction(b))return this.each(function(d){var f=a(this);f[e](b.call(this,d,f[e]()))});if(a.isWindow(d)){var c=
d.document.documentElement["client"+f];return d.document.compatMode==="CSS1Compat"&&c||d.document.body["client"+f]||c}else return d.nodeType===9?Math.max(d.documentElement["client"+f],d.body["scroll"+f],d.documentElement["scroll"+f],d.body["offset"+f],d.documentElement["offset"+f]):b===l?(d=a.css(d,e),c=parseFloat(d),a.isNaN(c)?d:c):this.css(e,typeof b==="string"?b:b+"px")}})})(window);
(function(b){function l(g){var k=[].slice.call(arguments,1),h=0,g=b.event.fix(g||window.event);g.type="mousewheel";g.wheelDelta&&(h=g.wheelDelta/120);g.detail&&(h=-g.detail/3);k.unshift(g,h);return b.event.handle.apply(this,k)}var g=["DOMMouseScroll","mousewheel"];b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=g.length;b;)this.addEventListener(g[--b],l,false);else this.onmousewheel=l},teardown:function(){if(this.removeEventListener)for(var b=g.length;b;)this.removeEventListener(g[--b],
l,false);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(b){function l(e){var c=b('meta[name="csrf-token"]').attr("content");c&&e.setRequestHeader("X-CSRF-Token",c)}function g(e,c,g){c=b.Event(c);e.trigger(c,g);return c.result!==false}function i(e){var c,h,i,k=e.data("type")||b.ajaxSettings&&b.ajaxSettings.dataType;if(g(e,"ajax:before")){if(e.is("form")){c=e.attr("method");h=e.attr("action");i=e.serializeArray();var t=e.data("ujs:submit-button");t&&(i.push(t),e.data("ujs:submit-button",null))}else c=e.data("method"),h=e.attr("href"),i=null;b.ajax({url:h,
type:c||"GET",data:i,dataType:k,beforeSend:function(b,c){c.dataType===void 0&&b.setRequestHeader("accept","*/*;q=0.5, "+c.accepts.script);return g(e,"ajax:beforeSend",[b,c])},success:function(b,c,g){e.trigger("ajax:success",[b,c,g])},complete:function(b,c){e.trigger("ajax:complete",[b,c])},error:function(b,c,g){e.trigger("ajax:error",[b,c,g])}})}}function k(e){e.find("input[data-disable-with]").each(function(){var e=b(this);e.data("ujs:enable-with",e.val()).val(e.data("disable-with")).attr("disabled",
"disabled")})}function h(e){e.find("input[data-disable-with]").each(function(){var e=b(this);e.val(e.data("ujs:enable-with")).removeAttr("disabled")})}function t(b){var c=b.data("confirm");return!c||g(b,"confirm")&&confirm(c)}function v(e){var c=false;e.find("input[name][required]").each(function(){b(this).val()||(c=true)});return c}"ajaxPrefilter"in b?b.ajaxPrefilter(function(b,c,g){l(g)}):b(document).ajaxSend(function(b,c){l(c)});b("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",
function(){var e=b(this);if(!t(e))return false;if(e.data("remote")!=void 0)return i(e),false;else if(e.data("method")){var c=e.attr("href"),g=e.data("method"),e=b("meta[name=csrf-token]").attr("content"),h=b("meta[name=csrf-param]").attr("content"),c=b('<form method="post" action="'+c+'"></form>'),g='<input name="_method" value="'+g+'" type="hidden" />';h!==void 0&&e!==void 0&&(g+='<input name="'+h+'" value="'+e+'" type="hidden" />');c.hide().append(g).appendTo("body");c.submit();return false}});
b("form").live("submit.rails",function(){var e=b(this),c=e.data("remote")!=void 0;if(!t(e))return false;if(v(e))return!c;if(c)return i(e),false;else setTimeout(function(){k(e)},13)});b("form input[type=submit], form button[type=submit], form button:not([type])").live("click.rails",function(){var e=b(this);if(!t(e))return false;var c=e.attr("name"),c=c?{name:c,value:e.val()}:null;e.closest("form").data("ujs:submit-button",c)});b("form").live("ajax:beforeSend.rails",function(e){this==e.target&&k(b(this))});
b("form").live("ajax:complete.rails",function(e){this==e.target&&h(b(this))})})(jQuery);
(function(){var b=this,l=b._,g={},i=Array.prototype,k=Object.prototype,h=i.slice,t=i.unshift,v=k.toString,e=k.hasOwnProperty,c=i.forEach,u=i.map,z=i.reduce,A=i.reduceRight,E=i.filter,F=i.every,p=i.some,o=i.indexOf,D=i.lastIndexOf,k=Array.isArray,C=Object.keys,f=Function.prototype.bind,a=function(a){return new Z(a)};typeof module!=="undefined"&&module.exports?(module.exports=a,a._=a):b._=a;a.VERSION="1.1.7";var P=a.each=a.forEach=function(a,b,f){if(a!=null)if(c&&a.forEach===c)a.forEach(b,f);else if(a.length===
+a.length)for(var h=0,i=a.length;h<i;h++){if(h in a&&b.call(f,a[h],h,a)===g)break}else for(h in a)if(e.call(a,h)&&b.call(f,a[h],h,a)===g)break};a.map=function(a,b,f){var e=[];if(a==null)return e;if(u&&a.map===u)return a.map(b,f);P(a,function(a,c,g){e[e.length]=b.call(f,a,c,g)});return e};a.reduce=a.foldl=a.inject=function(b,f,e,c){var g=e!==void 0;b==null&&(b=[]);if(z&&b.reduce===z)return c&&(f=a.bind(f,c)),g?b.reduce(f,e):b.reduce(f);P(b,function(a,b,h){g?e=f.call(c,e,a,b,h):(e=a,g=true)});if(!g)throw new TypeError("Reduce of empty array with no initial value");
return e};a.reduceRight=a.foldr=function(b,f,e,c){b==null&&(b=[]);if(A&&b.reduceRight===A)return c&&(f=a.bind(f,c)),e!==void 0?b.reduceRight(f,e):b.reduceRight(f);b=(a.isArray(b)?b.slice():a.toArray(b)).reverse();return a.reduce(b,f,e,c)};a.find=a.detect=function(a,b,f){var e;Y(a,function(a,c,g){if(b.call(f,a,c,g))return e=a,true});return e};a.filter=a.select=function(a,b,f){var e=[];if(a==null)return e;if(E&&a.filter===E)return a.filter(b,f);P(a,function(a,c,g){b.call(f,a,c,g)&&(e[e.length]=a)});
return e};a.reject=function(a,b,f){var e=[];if(a==null)return e;P(a,function(a,c,g){b.call(f,a,c,g)||(e[e.length]=a)});return e};a.every=a.all=function(a,b,f){var e=true;if(a==null)return e;if(F&&a.every===F)return a.every(b,f);P(a,function(a,c,h){if(!(e=e&&b.call(f,a,c,h)))return g});return e};var Y=a.some=a.any=function(b,f,e){var f=f||a.identity,c=false;if(b==null)return c;if(p&&b.some===p)return b.some(f,e);P(b,function(a,b,h){if(c|=f.call(e,a,b,h))return g});return!!c};a.include=a.contains=function(a,
b){var f=false;if(a==null)return f;if(o&&a.indexOf===o)return a.indexOf(b)!=-1;Y(a,function(a){if(f=a===b)return true});return f};a.invoke=function(b,f){var e=h.call(arguments,2);return a.map(b,function(a){return(f.call?f||a:a[f]).apply(a,e)})};a.pluck=function(b,f){return a.map(b,function(a){return a[f]})};a.max=function(b,f,e){if(!f&&a.isArray(b))return Math.max.apply(Math,b);var c={computed:-Infinity};P(b,function(a,b,g){b=f?f.call(e,a,b,g):a;b>=c.computed&&(c={value:a,computed:b})});return c.value};
a.min=function(b,f,e){if(!f&&a.isArray(b))return Math.min.apply(Math,b);var c={computed:Infinity};P(b,function(a,b,g){b=f?f.call(e,a,b,g):a;b<c.computed&&(c={value:a,computed:b})});return c.value};a.sortBy=function(b,f,e){return a.pluck(a.map(b,function(a,b,c){return{value:a,criteria:f.call(e,a,b,c)}}).sort(function(a,b){var f=a.criteria,e=b.criteria;return f<e?-1:f>e?1:0}),"value")};a.groupBy=function(a,b){var f={};P(a,function(a,e){var c=b(a,e);(f[c]||(f[c]=[])).push(a)});return f};a.sortedIndex=
function(b,f,e){e||(e=a.identity);for(var c=0,g=b.length;c<g;){var h=c+g>>1;e(b[h])<e(f)?c=h+1:g=h}return c};a.toArray=function(b){return!b?[]:b.toArray?b.toArray():a.isArray(b)?h.call(b):a.isArguments(b)?h.call(b):a.values(b)};a.size=function(b){return a.toArray(b).length};a.first=a.head=function(a,b,f){return b!=null&&!f?h.call(a,0,b):a[0]};a.rest=a.tail=function(a,b,f){return h.call(a,b==null||f?1:b)};a.last=function(a){return a[a.length-1]};a.compact=function(b){return a.filter(b,function(a){return!!a})};
a.flatten=function(b){return a.reduce(b,function(b,f){if(a.isArray(f))return b.concat(a.flatten(f));b[b.length]=f;return b},[])};a.without=function(b){return a.difference(b,h.call(arguments,1))};a.uniq=a.unique=function(b,f){return a.reduce(b,function(b,e,c){if(0==c||(f===true?a.last(b)!=e:!a.include(b,e)))b[b.length]=e;return b},[])};a.union=function(){return a.uniq(a.flatten(arguments))};a.intersection=a.intersect=function(b){var f=h.call(arguments,1);return a.filter(a.uniq(b),function(b){return a.every(f,
function(f){return a.indexOf(f,b)>=0})})};a.difference=function(b,f){return a.filter(b,function(b){return!a.include(f,b)})};a.zip=function(){for(var b=h.call(arguments),f=a.max(a.pluck(b,"length")),e=Array(f),c=0;c<f;c++)e[c]=a.pluck(b,""+c);return e};a.indexOf=function(b,f,e){if(b==null)return-1;var c;if(e)return e=a.sortedIndex(b,f),b[e]===f?e:-1;if(o&&b.indexOf===o)return b.indexOf(f);for(e=0,c=b.length;e<c;e++)if(b[e]===f)return e;return-1};a.lastIndexOf=function(a,b){if(a==null)return-1;if(D&&
a.lastIndexOf===D)return a.lastIndexOf(b);for(var f=a.length;f--;)if(a[f]===b)return f;return-1};a.range=function(a,b,f){arguments.length<=1&&(b=a||0,a=0);for(var f=arguments[2]||1,e=Math.max(Math.ceil((b-a)/f),0),c=0,g=Array(e);c<e;)g[c++]=a,a+=f;return g};a.bind=function(a,b){if(a.bind===f&&f)return f.apply(a,h.call(arguments,1));var e=h.call(arguments,2);return function(){return a.apply(b,e.concat(h.call(arguments)))}};a.bindAll=function(b){var f=h.call(arguments,1);f.length==0&&(f=a.functions(b));
P(f,function(f){b[f]=a.bind(b[f],b)});return b};a.memoize=function(b,f){var c={};f||(f=a.identity);return function(){var a=f.apply(this,arguments);return e.call(c,a)?c[a]:c[a]=b.apply(this,arguments)}};a.delay=function(a,b){var f=h.call(arguments,2);return setTimeout(function(){return a.apply(a,f)},b)};a.defer=function(b){return a.delay.apply(a,[b,1].concat(h.call(arguments,1)))};var M=function(a,b,f){var e;return function(){var c=this,g=arguments,h=function(){e=null;a.apply(c,g)};f&&clearTimeout(e);
if(f||!e)e=setTimeout(h,b)}};a.throttle=function(a,b){return M(a,b,false)};a.debounce=function(a,b){return M(a,b,true)};a.once=function(a){var b=false,f;return function(){if(b)return f;b=true;return f=a.apply(this,arguments)}};a.wrap=function(a,b){return function(){var f=[a].concat(h.call(arguments));return b.apply(this,f)}};a.compose=function(){var a=h.call(arguments);return function(){for(var b=h.call(arguments),f=a.length-1;f>=0;f--)b=[a[f].apply(this,b)];return b[0]}};a.after=function(a,b){return function(){if(--a<
1)return b.apply(this,arguments)}};a.keys=C||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],f;for(f in a)e.call(a,f)&&(b[b.length]=f);return b};a.values=function(b){return a.map(b,a.identity)};a.functions=a.methods=function(b){var f=[],e;for(e in b)a.isFunction(b[e])&&f.push(e);return f.sort()};a.extend=function(a){P(h.call(arguments,1),function(b){for(var f in b)b[f]!==void 0&&(a[f]=b[f])});return a};a.defaults=function(a){P(h.call(arguments,1),function(b){for(var f in b)a[f]==
null&&(a[f]=b[f])});return a};a.clone=function(b){return a.isArray(b)?b.slice():a.extend({},b)};a.tap=function(a,b){b(a);return a};a.isEqual=function(b,f){if(b===f)return true;var e=typeof b;if(e!=typeof f)return false;if(b==f)return true;if(!b&&f||b&&!f)return false;if(b._chain)b=b._wrapped;if(f._chain)f=f._wrapped;if(b.isEqual)return b.isEqual(f);if(f.isEqual)return f.isEqual(b);if(a.isDate(b)&&a.isDate(f))return b.getTime()===f.getTime();if(a.isNaN(b)&&a.isNaN(f))return false;if(a.isRegExp(b)&&
a.isRegExp(f))return b.source===f.source&&b.global===f.global&&b.ignoreCase===f.ignoreCase&&b.multiline===f.multiline;if(e!=="object")return false;if(b.length&&b.length!==f.length)return false;var e=a.keys(b),c=a.keys(f);if(e.length!=c.length)return false;for(var g in b)if(!(g in f)||!a.isEqual(b[g],f[g]))return false;return true};a.isEmpty=function(b){if(a.isArray(b)||a.isString(b))return b.length===0;for(var f in b)if(e.call(b,f))return false;return true};a.isElement=function(a){return!!(a&&a.nodeType==
1)};a.isArray=k||function(a){return v.call(a)==="[object Array]"};a.isObject=function(a){return a===Object(a)};a.isArguments=function(a){return!(!a||!e.call(a,"callee"))};a.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};a.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)};a.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)};a.isNaN=function(a){return a!==a};a.isBoolean=function(a){return a===true||a===false};a.isDate=function(a){return!(!a||
!a.getTimezoneOffset||!a.setUTCFullYear)};a.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===false))};a.isNull=function(a){return a===null};a.isUndefined=function(a){return a===void 0};a.noConflict=function(){b._=l;return this};a.identity=function(a){return a};a.times=function(a,b,f){for(var e=0;e<a;e++)b.call(f,e)};a.mixin=function(b){P(a.functions(b),function(f){X(f,a[f]=b[f])})};var x=0;a.uniqueId=function(a){var b=x++;return a?a+b:b};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g};a.template=function(b,f){var e=a.templateSettings,e="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(e.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(e.evaluate||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj",
e);return f?e(f):e};var Z=function(a){this._wrapped=a};a.prototype=Z.prototype;var L=function(b,f){return f?a(b).chain():b},X=function(b,f){Z.prototype[b]=function(){var b=h.call(arguments);t.call(b,this._wrapped);return L(f.apply(a,b),this._chain)}};a.mixin(a);P("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=i[a];Z.prototype[a]=function(){b.apply(this._wrapped,arguments);return L(this._wrapped,this._chain)}});P(["concat","join","slice"],function(a){var b=i[a];Z.prototype[a]=
function(){return L(b.apply(this._wrapped,arguments),this._chain)}});Z.prototype.chain=function(){this._chain=true;return this};Z.prototype.value=function(){return this._wrapped}})();
(function(b){if(typeof _!="undefined")var l=_().reverse,g=_.include;var i=String.prototype.trim,k=function(b,c){for(var g=[];c>0;g[--c]=b);return g.join("")},h=function(b){return function(){for(var c=Array.prototype.slice.call(arguments),g=0;g<c.length;g++)c[g]=c[g]==null?"":""+c[g];return b.apply(null,c)}},t=function(){function b(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var c=function(){c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0]));
return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(c,g){var h=1,i=c.length,l="",p=[],o,v,C,f;for(o=0;o<i;o++)if(l=b(c[o]),l==="string")p.push(c[o]);else if(l==="array"){C=c[o];if(C[2]){l=g[h];for(v=0;v<C[2].length;v++){if(!l.hasOwnProperty(C[2][v]))throw t('[_.sprintf] property "%s" does not exist',C[2][v]);l=l[C[2][v]]}}else l=C[1]?g[C[1]]:g[h++];if(/[^s]/.test(C[8])&&b(l)!="number")throw t("[_.sprintf] expecting number but found %s",b(l));switch(C[8]){case "b":l=l.toString(2);
break;case "c":l=String.fromCharCode(l);break;case "d":l=parseInt(l,10);break;case "e":l=C[7]?l.toExponential(C[7]):l.toExponential();break;case "f":l=C[7]?parseFloat(l).toFixed(C[7]):parseFloat(l);break;case "o":l=l.toString(8);break;case "s":l=(l=String(l))&&C[7]?l.substring(0,C[7]):l;break;case "u":l=Math.abs(l);break;case "x":l=l.toString(16);break;case "X":l=l.toString(16).toUpperCase()}l=/[def]/.test(C[8])&&C[3]&&l>=0?"+"+l:l;v=C[4]?C[4]=="0"?"0":C[4].charAt(1):" ";f=C[6]-String(l).length;v=
C[6]?k(v,f):"";p.push(C[5]?l+v:v+l)}return p.join("")};c.cache={};c.parse=function(b){for(var e=[],c=[],g=0;b;){if((e=/^[^\x25]+/.exec(b))!==null)c.push(e[0]);else if((e=/^\x25{2}/.exec(b))!==null)c.push("%");else if((e=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b))!==null){if(e[2]){g|=1;var h=[],i=e[2],k=[];if((k=/^([a-z_][a-z_\d]*)/i.exec(i))!==null)for(h.push(k[1]);(i=i.substring(k[0].length))!=="";)if((k=/^\.([a-z_][a-z_\d]*)/i.exec(i))!==null)h.push(k[1]);
else if((k=/^\[(\d+)\]/.exec(i))!==null)h.push(k[1]);else throw"[_.sprintf] huh?";else throw"[_.sprintf] huh?";e[2]=h}else g|=2;if(g===3)throw"[_.sprintf] mixing positional and named placeholders is not (yet) supported";c.push(e)}else throw"[_.sprintf] huh?";b=b.substring(e[0].length)}return c};return c}(),v={isBlank:h(function(b){return/^\s*$/.test(b)}),stripTags:h(function(b){return b.replace(/<\/?[^>]+>/ig,"")}),capitalize:h(function(b){return b.charAt(0).toUpperCase()+b.substring(1).toLowerCase()}),
chop:h(function(b,c){for(var c=c*1||0||b.length,g=[],h=0;h<b.length;)g.push(b.slice(h,h+c)),h+=c;return g}),clean:h(function(b){return v.strip(b.replace(/\s+/g," "))}),count:h(function(b,c){for(var g=0,h,i=0;i<b.length;)h=b.indexOf(c,i),h>=0&&g++,i=i+(h>=0?h:0)+c.length;return g}),chars:h(function(b){return b.split("")}),escapeHTML:h(function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:h(function(b){return b.replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:h(function(b){return b.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:h(function(b,c,g){b=b.split("");b.splice(c*1||0,0,g);return b.join("")}),includes:h(function(b,c){return b.indexOf(c)!==-1}),include:function(b,c){return!g||/string|number/.test(typeof b)?this.includes(b,c):g(b,c)},join:h(function(b){var c=Array.prototype.slice.call(arguments);return c.join(c.shift())}),lines:h(function(b){return b.split("\n")}),
reverse:function(b){return!l||/string|number/.test(typeof b)?Array.prototype.reverse.apply(String(b).split("")).join(""):l.call(_(b))},splice:h(function(b,c,g,h){b=b.split("");b.splice(c*1||0,g*1||0,h);return b.join("")}),startsWith:h(function(b,c){return b.length>=c.length&&b.substring(0,c.length)===c}),endsWith:h(function(b,c){return b.length>=c.length&&b.substring(b.length-c.length)===c}),succ:h(function(b){var c=b.split("");c.splice(b.length-1,1,String.fromCharCode(b.charCodeAt(b.length-1)+1));
return c.join("")}),titleize:h(function(b){for(var b=b.split(" "),c,g=0;g<b.length;g++)c=b[g].split(""),typeof c[0]!=="undefined"&&(c[0]=c[0].toUpperCase()),g+1===b.length?b[g]=c.join(""):b[g]=c.join("")+" ";return b.join("")}),camelize:h(function(b){return v.trim(b).replace(/(\-|_|\s)+(.)?/g,function(b,e,g){return g?g.toUpperCase():""})}),underscored:function(b){return v.trim(b).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(b){return v.trim(b).replace(/([a-z\d])([A-Z]+)/g,
"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},trim:h(function(b,c){if(!c&&i)return i.call(b);c=c?v.escapeRegExp(c):"\\s";return b.replace(RegExp("^["+c+"]+|["+c+"]+$","g"),"")}),ltrim:h(function(b,c){c=c?v.escapeRegExp(c):"\\s";return b.replace(RegExp("^["+c+"]+","g"),"")}),rtrim:h(function(b,c){c=c?v.escapeRegExp(c):"\\s";return b.replace(RegExp("["+c+"]+$","g"),"")}),truncate:h(function(b,c,g){c=c*1||0;return b.length>c?b.slice(0,c)+(g||"..."):b}),prune:h(function(b,
c,g){var g=g||"...",c=c*1||0,h="",h=b.substring(c-1,c+1).search(/^\w\w$/)===0?v.rtrim(b.slice(0,c).replace(/([\W][\w]*)$/,"")):v.rtrim(b.slice(0,c)),h=h.replace(/\W+$/,"");return h.length+g.length>b.length?b:h+g}),words:function(b,c){return String(b).split(c||" ")},pad:h(function(b,c,g,h){var i="",i=0,c=c*1||0;g?g.length>1&&(g=g.charAt(0)):g=" ";switch(h){case "right":i=c-b.length;i=k(g,i);b+=i;break;case "both":i=c-b.length;i={left:k(g,Math.ceil(i/2)),right:k(g,Math.floor(i/2))};b=i.left+b+i.right;
break;default:i=c-b.length,i=k(g,i),b=i+b}return b}),lpad:function(b,c,g){return v.pad(b,c,g)},rpad:function(b,c,g){return v.pad(b,c,g,"right")},lrpad:function(b,c,g){return v.pad(b,c,g,"both")},sprintf:t,vsprintf:function(b,c){c.unshift(b);return t.apply(null,c)},toNumber:function(b,c){var g;g=(b*1||0).toFixed(c*1||0)*1||0;return!(g===0&&b!=="0"&&b!==0)?g:Number.NaN},strRight:h(function(b,c){var g=!c?-1:b.indexOf(c);return g!=-1?b.slice(g+c.length,b.length):b}),strRightBack:h(function(b,c){var g=
!c?-1:b.lastIndexOf(c);return g!=-1?b.slice(g+c.length,b.length):b}),strLeft:h(function(b,c){var g=!c?-1:b.indexOf(c);return g!=-1?b.slice(0,g):b}),strLeftBack:h(function(b,c){var g=b.lastIndexOf(c);return g!=-1?b.slice(0,g):b})};v.strip=v.trim;v.lstrip=v.ltrim;v.rstrip=v.rtrim;v.center=v.lrpad;v.ljust=v.lpad;v.rjust=v.rpad;typeof module!=="undefined"&&module.exports?module.exports=v:typeof b._!=="undefined"?b._.mixin(v):b._=v})(this||window);
(function(){var b=this,l=b.Backbone,g;g=typeof exports!=="undefined"?exports:b.Backbone={};g.VERSION="0.5.3";var i=b._;if(!i&&typeof require!=="undefined")i=require("underscore")._;var k=b.jQuery||b.Zepto;g.noConflict=function(){b.Backbone=l;return this};g.emulateHTTP=false;g.emulateJSON=false;g.Events={bind:function(b,a,c){var e=this._callbacks||(this._callbacks={});(e[b]||(e[b]=[])).push([a,c]);return this},unbind:function(b,a){var c;if(b){if(c=this._callbacks)if(a){c=c[b];if(!c)return this;for(var e=
0,g=c.length;e<g;e++)if(c[e]&&a===c[e][0]){c[e]=null;break}}else c[b]=[]}else this._callbacks={};return this},trigger:function(b){var a,c,e,g,h=2;if(!(c=this._callbacks))return this;for(;h--;)if(a=h?b:"all",a=c[a])for(var i=0,k=a.length;i<k;i++)(e=a[i])?(g=h?Array.prototype.slice.call(arguments,1):arguments,e[0].apply(e[1]||this,g)):(a.splice(i,1),i--,k--);return this}};g.Model=function(b,a){var c;b||(b={});if(c=this.defaults)i.isFunction(c)&&(c=c.call(this)),b=i.extend({},c,b);this.attributes={};
this._escapedAttributes={};this.cid=i.uniqueId("c");this.set(b,{silent:true});this._changed=false;this._previousAttributes=i.clone(this.attributes);if(a&&a.collection)this.collection=a.collection;this.initialize(b,a)};i.extend(g.Model.prototype,g.Events,{_previousAttributes:null,_changed:false,idAttribute:"id",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},get:function(b){return this.attributes[b]},escape:function(b){var a;if(a=this._escapedAttributes[b])return a;a=this.attributes[b];
return this._escapedAttributes[b]=(a==null?"":""+a).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(b){return this.attributes[b]!=null},set:function(b,a){a||(a={});if(!b)return this;if(b.attributes)b=b.attributes;var c=this.attributes,e=this._escapedAttributes;if(!a.silent&&this.validate&&!this._performValidation(b,a))return false;if(this.idAttribute in b)this.id=b[this.idAttribute];
var g=this._changing;this._changing=true;for(var h in b){var k=b[h];if(!i.isEqual(c[h],k))c[h]=k,delete e[h],this._changed=true,a.silent||this.trigger("change:"+h,this,k,a)}!g&&!a.silent&&this._changed&&this.change(a);this._changing=false;return this},unset:function(b,a){if(!(b in this.attributes))return this;a||(a={});var c={};c[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(c,a))return false;delete this.attributes[b];delete this._escapedAttributes[b];b==this.idAttribute&&delete this.id;
this._changed=true;a.silent||(this.trigger("change:"+b,this,void 0,a),this.change(a));return this},clear:function(b){b||(b={});var a,c=this.attributes,e={};for(a in c)e[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(e,b))return false;this.attributes={};this._escapedAttributes={};this._changed=true;if(!b.silent){for(a in c)this.trigger("change:"+a,this,void 0,b);this.change(b)}return this},fetch:function(b){b||(b={});var a=this,c=b.success;b.success=function(e,g,h){if(!a.set(a.parse(e,
h),b))return false;c&&c(a,e)};b.error=C(b.error,a,b);return(this.sync||g.sync).call(this,"read",this,b)},save:function(b,a){a||(a={});if(b&&!this.set(b,a))return false;var c=this,e=a.success;a.success=function(b,f,g){if(!c.set(c.parse(b,g),a))return false;e&&e(c,b,g)};a.error=C(a.error,c,a);var h=this.isNew()?"create":"update";return(this.sync||g.sync).call(this,h,this,a)},destroy:function(b){b||(b={});if(this.isNew())return this.trigger("destroy",this,this.collection,b);var a=this,c=b.success;b.success=
function(e){a.trigger("destroy",a,a.collection,b);c&&c(a,e)};b.error=C(b.error,a,b);return(this.sync||g.sync).call(this,"delete",this,b)},url:function(){var b=o(this.collection)||this.urlRoot||D();return this.isNew()?b:b+(b.charAt(b.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(b){return b},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(b){this.trigger("change",this,b);this._previousAttributes=i.clone(this.attributes);
this._changed=false},hasChanged:function(b){return b?this._previousAttributes[b]!=this.attributes[b]:this._changed},changedAttributes:function(b){b||(b=this.attributes);var a=this._previousAttributes,c=false,e;for(e in b)i.isEqual(a[e],b[e])||(c=c||{},c[e]=b[e]);return c},previous:function(b){return!b||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return i.clone(this._previousAttributes)},_performValidation:function(b,a){var c=this.validate(b);return c?
(a.error?a.error(this,c,a):this.trigger("error",this,c,a),false):true}});g.Collection=function(b,a){a||(a={});if(a.comparator)this.comparator=a.comparator;i.bindAll(this,"_onModelEvent","_removeReference");this._reset();b&&this.reset(b,{silent:true});this.initialize.apply(this,arguments)};i.extend(g.Collection.prototype,g.Events,{model:g.Model,initialize:function(){},toJSON:function(){return this.map(function(b){return b.toJSON()})},add:function(b,a){if(i.isArray(b))for(var c=0,e=b.length;c<e;c++)this._add(b[c],
a);else this._add(b,a);return this},remove:function(b,a){if(i.isArray(b))for(var c=0,e=b.length;c<e;c++)this._remove(b[c],a);else this._remove(b,a);return this},get:function(b){return b==null?null:this._byId[b.id!=null?b.id:b]},getByCid:function(b){return b&&this._byCid[b.cid||b]},at:function(b){return this.models[b]},sort:function(b){b||(b={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);b.silent||this.trigger("reset",this,b);
return this},pluck:function(b){return i.map(this.models,function(a){return a.get(b)})},reset:function(b,a){b||(b=[]);a||(a={});this.each(this._removeReference);this._reset();this.add(b,{silent:true});a.silent||this.trigger("reset",this,a);return this},fetch:function(b){b||(b={});var a=this,c=b.success;b.success=function(e,g,h){a[b.add?"add":"reset"](a.parse(e,h),b);c&&c(a,e)};b.error=C(b.error,a,b);return(this.sync||g.sync).call(this,"read",this,b)},create:function(b,a){var c=this;a||(a={});b=this._prepareModel(b,
a);if(!b)return false;var e=a.success;a.success=function(b,f,g){c.add(b,a);e&&e(b,f,g)};b.save(null,a);return b},parse:function(b){return b},chain:function(){return i(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(b,a){if(b instanceof g.Model){if(!b.collection)b.collection=this}else{var c=b,b=new this.model(c,{collection:this});b.validate&&!b._performValidation(c,a)&&(b=false)}return b},_add:function(b,a){a||(a={});b=this._prepareModel(b,
a);if(!b)return false;var c=this.getByCid(b);if(c)throw Error(["Can't add the same model to a set twice",c.id]);this._byId[b.id]=b;this._byCid[b.cid]=b;this.models.splice(a.at!=null?a.at:this.comparator?this.sortedIndex(b,this.comparator):this.length,0,b);b.bind("all",this._onModelEvent);this.length++;a.silent||b.trigger("add",b,this,a);return b},_remove:function(b,a){a||(a={});b=this.getByCid(b)||this.get(b);if(!b)return null;delete this._byId[b.id];delete this._byCid[b.cid];this.models.splice(this.indexOf(b),
1);this.length--;a.silent||b.trigger("remove",b,this,a);this._removeReference(b);return b},_removeReference:function(b){this==b.collection&&delete b.collection;b.unbind("all",this._onModelEvent)},_onModelEvent:function(b,a,c,e){(b=="add"||b=="remove")&&c!=this||(b=="destroy"&&this._remove(a,e),a&&b==="change:"+a.idAttribute&&(delete this._byId[a.previous(a.idAttribute)],this._byId[a.id]=a),this.trigger.apply(this,arguments))}});i.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,rest,last,without,indexOf,lastIndexOf,isEmpty,groupBy".split(","),
function(b){g.Collection.prototype[b]=function(){return i[b].apply(i,[this.models].concat(i.toArray(arguments)))}});g.Router=function(b){b||(b={});if(b.routes)this.routes=b.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var h=/:([\w\d]+)/g,t=/\*([\w\d]+)/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;i.extend(g.Router.prototype,g.Events,{initialize:function(){},route:function(b,a,c){g.history||(g.history=new g.History);i.isRegExp(b)||(b=this._routeToRegExp(b));g.history.route(b,i.bind(function(e){e=
this._extractParameters(b,e);c.apply(this,e);this.trigger.apply(this,["route:"+a].concat(e))},this))},navigate:function(b,a){g.history.navigate(b,a)},_bindRoutes:function(){if(this.routes){var b=[],a;for(a in this.routes)b.unshift([a,this.routes[a]]);a=0;for(var c=b.length;a<c;a++)this.route(b[a][0],b[a][1],this[b[a][1]])}},_routeToRegExp:function(b){b=b.replace(v,"\\$&").replace(h,"([^/]*)").replace(t,"(.*?)");return RegExp("^"+b+"$")},_extractParameters:function(b,a){return b.exec(a).slice(1)}});
g.History=function(){this.handlers=[];i.bindAll(this,"checkUrl")};var e=/^#*/,c=/msie [\w.]+/,u=false;i.extend(g.History.prototype,{interval:50,getFragment:function(b,a){if(b==null)if(this._hasPushState||a){var b=window.location.pathname,c=window.location.search;c&&(b+=c);b.indexOf(this.options.root)==0&&(b=b.substr(this.options.root.length))}else b=window.location.hash;return decodeURIComponent(b.replace(e,""))},start:function(b){if(u)throw Error("Backbone.history has already been started");this.options=
i.extend({},{root:"/"},this.options,b);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var b=this.getFragment(),a=document.documentMode;if(a=c.exec(navigator.userAgent.toLowerCase())&&(!a||a<=7))this.iframe=k('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b);this._hasPushState?k(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!a?k(window).bind("hashchange",
this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=b;u=true;b=window.location;a=b.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!a)return this.fragment=this.getFragment(null,true),window.location.replace(this.options.root+"#"+this.fragment),true;else if(this._wantsPushState&&this._hasPushState&&a&&b.hash)this.fragment=b.hash.replace(e,""),window.history.replaceState({},document.title,b.protocol+"//"+b.host+this.options.root+this.fragment);if(!this.options.silent)return this.loadUrl()},
route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.iframe.location.hash));if(b==this.fragment||b==decodeURIComponent(this.fragment))return false;this.iframe&&this.navigate(b);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(b){var a=this.fragment=this.getFragment(b);return i.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),true})},navigate:function(b,
a){var c=(b||"").replace(e,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var g=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,g.protocol+"//"+g.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;a&&this.loadUrl(b)}}});g.View=function(b){this.cid=i.uniqueId("view");
this._configure(b||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var z=/^(\S+)\s*(.*)$/,A="model,collection,el,id,attributes,className,tagName".split(",");i.extend(g.View.prototype,g.Events,{tagName:"div",$:function(b){return k(b,this.el)},initialize:function(){},render:function(){return this},remove:function(){k(this.el).remove();return this},make:function(b,a,c){b=document.createElement(b);a&&k(b).attr(a);c&&k(b).html(c);return b},delegateEvents:function(b){if(b||
(b=this.events)){i.isFunction(b)&&(b=b.call(this));k(this.el).unbind(".delegateEvents"+this.cid);for(var a in b){var c=this[b[a]];if(!c)throw Error('Event "'+b[a]+'" does not exist');var e=a.match(z),g=e[1],e=e[2],c=i.bind(c,this);g+=".delegateEvents"+this.cid;e===""?k(this.el).bind(g,c):k(this.el).delegate(e,g,c)}}},_configure:function(b){this.options&&(b=i.extend({},this.options,b));for(var a=0,c=A.length;a<c;a++){var e=A[a];b[e]&&(this[e]=b[e])}this.options=b},_ensureElement:function(){if(this.el){if(i.isString(this.el))this.el=
k(this.el).get(0)}else{var b=this.attributes||{};if(this.id)b.id=this.id;if(this.className)b["class"]=this.className;this.el=this.make(this.tagName,b)}}});g.Model.extend=g.Collection.extend=g.Router.extend=g.View.extend=function(b,a){var c=p(this,b,a);c.extend=this.extend;return c};var E={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};g.sync=function(b,a,c){var e=E[b],c=i.extend({type:e,dataType:"json"},c);if(!c.url)c.url=o(a)||D();if(!c.data&&a&&(b=="create"||b=="update"))c.contentType=
"application/json",c.data=JSON.stringify(a.toJSON());if(g.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.data=c.data?{model:c.data}:{};if(g.emulateHTTP&&(e==="PUT"||e==="DELETE")){if(g.emulateJSON)c.data._method=e;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e)}}if(c.type!=="GET"&&!g.emulateJSON)c.processData=false;return k.ajax(c)};var F=function(){},p=function(b,a,c){var e;e=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return b.apply(this,
arguments)};i.extend(e,b);F.prototype=b.prototype;e.prototype=new F;a&&i.extend(e.prototype,a);c&&i.extend(e,c);e.prototype.constructor=e;e.__super__=b.prototype;return e},o=function(b){return!b||!b.url?null:i.isFunction(b.url)?b.url():b.url},D=function(){throw Error('A "url" property or function must be specified');},C=function(b,a,c){return function(e){b?b(a,e,c):a.trigger("error",a,e,c)}}}).call(this);
(function(){var b,l,g,i,k;typeof window!=="undefined"&&window!==null?(g=window.CoffeeKup={},l=typeof CoffeeScript!=="undefined"&&CoffeeScript!==null?CoffeeScript:null):(g=exports,l=require("coffee-script"));g.version="0.3.0beta2";g.doctypes={"default":"<!DOCTYPE html>",5:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',"1.1":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">',ce:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "ce-html-1.0-transitional.dtd">'};
i="var __slice = Array.prototype.slice;\nvar __hasProp = Object.prototype.hasOwnProperty;\nvar __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\nvar __extends = function(child, parent) {\n  for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; }\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype;\n  return child; };\nvar __indexOf = Array.prototype.indexOf || function(item) {\n  for (var i = 0, l = this.length; i < l; i++) {\n    if (this[i] === item) return i;\n  } return -1; };".replace(/\n/g,
"");g.tags="a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|video|xmp".replace(/\n/g,
"").split("|");g.self_closing="area,base,basefont,br,col,frame,hr,img,input,link,meta,param".split(",");k=function(b){b==null&&(b={});if(b.format==null)b.format=false;if(b.autoescape==null)b.autoescape=false;return null};k=String(k).replace(/function\s*\(.*\)\s*\{/,"").replace(/return null;\s*\}$/,"");k=i+k;g.compile=function(b,t){var v,e,c,u,z,A,E;t==null&&(t={});typeof b==="function"?b=String(b):typeof b==="string"&&l!=null&&(b=l.compile(b,{bare:true}),b="function(){"+b+"}");v="";if(t.hardcode)for(e in u=
t.hardcode,u)c=u[e],v+=typeof c==="function"?"var "+e+" = function(){return ("+c+").apply(data, arguments);};":"var "+e+" = "+JSON.stringify(c)+";";c="";u=[];E=g.tags;for(z=0,A=E.length;z<A;z++)e=E[z],(b.indexOf(e)>-1||v.indexOf(e)>-1)&&u.push(e);c+="var "+u.join(",")+";";for(z=0,A=u.length;z<A;z++)e=u[z],c+=""+e+" = function(){return __ck.tag('"+e+"', arguments);};";v=c+v+k;v+="__ck.doctypes = "+JSON.stringify(g.doctypes)+";";v+="__ck.coffeescript_helpers = "+JSON.stringify(i)+";";v+="__ck.self_closing = "+
JSON.stringify(g.self_closing)+";";t.locals&&(v+="with(data.locals){");v+="("+b+").call(data);";t.locals&&(v+="}");v+="return __ck.buffer.join('');";return new Function("data",v)};b={};g.render=function(h,i,k){var e,c;i==null&&(i={});k==null&&(k={});for(e in k)c=k[e],i[e]=c;if(i.cache==null)i.cache=false;return(i.cache&&b[h]!=null?b[h]:i.cache?b[h]=g.compile(h,i):g.compile(h,i))(i)};if(typeof window==="undefined"||window===null)g.adapters={simple:g.render,meryl:g.render,express:{compile:function(b,
i){i.hardcode={partial:function(){return text(this.partial.apply(this,arguments))}};return g.compile(b,i)}}}}).call(this);
(function(){function b(b){if(b in k)return k[b].cloneNode(true).childNodes;for(var c=[],h=i.createDocumentFragment(),z,A,E,F=1,p=0,o=false,D;(m=l.exec(b))!==null;)++p,c.push(m[1]);for(;p--;)if(E=c[p],g.COMBINATOR.test(E))o=E==="~"||E==="+";else{F=(D=E.match(g.CLONE))?~~D[1]:1;A=z;z=E;E=g.TAG.exec(z);E=i.createElement(E&&E[1]!=="*"?E[1]:"div");for(var C=i.createDocumentFragment(),f=t.length,a=void 0,P=void 0,Y=void 0;f--;)if(P=g[t[f]],Y=v[t[f]],P.global)for(;(a=P.exec(z))!==null;)Y(a,E);else(a=P.exec(z))&&
Y(a,E);for(;F--;)C.appendChild(E.cloneNode(true));z=C;if(A)if(o)z.appendChild(A),o=false;else{F=z;F=F.childNodes;E=F.length;for(C=void 0;E--;)C=F[E],C.nodeName.toLowerCase()==="table"&&C.appendChild(C=i.createElement("tbody")),C.appendChild(A.cloneNode(true))}}h.appendChild(z);k[b]=h.cloneNode(true);return h.childNodes}var l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,g={ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?![^[\]]+])/g,
NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/g,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CLONE:/\:(\d+)(?=$|[:[])/,COMBINATOR:/^[>~+]$/},i=document,k={},h={"for":"htmlFor","class":"className",html:"innerHTML"},t=["ID","CLASS","NAME","ATTR"],v={ID:function(b,c){c.id=b[1]},CLASS:function(b,c){var g=c.className.replace(/^\s+$/,"");c.className=g?g+" "+b[1]:b[1]},NAME:function(b,c){c.name=b[1]},ATTR:function(b,c){var g=
b[1],i=b[4]||true;i===true||g==="innerHTML"||h.hasOwnProperty(g)?c[h[g]||g]=i:c.setAttribute(g,i)}};b.cache=k;window.satisfy=b;window.jQuery!==void 0&&jQuery.fn&&(jQuery.satisfy=function(e){return jQuery(b(e))})})();
(function(){function b(){if(b.is(arguments[0],B)){for(var a=arguments[0],d=Pa[D](b,a.splice(0,3+b.is(a[0],T))),c=d.set(),f=0,e=a[x];f<e;f++){var g=a[f]||{};v[u](g.type)&&c[Q](d[g.type]().attr(g))}return c}return Pa[D](b,arguments)}function l(){for(var b=[],a=0;a<32;a++)b[a]=(~~(L.random()*16))[N](16);b[12]=4;b[16]=(b[16]&3|8)[N](16);return"r-"+b[M]("")}function g(b,a,d){function f(){var e=Array[c].slice.call(arguments,0),g=e[M]("\u25ba"),h=f.cache=f.cache||{},i=f.count=f.count||[];if(h[u](g))return d?
d(h[g]):h[g];i[x]>=1E3&&delete h[i.shift()];i[Q](g);h[g]=b[D](a,e);return d?d(h[g]):h[g]}return f}function i(){return this.x+f+this.y}function k(a){return function(d,c,f,e){var g={back:a};b.is(f,"function")?e=f:g.rot=f;d&&d.constructor==V&&(d=d.attrs.path);d&&(g.along=d);return this.animate(g,c,e)}}function h(b,a,d,c,f,e){function g(b,a){var d,s,c,f;for(c=b,s=0;s<8;s++){f=((j*c+i)*c+h)*c-b;if(K(f)<a)return c;d=(3*j*c+2*i)*c+h;if(K(d)<1.0E-6)break;c-=f/d}d=0;s=1;c=b;if(c<d)return d;if(c>s)return s;
for(;d<s;){f=((j*c+i)*c+h)*c;if(K(f-b)<a)break;b>f?d=c:s=c;c=(s-d)/2+d}return c}var h=3*a,i=3*(c-a)-h,j=1-h-i,r=3*d,k=3*(f-d)-r,o=1-r-k;return function(b,a){var d=g(b,a);return((o*d+k)*d+r)*d}(b,1/(200*e))}b.version="1.5.2";var t=/[, ]+/,v={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\{(\d+)\}/g,c="prototype",u="hasOwnProperty",z=document,A=window,E=Object[c][u].call(A,"Raphael"),F=A.Raphael,p=function(){this.customAttributes={}},o,D="apply",C="createTouch"in z,f=" ",a=String,P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(f),
Y={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},M="join",x="length",Z=a[c].toLowerCase,L=Math,X=L.max,q=L.min,K=L.abs,I=L.pow,W=L.PI,T="number",B="array",N="toString",aa=Object[c][N],Q="push",ja=/^url\(['"]?([^\)]+?)['"]?\)$/i,pa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
ea={NaN:1,Infinity:1,"-Infinity":1},w=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,G=L.round,R=parseFloat,ka=parseInt,qa=a[c].toUpperCase,na={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Ga={along:"along",blur:T,"clip-rect":"csv",cx:T,cy:T,fill:"colour","fill-opacity":T,"font-size":T,height:T,opacity:T,path:"path",r:T,rotation:"csv",rx:T,ry:T,scale:"csv",stroke:"colour","stroke-opacity":T,"stroke-width":T,translation:"csv",width:T,x:T,y:T},xa=/^(from|to|\d+%?)$/,ra=/\s*,\s*/,Ja={hs:1,rg:1},Ra=/,?([achlmqrstvxz]),?/gi,
ua=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,ya=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,va=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,Ka=function(b,a){return b.key-a.key};b.type=A.SVGAngle||z.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(b.type=="VML"){var sa=z.createElement("div"),r;sa.innerHTML='<v:shape adj="1"/>';r=sa.firstChild;r.style.behavior="url(#default#VML)";if(!(r&&typeof r.adj=="object"))return b.type=null;sa=null}b.svg=
!(b.vml=b.type=="VML");p[c]=b[c];o=p[c];b._id=0;b._oid=0;b.fn={};b.is=function(b,a){a=Z.call(a);return a=="finite"?!ea[u](+b):a=="null"&&b===null||a==typeof b||a=="object"&&b===Object(b)||a=="array"&&Array.isArray&&Array.isArray(b)||aa.call(b).slice(8,-1).toLowerCase()==a};b.angle=function(a,d,c,f,e,g){return e==null?(a-=c,d-=f,!a&&!d?0:((a<0)*180+L.atan(-d/-a)*180/W+360)%360):b.angle(a,d,e,g)-b.angle(c,f,e,g)};b.rad=function(b){return b%360*W/180};b.deg=function(b){return b*180/W%360};b.snapTo=function(a,
d,c){c=b.is(c,"finite")?c:10;if(b.is(a,B))for(var f=a.length;f--;){if(K(a[f]-d)<=c)return a[f]}else{a=+a;f=d%a;if(f<c)return d-f;if(f>a-c)return d-f+a}return d};b.setWindow=function(b){A=b;z=A.document};var U=function(d){if(b.vml){var c=/^\s+|\s+$/g,f;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();f=e.body}catch(h){f=createPopup().document.body}var H=f.createTextRange();U=g(function(b){try{f.style.color=a(b).replace(c,"");var d=H.queryCommandValue("ForeColor");return"#"+("000000"+
((d&255)<<16|d&65280|(d&16711680)>>>16)[N](16)).slice(-6)}catch(s){return"none"}})}else{var i=z.createElement("i");i.title="Rapha\u00ebl Colour Picker";i.style.display="none";z.body.appendChild(i);U=g(function(b){i.style.color=b;return z.defaultView.getComputedStyle(i,"").getPropertyValue("color")})}return U(d)},da=function(){return"hsb("+[this.h,this.s,this.b]+")"},cb=function(){return"hsl("+[this.h,this.s,this.l]+")"},tb=function(){return this.hex};b.hsb2rgb=function(a,d,c,f){if(b.is(a,"object")&&
"h"in a&&"s"in a&&"b"in a)c=a.b,d=a.s,a=a.h,f=a.o;return b.hsl2rgb(a,d,c/2,f)};b.hsl2rgb=function(a,d,c,f){if(b.is(a,"object")&&"h"in a&&"s"in a&&"l"in a)c=a.l,d=a.s,a=a.h;if(a>1||d>1||c>1)a/=360,d/=100,c/=100;var e={},g=["r","g","b"],h;if(d)for(var d=c<0.5?c*(1+d):c+d-c*d,c=2*c-d,i=0;i<3;i++)h=a+1/3*-(i-1),h<0&&h++,h>1&&h--,e[g[i]]=h*6<1?c+(d-c)*6*h:h*2<1?d:h*3<2?c+(d-c)*(2/3-h)*6:c;else e={r:c,g:c,b:c};e.r*=255;e.g*=255;e.b*=255;e.hex="#"+(16777216|e.b|e.g<<8|e.r<<16).toString(16).slice(1);b.is(f,
"finite")&&(e.opacity=f);e.toString=tb;return e};b.rgb2hsb=function(a,d,c){if(d==null&&b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a)c=a.b,d=a.g,a=a.r;if(d==null&&b.is(a,"string"))var f=b.getRGB(a),a=f.r,d=f.g,c=f.b;if(a>1||d>1||c>1)a/=255,d/=255,c/=255;var f=X(a,d,c),e=q(a,d,c);if(e==f)return{h:0,s:0,b:f,toString:da};else e=f-e,a=a==f?(d-c)/e:d==f?2+(c-a)/e:4+(a-d)/e,a/=6,a<0&&a++,a>1&&a--;return{h:a,s:e/f,b:f,toString:da}};b.rgb2hsl=function(a,d,c){if(d==null&&b.is(a,"object")&&"r"in a&&"g"in a&&
"b"in a)c=a.b,d=a.g,a=a.r;if(d==null&&b.is(a,"string"))var f=b.getRGB(a),a=f.r,d=f.g,c=f.b;if(a>1||d>1||c>1)a/=255,d/=255,c/=255;var f=X(a,d,c),e=q(a,d,c),g=(f+e)/2;if(e==f)a={h:0,s:0,l:g};else{var h=f-e,a=a==f?(d-c)/h:d==f?2+(c-a)/h:4+(a-d)/h;a/=6;a<0&&a++;a>1&&a--;a={h:a,s:g<0.5?h/(f+e):h/(2-f-e),l:g}}a.toString=cb;return a};b._path2string=function(){return this.join(",").replace(Ra,"$1")};b.getRGB=g(function(d){if(!d||(d=a(d)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(d=="none")return{r:-1,
g:-1,b:-1,hex:"none"};!(Ja[u](d.toLowerCase().substring(0,2))||d.charAt()=="#")&&(d=U(d));var c,f,e,g,h;if(d=d.match(pa)){d[2]&&(e=ka(d[2].substring(5),16),f=ka(d[2].substring(3,5),16),c=ka(d[2].substring(1,3),16));d[3]&&(e=ka((h=d[3].charAt(3))+h,16),f=ka((h=d[3].charAt(2))+h,16),c=ka((h=d[3].charAt(1))+h,16));d[4]&&(h=d[4].split(ra),c=R(h[0]),h[0].slice(-1)=="%"&&(c*=2.55),f=R(h[1]),h[1].slice(-1)=="%"&&(f*=2.55),e=R(h[2]),h[2].slice(-1)=="%"&&(e*=2.55),d[1].toLowerCase().slice(0,4)=="rgba"&&(g=
R(h[3])),h[3]&&h[3].slice(-1)=="%"&&(g/=100));if(d[5])return h=d[5].split(ra),c=R(h[0]),h[0].slice(-1)=="%"&&(c*=2.55),f=R(h[1]),h[1].slice(-1)=="%"&&(f*=2.55),e=R(h[2]),h[2].slice(-1)=="%"&&(e*=2.55),(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\u00b0")&&(c/=360),d[1].toLowerCase().slice(0,4)=="hsba"&&(g=R(h[3])),h[3]&&h[3].slice(-1)=="%"&&(g/=100),b.hsb2rgb(c,f,e,g);if(d[6])return h=d[6].split(ra),c=R(h[0]),h[0].slice(-1)=="%"&&(c*=2.55),f=R(h[1]),h[1].slice(-1)=="%"&&(f*=2.55),e=R(h[2]),h[2].slice(-1)==
"%"&&(e*=2.55),(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\u00b0")&&(c/=360),d[1].toLowerCase().slice(0,4)=="hsla"&&(g=R(h[3])),h[3]&&h[3].slice(-1)=="%"&&(g/=100),b.hsl2rgb(c,f,e,g);d={r:c,g:f,b:e};d.hex="#"+(16777216|e|f<<8|c<<16).toString(16).slice(1);b.is(g,"finite")&&(d.opacity=g);return d}return{r:-1,g:-1,b:-1,hex:"none",error:1}},b);b.getColor=function(a){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75},b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1)a.h=0,a.s-=0.2,a.s<=0&&
(this.getColor.start={h:0,s:1,b:a.b});return b.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=g(function(d){if(!d)return null;var c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},f=[];b.is(d,B)&&b.is(d[0],B)&&(f=Ma(d));f[x]||a(d).replace(ua,function(a,b,d){var e=[],a=Z.call(b);d.replace(ya,function(a,b){b&&e[Q](+b)});a=="m"&&e[x]>2&&(f[Q]([b].concat(e.splice(0,2))),a="l",b=b=="m"?"l":"L");for(;e[x]>=c[a];)if(f[Q]([b].concat(e.splice(0,c[a]))),!c[a])break});f[N]=b._path2string;return f});
b.findDotsAtSegment=function(a,b,d,c,f,e,g,h,i){var j=1-i,r=I(j,3)*a+I(j,2)*3*i*d+j*3*i*i*f+I(i,3)*g,j=I(j,3)*b+I(j,2)*3*i*c+j*3*i*i*e+I(i,3)*h,k=a+2*i*(d-a)+i*i*(f-2*d+a),o=b+2*i*(c-b)+i*i*(e-2*c+b),w=d+2*i*(f-d)+i*i*(g-2*f+d),p=c+2*i*(e-c)+i*i*(h-2*e+c),a=(1-i)*a+i*d,b=(1-i)*b+i*c,f=(1-i)*f+i*g,e=(1-i)*e+i*h,h=90-L.atan((k-w)/(o-p))*180/W;(k>w||o<p)&&(h+=180);return{x:r,y:j,m:{x:k,y:o},n:{x:w,y:p},start:{x:a,y:b},end:{x:f,y:e},alpha:h}};var La=g(function(a){if(!a)return{x:0,y:0,width:0,height:0};
for(var a=Ba(a),b=0,d=0,c=[],f=[],e,g=0,h=a[x];g<h;g++)e=a[g],e[0]=="M"?(b=e[1],d=e[2],c[Q](b),f[Q](d)):(b=Aa(b,d,e[1],e[2],e[3],e[4],e[5],e[6]),c=c.concat(b.min.x,b.max.x),f=f.concat(b.min.y,b.max.y),b=e[5],d=e[6]);a=q[D](0,c);e=q[D](0,f);return{x:a,y:e,width:X[D](0,c)-a,height:X[D](0,f)-e}}),Ma=function(a){var d=[];if(!b.is(a,B)||!b.is(a&&a[0],B))a=b.parsePathString(a);for(var c=0,f=a[x];c<f;c++){d[c]=[];for(var e=0,g=a[c][x];e<g;e++)d[c][e]=a[c][e]}d[N]=b._path2string;return d},Na=g(function(a){if(!b.is(a,
B)||!b.is(a&&a[0],B))a=b.parsePathString(a);var d=[],c=0,f=0,e=0,g=0,h=0;a[0][0]=="M"&&(c=a[0][1],f=a[0][2],e=c,g=f,h++,d[Q](["M",c,f]));for(var i=a[x];h<i;h++){var j=d[h]=[],r=a[h];if(r[0]!=Z.call(r[0]))switch(j[0]=Z.call(r[0]),j[0]){case "a":j[1]=r[1];j[2]=r[2];j[3]=r[3];j[4]=r[4];j[5]=r[5];j[6]=+(r[6]-c).toFixed(3);j[7]=+(r[7]-f).toFixed(3);break;case "v":j[1]=+(r[1]-f).toFixed(3);break;case "m":e=r[1],g=r[2];default:for(var k=1,o=r[x];k<o;k++)j[k]=+(r[k]-(k%2?c:f)).toFixed(3)}else{d[h]=[];r[0]==
"m"&&(e=r[1]+c,g=r[2]+f);j=0;for(k=r[x];j<k;j++)d[h][j]=r[j]}r=d[h][x];switch(d[h][0]){case "z":c=e;f=g;break;case "h":c+=+d[h][r-1];break;case "v":f+=+d[h][r-1];break;default:c+=+d[h][r-2],f+=+d[h][r-1]}}d[N]=b._path2string;return d},0,Ma),za=g(function(a){if(!b.is(a,B)||!b.is(a&&a[0],B))a=b.parsePathString(a);var d=[],c=0,f=0,e=0,g=0,h=0;a[0][0]=="M"&&(c=+a[0][1],f=+a[0][2],e=c,g=f,h++,d[0]=["M",c,f]);for(var i=a[x];h<i;h++){var j=d[h]=[],r=a[h];if(r[0]!=qa.call(r[0]))switch(j[0]=qa.call(r[0]),
j[0]){case "A":j[1]=r[1];j[2]=r[2];j[3]=r[3];j[4]=r[4];j[5]=r[5];j[6]=+(r[6]+c);j[7]=+(r[7]+f);break;case "V":j[1]=+r[1]+f;break;case "H":j[1]=+r[1]+c;break;case "M":e=+r[1]+c,g=+r[2]+f;default:for(var k=1,o=r[x];k<o;k++)j[k]=+r[k]+(k%2?c:f)}else{k=0;for(o=r[x];k<o;k++)d[h][k]=r[k]}switch(j[0]){case "Z":c=e;f=g;break;case "H":c=j[1];break;case "V":f=j[1];break;case "M":e=d[h][d[h][x]-2],g=d[h][d[h][x]-1];default:c=d[h][d[h][x]-2],f=d[h][d[h][x]-1]}}d[N]=b._path2string;return d},null,Ma),db=function(a,
b,d,c,f,e){var g=1/3,h=2/3;return[g*a+h*d,g*b+h*c,g*f+h*d,g*e+h*c,f,e]},Ya=function(a,b,d,c,f,e,h,i,j,r){var k=W*120/180,o=W/180*(+f||0),w=[],p,l=g(function(a,b,d){var c=a*L.cos(d)-b*L.sin(d),a=a*L.sin(d)+b*L.cos(d);return{x:c,y:a}});if(r)t=r[0],p=r[1],e=r[2],q=r[3];else{p=l(a,b,-o);a=p.x;b=p.y;p=l(i,j,-o);i=p.x;j=p.y;L.cos(W/180*f);L.sin(W/180*f);p=(a-i)/2;t=(b-j)/2;q=p*p/(d*d)+t*t/(c*c);q>1&&(q=L.sqrt(q),d*=q,c*=q);var q=d*d,u=c*c,q=(e==h?-1:1)*L.sqrt(K((q*u-q*t*t-u*p*p)/(q*t*t+u*p*p))),e=q*d*t/
c+(a+i)/2,q=q*-c*p/d+(b+j)/2,t=L.asin(((b-q)/c).toFixed(9));p=L.asin(((j-q)/c).toFixed(9));t=a<e?W-t:t;p=i<e?W-p:p;t<0&&(t=W*2+t);p<0&&(p=W*2+p);h&&t>p&&(t-=W*2);!h&&p>t&&(p-=W*2)}if(K(p-t)>k){var w=p,u=i,G=j;p=t+k*(h&&p>t?1:-1);i=e+d*L.cos(p);j=q+c*L.sin(p);w=Ya(i,j,d,c,f,0,h,u,G,[p,w,e,q])}e=p-t;f=L.cos(t);k=L.sin(t);h=L.cos(p);p=L.sin(p);e=L.tan(e/4);d=4/3*d*e;e*=4/3*c;c=[a,b];a=[a+d*k,b-e*f];b=[i+d*p,j-e*h];i=[i,j];a[0]=2*c[0]-a[0];a[1]=2*c[1]-a[1];if(r)return[a,b,i].concat(w);else{w=[a,b,i].concat(w)[M]().split(",");
r=[];i=0;for(j=w[x];i<j;i++)r[i]=i%2?l(w[i-1],w[i],o).y:l(w[i],w[i+1],o).x;return r}},Ha=function(a,b,d,c,f,e,g,h,i){var j=1-i;return{x:I(j,3)*a+I(j,2)*3*i*d+j*3*i*i*f+I(i,3)*g,y:I(j,3)*b+I(j,2)*3*i*c+j*3*i*i*e+I(i,3)*h}},Aa=g(function(a,b,d,c,f,e,g,h){var i=f-2*d+a-(g-2*f+d),j=2*(d-a)-2*(f-d),r=a-d,k=(-j+L.sqrt(j*j-4*i*r))/2/i,i=(-j-L.sqrt(j*j-4*i*r))/2/i,o=[b,h],w=[a,g];K(k)>"1e12"&&(k=0.5);K(i)>"1e12"&&(i=0.5);k>0&&k<1&&(k=Ha(a,b,d,c,f,e,g,h,k),w[Q](k.x),o[Q](k.y));i>0&&i<1&&(k=Ha(a,b,d,c,f,e,
g,h,i),w[Q](k.x),o[Q](k.y));i=e-2*c+b-(h-2*e+c);j=2*(c-b)-2*(e-c);r=b-c;k=(-j+L.sqrt(j*j-4*i*r))/2/i;i=(-j-L.sqrt(j*j-4*i*r))/2/i;K(k)>"1e12"&&(k=0.5);K(i)>"1e12"&&(i=0.5);k>0&&k<1&&(k=Ha(a,b,d,c,f,e,g,h,k),w[Q](k.x),o[Q](k.y));i>0&&i<1&&(k=Ha(a,b,d,c,f,e,g,h,i),w[Q](k.x),o[Q](k.y));return{min:{x:q[D](0,w),y:q[D](0,o)},max:{x:X[D](0,w),y:X[D](0,o)}}}),Ba=g(function(a,b){var d=za(a),c=b&&za(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,
b){var d,c;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(Ya[D](0,[b.x,b.y].concat(a.slice(1))));break;case "S":d=b.x+(b.x-(b.bx||b.x));c=b.y+(b.y-(b.by||b.y));a=["C",d,c].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(db(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(db(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=
["C"].concat([b.x,b.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"].concat([b.x,b.y,a[1],b.y,a[1],b.y]);break;case "V":a=["C"].concat([b.x,b.y,b.x,a[1],b.x,a[1]]);break;case "Z":a=["C"].concat([b.x,b.y,b.X,b.Y,b.X,b.Y])}return a},h=function(a,b){if(a[b][x]>7){a[b].shift();for(var f=a[b];f[x];)a.splice(b++,0,["C"].concat(f.splice(0,6)));a.splice(b,1);r=X(d[x],c&&c[x]||0)}},i=function(a,b,f,e,s){if(a&&b&&a[s][0]=="M"&&b[s][0]!="M")b.splice(s,0,["M",e.x,e.y]),f.bx=0,f.by=0,f.x=a[s][1],f.y=a[s][2],r=X(d[x],
c&&c[x]||0)},j=0,r=X(d[x],c&&c[x]||0);for(;j<r;j++){d[j]=g(d[j],f);h(d,j);c&&(c[j]=g(c[j],e));c&&h(c,j);i(d,c,f,e,j);i(c,d,e,f,j);var k=d[j],o=c&&c[j],w=k[x],p=c&&o[x];f.x=k[w-2];f.y=k[w-1];f.bx=R(k[w-4])||f.x;f.by=R(k[w-3])||f.y;e.bx=c&&(R(o[p-4])||e.x);e.by=c&&(R(o[p-3])||e.y);e.x=c&&o[p-2];e.y=c&&o[p-1]}return c?[d,c]:d},null,Ma),Ca=g(function(a){for(var d=[],c=0,f=a[x];c<f;c++){var e={},g=a[c].match(/^([^:]*):?([\d\.]*)/);e.color=b.getRGB(g[1]);if(e.color.error)return null;e.color=e.color.hex;
g[2]&&(e.offset=g[2]+"%");d[Q](e)}for(c=1,f=d[x]-1;c<f;c++)if(!d[c].offset){a=R(d[c-1].offset||0);g=0;for(e=c+1;e<f;e++)if(d[e].offset){g=d[e].offset;break}g||(g=100,e=f);g=R(g);for(g=(g-a)/(e-c+1);c<e;c++)a+=g,d[c].offset=a+"%"}return d}),eb=function(a,d,c,f){if(b.is(a,"string")||b.is(a,"object")){if(a=b.is(a,"string")?z.getElementById(a):a,a.tagName)return d==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:d,height:c}}else return{container:1,
x:a,y:d,width:c,height:f}},Sa=function(a,b){var d=this,c;for(c in b)if(b[u](c)&&!(c in a))switch(typeof b[c]){case "function":(function(b){a[c]=a===d?b:function(){return b[D](d,arguments)}})(b[c]);break;case "object":a[c]=a[c]||{};Sa.call(this,a[c],b[c]);break;default:a[c]=b[c]}},ta=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Ta=function(a,b){if(b.top!==a)ta(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a},fb=
function(a,b){if(b.bottom!==a)ta(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a},gb=function(a,b,d){ta(a,d);b==d.top&&(d.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},hb=function(a,b,d){ta(a,d);b==d.bottom&&(d.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},ib=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};b.pathToRelative=Na;if(b.svg){o.svgns="http://www.w3.org/2000/svg";
o.xlink="http://www.w3.org/1999/xlink";var G=function(a){return+a+(~~a===a)*0.5},J=function(b,d){if(d)for(var c in d)d[u](c)&&b.setAttribute(c,a(d[c]));else return b=z.createElementNS(o.svgns,b),b.style.webkitTapHighlightColor="rgba(0,0,0,0)",b};b[N]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Ua=function(a,b){var d=J("path");b.canvas&&b.canvas.appendChild(d);d=new V(d,b);d.type="path";la(d,{fill:"none",stroke:"#000",path:a});return d},Da=function(b,
d,c){var f="linear",e=0.5,g=0.5,h=b.style,d=a(d).replace(va,function(a,b,d){f="radial";b&&d&&(e=R(b),g=R(d),a=(g>0.5)*2-1,I(e-0.5,2)+I(g-0.5,2)>0.25&&(g=L.sqrt(0.25-I(e-0.5,2))*a+0.5)&&g!=0.5&&(g=g.toFixed(5)-1.0E-5*a));return""}),d=d.split(/\s*\-\s*/);if(f=="linear"){var i=d.shift(),i=-R(i);if(isNaN(i))return null;var i=[0,0,L.cos(i*W/180),L.sin(i*W/180)],j=1/(X(K(i[2]),K(i[3]))||1);i[2]*=j;i[3]*=j;i[2]<0&&(i[0]=-i[2],i[2]=0);i[3]<0&&(i[1]=-i[3],i[3]=0)}d=Ca(d);if(!d)return null;j=b.getAttribute("fill");
(j=j.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(z.getElementById(j[1]));j=J(f+"Gradient");j.id=l();J(j,f=="radial"?{fx:e,fy:g}:{x1:i[0],y1:i[1],x2:i[2],y2:i[3]});c.defs.appendChild(j);c=0;for(i=d[x];c<i;c++){var r=J("stop");J(r,{offset:d[c].offset?d[c].offset:!c?"0%":"100%","stop-color":d[c].color||"#fff"});j.appendChild(r)}J(b,{fill:"url(#"+j.id+")",opacity:1,"fill-opacity":1});h.fill="";h.opacity=1;return h.fillOpacity=1},Va=function(a){var d=a.getBBox();J(a.pattern,{patternTransform:b.format("translate({0},{1})",
d.x,d.y)})},la=function(d,c){var e={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},g=d.node,h=d.attrs,i=d.rotate(),j=function(a,b){if(b=e[Z.call(b)]){for(var d=a.attrs["stroke-width"]||"1",f={round:d,square:d,butt:0}[a.attrs["stroke-linecap"]||c["stroke-linecap"]]||0,s=[],h=b[x];h--;)s[h]=b[h]*d+(h%2?1:-1)*f;J(g,{"stroke-dasharray":s[M](",")})}};c[u]("rotation")&&(i=c.rotation);var r=a(i).split(t);
r.length-1?(r[1]=+r[1],r[2]=+r[2]):r=null;R(i)&&d.rotate(0,true);for(var k in c)if(c[u](k)&&na[u](k)){var o=c[k];h[k]=o;switch(k){case "blur":d.blur(o);break;case "rotation":d.rotate(o,true);break;case "href":case "title":case "target":var w=g.parentNode;if(Z.call(w.tagName)!="a"){var p=J("a");w.insertBefore(p,g);p.appendChild(g);w=p}k=="target"&&o=="blank"?w.setAttributeNS(d.paper.xlink,"show","new"):w.setAttributeNS(d.paper.xlink,k,o);break;case "cursor":g.style.cursor=o;break;case "clip-rect":w=
a(o).split(t);if(w[x]==4){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var q=J("clipPath"),p=J("rect");q.id=l();J(p,{x:w[0],y:w[1],width:w[2],height:w[3]});q.appendChild(p);d.paper.defs.appendChild(q);J(g,{"clip-path":"url(#"+q.id+")"});d.clip=p}o||((o=z.getElementById(g.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&o.parentNode.removeChild(o),J(g,{"clip-path":""}),delete d.clip);break;case "path":if(d.type=="path")J(g,{d:o?h.path=za(o):"M0,0"});break;case "width":if(g.setAttribute(k,
o),h.fx)k="x",o=h.x;else break;case "x":h.fx&&(o=-h.x-(h.width||0));case "rx":if(k=="rx"&&d.type=="rect")break;case "cx":r&&(k=="x"||k=="cx")&&(r[1]+=o-h[k]);g.setAttribute(k,o);d.pattern&&Va(d);break;case "height":if(g.setAttribute(k,o),h.fy)k="y",o=h.y;else break;case "y":h.fy&&(o=-h.y-(h.height||0));case "ry":if(k=="ry"&&d.type=="rect")break;case "cy":r&&(k=="y"||k=="cy")&&(r[2]+=o-h[k]);g.setAttribute(k,o);d.pattern&&Va(d);break;case "r":d.type=="rect"?J(g,{rx:o,ry:o}):g.setAttribute(k,o);break;
case "src":d.type=="image"&&g.setAttributeNS(d.paper.xlink,"href",o);break;case "stroke-width":g.style.strokeWidth=o;g.setAttribute(k,o);h["stroke-dasharray"]&&j(d,h["stroke-dasharray"]);break;case "stroke-dasharray":j(d,o);break;case "translation":o=a(o).split(t);o[0]=+o[0]||0;o[1]=+o[1]||0;r&&(r[1]+=o[0],r[2]+=o[1]);bb.call(d,o[0],o[1]);break;case "scale":o=a(o).split(t);d.scale(+o[0]||1,+o[1]||+o[0]||1,isNaN(R(o[2]))?null:+o[2],isNaN(R(o[3]))?null:+o[3]);break;case "fill":if(w=a(o).match(ja)){var q=
J("pattern"),G=J("image");q.id=l();J(q,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});J(G,{x:0,y:0});G.setAttributeNS(d.paper.xlink,"href",w[1]);q.appendChild(G);o=z.createElement("img");o.style.cssText="position:absolute;left:-9999em;top-9999em";o.onload=function(){J(q,{width:this.offsetWidth,height:this.offsetHeight});J(G,{width:this.offsetWidth,height:this.offsetHeight});z.body.removeChild(this);d.paper.safari()};z.body.appendChild(o);o.src=w[1];d.paper.defs.appendChild(q);g.style.fill=
"url(#"+q.id+")";J(g,{fill:"url(#"+q.id+")"});d.pattern=q;d.pattern&&Va(d);break}w=b.getRGB(o);if(w.error){if(({circle:1,ellipse:1}[u](d.type)||a(o).charAt()!="r")&&Da(g,o,d.paper)){h.gradient=o;h.fill="none";break}}else delete c.gradient,delete h.gradient,!b.is(h.opacity,"undefined")&&b.is(c.opacity,"undefined")&&J(g,{opacity:h.opacity}),!b.is(h["fill-opacity"],"undefined")&&b.is(c["fill-opacity"],"undefined")&&J(g,{"fill-opacity":h["fill-opacity"]});w[u]("opacity")&&J(g,{"fill-opacity":w.opacity>
1?w.opacity/100:w.opacity});case "stroke":w=b.getRGB(o);g.setAttribute(k,w.hex);k=="stroke"&&w[u]("opacity")&&J(g,{"stroke-opacity":w.opacity>1?w.opacity/100:w.opacity});break;case "gradient":(({circle:1,ellipse:1})[u](d.type)||a(o).charAt()!="r")&&Da(g,o,d.paper);break;case "opacity":h.gradient&&!h[u]("stroke-opacity")&&J(g,{"stroke-opacity":o>1?o/100:o});case "fill-opacity":if(h.gradient){if(w=z.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,"")))w=w.getElementsByTagName("stop"),w[w[x]-
1].setAttribute("stop-opacity",o);break}default:k=="font-size"&&(o=ka(o,10)+"px"),w=k.replace(/(\-.)/g,function(a){return qa.call(a.substring(1))}),g.style[w]=o,g.setAttribute(k,o)}}ub(d,c);r?d.rotate(r.join(f)):R(i)&&d.rotate(i,true)},ub=function(d,c){if(!(d.type!="text"||!c[u]("text")&&!c[u]("font")&&!c[u]("font-size")&&!c[u]("x")&&!c[u]("y"))){var f=d.attrs,e=d.node,g=e.firstChild?ka(z.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(c[u]("text")){for(f.text=
c.text;e.firstChild;)e.removeChild(e.firstChild);for(var h=a(c.text).split("\n"),i=0,j=h[x];i<j;i++)if(h[i]){var r=J("tspan");i&&J(r,{dy:g*1.2,x:f.x});r.appendChild(z.createTextNode(h[i]));e.appendChild(r)}}else{h=e.getElementsByTagName("tspan");for(i=0,j=h[x];i<j;i++)i&&J(h[i],{dy:g*1.2,x:f.x})}J(e,{y:f.y});g=d.getBBox();(g=f.y-(g.y+g.height/2))&&b.is(g,"finite")&&J(e,{y:f.y+g})}},V=function(a,d){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=
[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},S=V[c];V[c].rotate=function(d,c,e){if(this.removed)return this;if(d==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][M](f):this._.rt.deg;var g=this.getBBox(),d=a(d).split(t);d[x]-1&&(c=R(d[1]),e=R(d[2]));d=R(d[0]);c!=null&&c!==false?this._.rt.deg=d:this._.rt.deg+=d;e==null&&(c=null);this._.rt.cx=c;this._.rt.cy=e;c=c==null?g.x+g.width/2:
c;e=e==null?g.y+g.height/2:e;this._.rt.deg?(this.transformations[0]=b.format("rotate({0} {1} {2})",this._.rt.deg,c,e),this.clip&&J(this.clip,{transform:b.format("rotate({0} {1} {2})",-this._.rt.deg,c,e)})):(this.transformations[0]="",this.clip&&J(this.clip,{transform:""}));J(this.node,{transform:this.transformations[M](f)});return this};V[c].hide=function(){!this.removed&&(this.node.style.display="none");return this};V[c].show=function(){!this.removed&&(this.node.style.display="");return this};V[c].remove=
function(){if(!this.removed){ta(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};V[c].getBBox=function(){if(this.removed)return this;if(this.type=="path")return La(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=true}var b={};try{b=this.node.getBBox()}catch(d){}finally{b=b||{}}if(this.type=="text")for(var b={x:b.x,y:Infinity,width:0,height:0},c=0,f=this.node.getNumberOfChars();c<f;c++){var e=this.node.getExtentOfChar(c);
e.y<b.y&&(b.y=e.y);e.y+e.height-b.y>b.height&&(b.height=e.y+e.height-b.y);e.x+e.width-b.x>b.width&&(b.width=e.x+e.width-b.x)}a&&this.hide();return b};V[c].attr=function(a,d){if(this.removed)return this;if(a==null){var c={},f;for(f in this.attrs)this.attrs[u](f)&&(c[f]=this.attrs[f]);this._.rt.deg&&(c.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(c.scale=this.scale());c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;return c}if(d==null&&b.is(a,"string"))return a=="translation"?
bb.call(this):a=="rotation"?this.rotate():a=="scale"?this.scale():a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(d==null&&b.is(a,B)){f={};for(var c=0,e=a.length;c<e;c++)f[a[c]]=this.attr(a[c]);return f}d!=null?(c={},c[a]=d):a!=null&&b.is(a,"object")&&(c=a);for(e in this.paper.customAttributes)if(this.paper.customAttributes[u](e)&&c[u](e)&&b.is(this.paper.customAttributes[e],"function")){f=this.paper.customAttributes[e].apply(this,[].concat(c[e]));this.attrs[e]=
c[e];for(var g in f)f[u](g)&&(c[g]=f[g])}la(this,c);return this};V[c].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Ta(this,a);return this};V[c].toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),fb(this,this.paper));return this};V[c].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-
1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);gb(this,a,this.paper);return this};V[c].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);hb(this,a,this.paper);return this};V[c].blur=function(a){if(+a!==0){var b=J("filter"),d=J("feGaussianBlur");this.attrs.blur=a;b.id=l();J(d,{stdDeviation:+a||1.5});b.appendChild(d);this.paper.defs.appendChild(b);this._blur=b;J(this.node,
{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};var Ia=function(a,b,d,c){var f=J("circle");a.canvas&&a.canvas.appendChild(f);a=new V(f,a);a.attrs={cx:b,cy:d,r:c,fill:"none",stroke:"#000"};a.type="circle";J(f,a.attrs);return a},Wa=function(a,b,d,c,f,e){var g=J("rect");a.canvas&&a.canvas.appendChild(g);a=new V(g,a);a.attrs={x:b,y:d,width:c,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",
stroke:"#000"};a.type="rect";J(g,a.attrs);return a},jb=function(a,b,d,c,f){var e=J("ellipse");a.canvas&&a.canvas.appendChild(e);a=new V(e,a);a.attrs={cx:b,cy:d,rx:c,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";J(e,a.attrs);return a},Ea=function(a,b,d,c,f,e){var g=J("image");J(g,{x:d,y:c,width:f,height:e,preserveAspectRatio:"none"});g.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(g);a=new V(g,a);a.attrs={x:d,y:c,width:f,height:e,src:b};a.type="image";return a},kb=function(a,b,
d,c){var f=J("text");J(f,{x:b,y:d,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new V(f,a);a.attrs={x:b,y:d,"text-anchor":"middle",text:c,font:na.font,stroke:"none",fill:"#000"};a.type="text";la(a,a.attrs);return a},Oa=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Pa=function(){var a=eb[D](0,arguments),d=a&&a.container,c=a.x,f=a.y,e=a.width,a=a.height;if(!d)throw Error("SVG container not found.");
var g=J("svg"),c=c||0,f=f||0,e=e||512,a=a||342;J(g,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:e,height:a});d==1?(g.style.cssText="position:absolute;left:"+c+"px;top:"+f+"px",z.body.appendChild(g)):d.firstChild?d.insertBefore(g,d.firstChild):d.appendChild(g);d=new p;d.width=e;d.height=a;d.canvas=g;Sa.call(d,d,b.fn);d.clear();return d};o.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=J("desc")).appendChild(z.createTextNode("Created with Rapha\u00ebl"));
a.appendChild(this.desc);a.appendChild(this.defs=J("defs"))};o.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ib(a)}}if(b.vml){var wa={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},yb=/([clmz]),?([^clmz]*)/gi,Qa=/ progid:\S+Blur\([^\)]+\)/g,vb=/-?[^,\s-]+/g,Fa=1E3+f+1E3,oa={path:1,rect:1},Za=function(b){var d=/[ahqstv]/ig,c=za;a(b).match(d)&&(c=Ba);d=/[clmz]/g;if(c==za&&!a(b).match(d))return b=a(b).replace(yb,function(a,b,d){var c=
[],f=Z.call(b)=="m",e=wa[b];d.replace(vb,function(a){f&&c[x]==2&&(e+=c+wa[b=="m"?"l":"L"],c=[]);c[Q](G(a*10))});return e+c});for(var d=c(b),e,b=[],g=0,h=d[x];g<h;g++){c=d[g];e=Z.call(d[g][0]);e=="z"&&(e="x");for(var i=1,j=c[x];i<j;i++)e+=G(c[i]*10)+(i!=j-1?",":"");b[Q](e)}return b[M](f)};b[N]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};Ua=function(a,b){var d=ba("group");d.style.cssText="position:absolute;left:0;top:0;width:"+
b.width+"px;height:"+b.height+"px";d.coordsize=b.coordsize;d.coordorigin=b.coordorigin;var c=ba("shape"),f=c.style;f.width=b.width+"px";f.height=b.height+"px";c.coordsize=Fa;c.coordorigin=b.coordorigin;d.appendChild(c);c=new V(c,d,b);f={fill:"none",stroke:"#000"};a&&(f.path=a);c.type="path";c.path=[];c.Path="";la(c,f);b.canvas.appendChild(d);return c};la=function(d,c){d.attrs=d.attrs||{};var f=d.node,e=d.attrs,g=f.style,h;h=(c.x!=e.x||c.y!=e.y||c.width!=e.width||c.height!=e.height||c.r!=e.r)&&d.type==
"rect";for(var i in c)c[u](i)&&(e[i]=c[i]);if(h)e.path=lb(e.x,e.y,e.width,e.height,e.r),d.X=e.x,d.Y=e.y,d.W=e.width,d.H=e.height;c.href&&(f.href=c.href);c.title&&(f.title=c.title);c.target&&(f.target=c.target);c.cursor&&(g.cursor=c.cursor);"blur"in c&&d.blur(c.blur);if(c.path&&d.type=="path"||h)f.path=Za(e.path);c.rotation!=null&&d.rotate(c.rotation,true);c.translation&&(h=a(c.translation).split(t),bb.call(d,h[0],h[1]),d._.rt.cx!=null&&(d._.rt.cx+=+h[0],d._.rt.cy+=+h[1],d.setBox(d.attrs,h[0],h[1])));
c.scale&&(h=a(c.scale).split(t),d.scale(+h[0]||1,+h[1]||+h[0]||1,+h[2]||null,+h[3]||null));if("clip-rect"in c){h=a(c["clip-rect"]).split(t);if(h[x]==4){h[2]=+h[2]+ +h[0];h[3]=+h[3]+ +h[1];i=f.clipRect||z.createElement("div");var j=i.style,r=f.parentNode;j.clip=b.format("rect({1}px {2}px {3}px {0}px)",h);if(!f.clipRect)j.position="absolute",j.top=0,j.left=0,j.width=d.paper.width+"px",j.height=d.paper.height+"px",r.parentNode.insertBefore(i,r),i.appendChild(r),f.clipRect=i}if(!c["clip-rect"])f.clipRect&&
(f.clipRect.style.clip="")}if(d.type=="image"&&c.src)f.src=c.src;if(d.type=="image"&&c.opacity)f.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+c.opacity*100+")",g.filter=(f.filterMatrix||"")+(f.filterOpacity||"");c.font&&(g.font=c.font);c["font-family"]&&(g.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');c["font-size"]&&(g.fontSize=c["font-size"]);c["font-weight"]&&(g.fontWeight=c["font-weight"]);c["font-style"]&&(g.fontStyle=c["font-style"]);if(c.opacity!=
null||c["stroke-width"]!=null||c.fill!=null||c.stroke!=null||c["stroke-width"]!=null||c["stroke-opacity"]!=null||c["fill-opacity"]!=null||c["stroke-dasharray"]!=null||c["stroke-miterlimit"]!=null||c["stroke-linejoin"]!=null||c["stroke-linecap"]!=null){f=d.shape||f;h=f.getElementsByTagName("fill")&&f.getElementsByTagName("fill")[0];i=false;!h&&(i=h=ba("fill"));if("fill-opacity"in c||"opacity"in c)g=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+b.getRGB(c.fill).o+1||2)-1),g=q(X(g,0),1),h.opacity=
g;c.fill&&(h.on=true);if(h.on==null||c.fill=="none")h.on=false;if(h.on&&c.fill)if(g=c.fill.match(ja))h.src=g[1],h.type="tile";else if(h.color=b.getRGB(c.fill).hex,h.src="",h.type="solid",b.getRGB(c.fill).error&&(d.type in{circle:1,ellipse:1}||a(c.fill).charAt()!="r")&&Da(d,c.fill))e.fill="none",e.gradient=c.fill;i&&f.appendChild(h);h=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0];i=false;!h&&(i=h=ba("stroke"));if(c.stroke&&c.stroke!="none"||c["stroke-width"]||c["stroke-opacity"]!=
null||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])h.on=true;(c.stroke=="none"||h.on==null||c.stroke==0||c["stroke-width"]==0)&&(h.on=false);g=b.getRGB(c.stroke);h.on&&c.stroke&&(h.color=g.hex);g=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+g.o+1||2)-1);j=(R(c["stroke-width"])||1)*0.75;g=q(X(g,0),1);c["stroke-width"]==null&&(j=e["stroke-width"]);c["stroke-width"]&&(h.weight=j);j&&j<1&&(g*=j)&&(h.weight=1);h.opacity=g;c["stroke-linejoin"]&&(h.joinstyle=
c["stroke-linejoin"]||"miter");h.miterlimit=c["stroke-miterlimit"]||8;c["stroke-linecap"]&&(h.endcap=c["stroke-linecap"]=="butt"?"flat":c["stroke-linecap"]=="square"?"square":"round");if(c["stroke-dasharray"])g={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},h.dashstyle=g[u](c["stroke-dasharray"])?g[c["stroke-dasharray"]]:"";i&&f.appendChild(h)}if(d.type=="text")switch(g=
d.paper.span.style,e.font&&(g.font=e.font),e["font-family"]&&(g.fontFamily=e["font-family"]),e["font-size"]&&(g.fontSize=e["font-size"]),e["font-weight"]&&(g.fontWeight=e["font-weight"]),e["font-style"]&&(g.fontStyle=e["font-style"]),d.node.string&&(d.paper.span.innerHTML=a(d.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),d.W=e.w=d.paper.span.offsetWidth,d.H=e.h=d.paper.span.offsetHeight,d.X=e.x,d.Y=e.y+G(d.H/2),e["text-anchor"]){case "start":d.node.style["v-text-align"]=
"left";d.bbx=G(d.W/2);break;case "end":d.node.style["v-text-align"]="right";d.bbx=-G(d.W/2);break;default:d.node.style["v-text-align"]="center"}};Da=function(b,d){b.attrs=b.attrs||{};var c,e="linear",g=".5 .5";b.attrs.gradient=d;d=a(d).replace(va,function(a,b,d){e="radial";b&&d&&(b=R(b),d=R(d),I(b-0.5,2)+I(d-0.5,2)>0.25&&(d=L.sqrt(0.25-I(b-0.5,2))*((d>0.5)*2-1)+0.5),g=b+f+d);return""});d=d.split(/\s*\-\s*/);if(e=="linear"){var h=d.shift(),h=-R(h);if(isNaN(h))return null}var i=Ca(d);if(!i)return null;
b=b.shape||b.node;c=b.getElementsByTagName("fill")[0]||ba("fill");!c.parentNode&&b.appendChild(c);if(i[x]){c.on=true;c.method="none";c.color=i[0].color;c.color2=i[i[x]-1].color;for(var j=[],r=0,k=i[x];r<k;r++)i[r].offset&&j[Q](i[r].offset+f+i[r].color);c.colors&&(c.colors.value=j[x]?j[M]():"0% "+c.color);e=="radial"?(c.type="gradientradial",c.focus="100%",c.focussize=g,c.focusposition=g):(c.type="gradient",c.angle=(270-h)%360)}return 1};V=function(a,d,c){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=
this;this.Y=this.X=0;this.attrs={};this.Group=d;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null};S=V[c];S.rotate=function(b,d,c){if(this.removed)return this;if(b==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][M](f):this._.rt.deg;b=a(b).split(t);b[x]-1&&(d=R(b[1]),c=R(b[2]));b=R(b[0]);d!=null?this._.rt.deg=b:this._.rt.deg+=b;c==null&&(d=null);this._.rt.cx=d;this._.rt.cy=c;this.setBox(this.attrs,
d,c);this.Group.style.rotation=this._.rt.deg;return this};S.setBox=function(a,b,d){if(this.removed)return this;var c=this.Group.style,f=this.shape&&this.shape.style||this.node.style,a=a||{},e;for(e in a)a[u](e)&&(this.attrs[e]=a[e]);var b=b||this._.rt.cx,d=d||this._.rt.cy,g=this.attrs,h;switch(this.type){case "circle":a=g.cx-g.r;e=g.cy-g.r;h=g=g.r*2;break;case "ellipse":a=g.cx-g.rx;e=g.cy-g.ry;h=g.rx*2;g=g.ry*2;break;case "image":a=+g.x;e=+g.y;h=g.width||0;g=g.height||0;break;case "text":this.textpath.v=
["m",G(g.x),", ",G(g.y-2),"l",G(g.x)+1,", ",G(g.y-2)][M]("");a=g.x-G(this.W/2);e=g.y-this.H/2;h=this.W;g=this.H;break;case "rect":case "path":this.attrs.path?(g=La(this.attrs.path),a=g.x,e=g.y,h=g.width,g=g.height):(e=a=0,h=this.paper.width,g=this.paper.height);break;default:e=a=0,h=this.paper.width,g=this.paper.height}var b=(b==null?a+h/2:b)-this.paper.width/2,d=(d==null?e+g/2:d)-this.paper.height/2,i;c.left!=(i=b+"px")&&(c.left=i);c.top!=(i=d+"px")&&(c.top=i);this.X=oa[u](this.type)?-b:a;this.Y=
oa[u](this.type)?-d:e;this.W=h;this.H=g;oa[u](this.type)?(f.left!=(i=-b*10+"px")&&(f.left=i),f.top!=(i=-d*10+"px")&&(f.top=i)):this.type=="text"?(f.left!=(i=-b+"px")&&(f.left=i),f.top!=(i=-d+"px")&&(f.top=i)):(c.width!=(i=this.paper.width+"px")&&(c.width=i),c.height!=(i=this.paper.height+"px")&&(c.height=i),f.left!=(i=a-b+"px")&&(f.left=i),f.top!=(i=e-d+"px")&&(f.top=i),f.width!=(i=h+"px")&&(f.width=i),f.height!=(i=g+"px")&&(f.height=i))};S.hide=function(){!this.removed&&(this.Group.style.display=
"none");return this};S.show=function(){!this.removed&&(this.Group.style.display="block");return this};S.getBBox=function(){return this.removed?this:oa[u](this.type)?La(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};S.remove=function(){if(!this.removed){ta(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};
S.attr=function(d,c){if(this.removed)return this;if(d==null){var f={},e;for(e in this.attrs)this.attrs[u](e)&&(f[e]=this.attrs[e]);this._.rt.deg&&(f.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(f.scale=this.scale());f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient;return f}if(c==null&&b.is(d,"string"))return d=="translation"?bb.call(this):d=="rotation"?this.rotate():d=="scale"?this.scale():d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[d];
if(this.attrs&&c==null&&b.is(d,B)){var g={};for(e=0,f=d[x];e<f;e++)g[d[e]]=this.attr(d[e]);return g}c!=null&&(f={},f[d]=c);c==null&&b.is(d,"object")&&(f=d);if(f){for(g in this.paper.customAttributes)if(this.paper.customAttributes[u](g)&&f[u](g)&&b.is(this.paper.customAttributes[g],"function")){e=this.paper.customAttributes[g].apply(this,[].concat(f[g]));this.attrs[g]=f[g];for(var h in e)e[u](h)&&(f[h]=e[h])}if(f.text&&this.type=="text")this.node.string=f.text;la(this,f);f.gradient&&({circle:1,ellipse:1}[u](this.type)||
a(f.gradient).charAt()!="r")&&Da(this,f.gradient);(!oa[u](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};S.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Ta(this,this.paper);return this};S.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),fb(this,this.paper));return this};S.insertAfter=function(a){if(this.removed)return this;
a.constructor==ha&&(a=a[a.length-1]);a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);gb(this,a,this.paper);return this};S.insertBefore=function(a){if(this.removed)return this;a.constructor==ha&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);hb(this,a,this.paper);return this};S.blur=function(a){var d=this.node.runtimeStyle,c=d.filter,c=c.replace(Qa,"");+a!==0?(this.attrs.blur=a,d.filter=c+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+
(+a||1.5)+")",d.margin=b.format("-{0}px 0 0 -{0}px",G(+a||1.5))):(d.filter=c,d.margin=0,delete this.attrs.blur)};var Ia=function(a,b,d,c){var f=ba("group"),e=ba("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=Fa;f.coordorigin=a.coordorigin;f.appendChild(e);e=new V(e,f,a);e.type="circle";la(e,{stroke:"#000",fill:"none"});e.attrs.cx=b;e.attrs.cy=d;e.attrs.r=c;e.setBox({x:b-c,y:d-c,width:c*2,height:c*2});a.canvas.appendChild(f);return e},
lb=function(a,d,c,f,e){return e?b.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+e,d,c-e*2,e,-e,f-e*2,e*2-c,e*2-f):b.format("M{0},{1}l{2},0,0,{3},{4},0z",a,d,c,f,-c)},Wa=function(a,b,d,c,f,e){var g=lb(b,d,c,f,e),a=a.path(g),h=a.attrs;a.X=h.x=b;a.Y=h.y=d;a.W=h.width=c;a.H=h.height=f;h.r=e;h.path=g;a.type="rect";return a},jb=function(a,b,d,c,f){var e=ba("group"),g=ba("oval");e.style.cssText="position:absolute;left:0;top:0;width:"+
a.width+"px;height:"+a.height+"px";e.coordsize=Fa;e.coordorigin=a.coordorigin;e.appendChild(g);g=new V(g,e,a);g.type="ellipse";la(g,{stroke:"#000"});g.attrs.cx=b;g.attrs.cy=d;g.attrs.rx=c;g.attrs.ry=f;g.setBox({x:b-c,y:d-f,width:c*2,height:f*2});a.canvas.appendChild(e);return g},Ea=function(a,b,d,c,f,e){var g=ba("group"),h=ba("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=Fa;g.coordorigin=a.coordorigin;h.src=b;g.appendChild(h);h=new V(h,
g,a);h.type="image";h.attrs.src=b;h.attrs.x=d;h.attrs.y=c;h.attrs.w=f;h.attrs.h=e;h.setBox({x:d,y:c,width:f,height:e});a.canvas.appendChild(g);return h},kb=function(d,c,f,e){var g=ba("group"),h=ba("shape"),i=h.style,j=ba("path"),r=ba("textpath");g.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";g.coordsize=Fa;g.coordorigin=d.coordorigin;j.v=b.format("m{0},{1}l{2},{1}",G(c*10),G(f*10),G(c*10)+1);j.textpathok=true;i.width=d.width;i.height=d.height;r.string=a(e);
r.on=true;h.appendChild(r);h.appendChild(j);g.appendChild(h);i=new V(r,g,d);i.shape=h;i.textpath=j;i.type="text";i.attrs.text=e;i.attrs.x=c;i.attrs.y=f;i.attrs.w=1;i.attrs.h=1;la(i,{font:na.font,stroke:"none",fill:"#000"});i.setBox();d.canvas.appendChild(g);return i},Oa=function(a,b){var d=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");d.width=a;d.height=b;d.clip="rect(0 "+a+" "+b+" 0)";return this},ba;z.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!z.namespaces.rvml&&
z.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),ba=function(a){return z.createElement("<rvml:"+a+' class="rvml">')}}catch(d){ba=function(a){return z.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Pa=function(){var a=eb[D](0,arguments),d=a.container,c=a.height,e=a.width,g=a.x,a=a.y;if(!d)throw Error("VML container not found.");var h=new p,i=h.canvas=z.createElement("div"),j=i.style,g=g||0,a=a||0,e=e||512,c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");h.width=1E3;
h.height=1E3;h.coordsize=1E4+f+1E4;h.coordorigin="0 0";h.span=z.createElement("span");h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";i.appendChild(h.span);j.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);d==1?(z.body.appendChild(i),j.left=g+"px",j.top=a+"px",j.position="absolute"):d.firstChild?d.insertBefore(i,d.firstChild):d.appendChild(i);Sa.call(h,
h,b.fn);return h};o.clear=function(){this.canvas.innerHTML="";this.span=z.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};o.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ib(a);return true}}var j=navigator.userAgent.match(/Version\/(.*?)\s/);o.safari=navigator.vendor=="Apple Computer, Inc."&&(j&&j[1]<
4||navigator.platform.slice(0,2)=="iP")?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});A.setTimeout(function(){a.remove()})}:function(){};for(var zb=function(){this.returnValue=false},Ab=function(){return this.originalEvent.preventDefault()},Bb=function(){this.cancelBubble=true},Cb=function(){return this.originalEvent.stopPropagation()},Db=function(){if(z.addEventListener)return function(a,b,d,c){var f=C&&Y[b]?Y[b]:b,e=function(f){if(C&&Y[u](b))for(var e=0,
g=f.targetTouches&&f.targetTouches.length;e<g;e++)if(f.targetTouches[e].target==a){g=f;f=f.targetTouches[e];f.originalEvent=g;f.preventDefault=Ab;f.stopPropagation=Cb;break}return d.call(c,f)};a.addEventListener(f,e,false);return function(){a.removeEventListener(f,e,false);return true}};else if(z.attachEvent)return function(a,b,d,c){var f=function(a){a=a||A.event;a.preventDefault=a.preventDefault||zb;a.stopPropagation=a.stopPropagation||Bb;return d.call(c,a)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+
b,f);return true}}}(),fa=[],mb=function(a){for(var b=a.clientX,d=a.clientY,c=z.documentElement.scrollTop||z.body.scrollTop,f=z.documentElement.scrollLeft||z.body.scrollLeft,e,g=fa.length;g--;){e=fa[g];if(C)for(var h=a.touches.length,i;h--;){if(i=a.touches[h],i.identifier==e.el._drag.id){b=i.clientX;d=i.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=f;d+=c;e.move&&e.move.call(e.move_scope||e.el,b-e.el._drag.x,d-e.el._drag.y,b,d,a)}},nb=function(a){b.unmousemove(mb).unmouseup(nb);
for(var d=fa.length,c;d--;)c=fa[d],c.el._drag={},c.end&&c.end.call(c.end_scope||c.start_scope||c.move_scope||c.el,a);fa=[]},wb=P[x];wb--;)(function(a){b[a]=V[c][a]=function(d,c){if(b.is(d,"function"))this.events=this.events||[],this.events.push({name:a,f:d,unbind:Db(this.shape||this.node||z,a,d,c||this)});return this};b["un"+a]=V[c]["un"+a]=function(b){for(var d=this.events,c=d[x];c--;)if(d[c].name==a&&d[c].f==b){d[c].unbind();d.splice(c,1);!d.length&&delete this.events;break}return this}})(P[wb]);
S.hover=function(a,b,d,c){return this.mouseover(a,d).mouseout(b,c||d)};S.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};S.drag=function(a,d,c,f,e,g){this._drag={};this.mousedown(function(h){(h.originalEvent||h).preventDefault();var i=z.documentElement.scrollTop||z.body.scrollTop,j=z.documentElement.scrollLeft||z.body.scrollLeft;this._drag.x=h.clientX+j;this._drag.y=h.clientY+i;this._drag.id=h.identifier;d&&d.call(e||f||this,h.clientX+j,h.clientY+i,h);!fa.length&&b.mousemove(mb).mouseup(nb);
fa.push({el:this,move:a,end:c,move_scope:f,start_scope:e,end_scope:g})});return this};S.undrag=function(a,d,c){for(d=fa.length;d--;)fa[d].el==this&&fa[d].move==a&&fa[d].end==c&&fa.splice(d++,1);!fa.length&&b.unmousemove(mb).unmouseup(nb)};o.circle=function(a,b,d){return Ia(this,a||0,b||0,d||0)};o.rect=function(a,b,d,c,f){return Wa(this,a||0,b||0,d||0,c||0,f||0)};o.ellipse=function(a,b,d,c){return jb(this,a||0,b||0,d||0,c||0)};o.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],B)&&(a+="");return Ua(b.format[D](b,
arguments),this)};o.image=function(a,b,d,c,f){return Ea(this,a||"about:blank",b||0,d||0,c||0,f||0)};o.text=function(b,d,c){return kb(this,b||0,d||0,a(c))};o.set=function(a){arguments[x]>1&&(a=Array[c].splice.call(arguments,0,arguments[x]));return new ha(a)};o.setSize=Oa;o.top=o.bottom=null;o.raphael=b;S.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};S.scale=function(a,b,d,c){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,
toString:i};b=b||a;!+b&&(b=a);var e,g,h=this.attrs;if(a!=0){var j=this.getBBox(),r=j.x+j.width/2,k=j.y+j.height/2;e=K(a/this._.sx);g=K(b/this._.sy);var d=+d||d==0?d:r,c=+c||c==0?c:k,o=this._.sx>0,w=this._.sy>0,j=~~(a/K(a)),p=~~(b/K(b)),q=e*j,l=g*p,t=this.node.style,r=d+K(r-d)*q*(r>d==o?1:-1),k=c+K(k-c)*l*(k>c==w?1:-1),u=a*j>b*p?g:e;switch(this.type){case "rect":case "image":var G=h.width*e,v=h.height*g;this.attr({height:v,r:h.r*u,width:G,x:r-G/2,y:k-v/2});break;case "circle":case "ellipse":this.attr({rx:h.rx*
e,ry:h.ry*g,r:h.r*u,cx:r,cy:k});break;case "text":this.attr({x:r,y:k});break;case "path":for(var u=Na(h.path),A=true,o=o?q:e,w=w?l:g,l=0,q=u[x];l<q;l++){var U=u[l],D=qa.call(U[0]);if(!(D=="M"&&A))if(A=false,D=="A")U[u[l][x]-2]*=o,U[u[l][x]-1]*=w,U[1]*=e,U[2]*=g,U[5]=+(j+p?!!+U[5]:!+U[5]);else if(D=="H")for(var D=1,E=U[x];D<E;D++)U[D]*=o;else if(D=="V")for(D=1,E=U[x];D<E;D++)U[D]*=w;else for(D=1,E=U[x];D<E;D++)U[D]*=D%2?o:w}g=La(u);e=r-g.x-g.width/2;g=k-g.y-g.height/2;u[0][1]+=e;u[0][2]+=g;this.attr({path:u})}this.type in
{text:1,image:1}&&(j!=1||p!=1)?this.transformations?(this.transformations[2]="scale(".concat(j,",",p,")"),this.node.setAttribute("transform",this.transformations[M](f)),e=j==-1?-h.x-(G||0):h.x,g=p==-1?-h.y-(v||0):h.y,this.attr({x:e,y:g}),h.fx=j-1,h.fy=p-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(j,", M12=0, M21=0, M22=",p,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),t.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):
this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations[M](f)),h.fx=0,h.fy=0):(this.node.filterMatrix="",t.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||""));h.scale=[a,b,d,c][M](f);this._.sx=a;this._.sy=b}return this};S.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var ob={},Xa=function(a,d,c,f,e,g,h,i,j){var r=0,k=100,o=[a,d,c,f,e,g,h,i].join(),
w=ob[o],p,q;!w&&(ob[o]=w={data:[]});w.timer&&clearTimeout(w.timer);w.timer=setTimeout(function(){delete ob[o]},2E3);j!=null&&(k=~~Xa(a,d,c,f,e,g,h,i)*10);for(var l=0;l<k+1;l++){w.data[j]>l?q=w.data[l*k]:(q=b.findDotsAtSegment(a,d,c,f,e,g,h,i,l/k),w.data[l]=q);l&&(r+=I(I(p.x-q.x,2)+I(p.y-q.y,2),0.5));if(j!=null&&r>=j)return q;p=q}if(j==null)return r},pb=function(a,d){return function(c,f,e){for(var c=Ba(c),g,h,i,j,r="",k={},o=0,w=0,p=c.length;w<p;w++){i=c[w];if(i[0]=="M")g=+i[1],h=+i[2];else{j=Xa(g,
h,i[1],i[2],i[3],i[4],i[5],i[6]);if(o+j>f){if(d&&!k.start){g=Xa(g,h,i[1],i[2],i[3],i[4],i[5],i[6],f-o);r+=["C",g.start.x,g.start.y,g.m.x,g.m.y,g.x,g.y];if(e)return r;k.start=r;r=["M",g.x,g.y+"C",g.n.x,g.n.y,g.end.x,g.end.y,i[5],i[6]][M]();o+=j;g=+i[5];h=+i[6];continue}if(!a&&!d)return g=Xa(g,h,i[1],i[2],i[3],i[4],i[5],i[6],f-o),{x:g.x,y:g.y,alpha:g.alpha}}o+=j;g=+i[5];h=+i[6]}r+=i}k.end=r;g=a?o:d?k:b.findDotsAtSegment(g,h,i[1],i[2],i[3],i[4],i[5],i[6],1);g.alpha&&(g={x:g.x,y:g.y,alpha:g.alpha});return g}},
xb=pb(1),$a=pb(),qb=pb(0,1);S.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():xb(this.attrs.path)};S.getPointAtLength=function(a){return this.type!="path"?void 0:$a(this.attrs.path,a)};S.getSubpath=function(a,b){if(this.type=="path"){if(K(this.getTotalLength()-b)<"1e-6")return qb(this.attrs.path,a).end;var d=qb(this.attrs.path,b,1);return a?qb(d,a).end:d}};b.easing_formulas={linear:function(a){return a},"<":function(a){return I(a,3)},">":function(a){return I(a-
1,3)+1},"<>":function(a){a*=2;if(a<1)return I(a,3)/2;a-=2;return(I(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==0||a==1?a:I(2,-10*a)*L.sin((a-0.075)*2*W/0.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+0.9375):(a-=2.625/2.75,a=7.5625*a*a+0.984375);return a}};var ga=[],ab=function(){for(var a=+new Date,d=0;d<ga[x];d++){var c=
ga[d];if(!c.stop&&!c.el.removed){var e=a-c.start,g=c.ms,h=c.easing,i=c.from,j=c.diff,r=c.to,k=c.t,o=c.el,c={},w;if(e<g){var e=h(e/g),p;for(p in i)if(i[u](p)){switch(Ga[p]){case "along":w=e*g*j[p];r.back&&(w=r.len-w);h=$a(r[p],w);o.translate(j.sx-j.x||0,j.sy-j.y||0);j.x=h.x;j.y=h.y;o.translate(h.x-j.sx,h.y-j.sy);r.rot&&o.rotate(j.r+h.alpha,h.x,h.y);break;case T:w=+i[p]+e*g*j[p];break;case "colour":w="rgb("+[rb(G(i[p].r+e*g*j[p].r)),rb(G(i[p].g+e*g*j[p].g)),rb(G(i[p].b+e*g*j[p].b))][M](",")+")";break;
case "path":w=[];for(var h=0,q=i[p][x];h<q;h++){w[h]=[i[p][h][0]];for(var l=1,t=i[p][h][x];l<t;l++)w[h][l]=+i[p][h][l]+e*g*j[p][h][l];w[h]=w[h][M](f)}w=w[M](f);break;case "csv":switch(p){case "translation":w=e*g*j[p][0]-k.x;h=e*g*j[p][1]-k.y;k.x+=w;k.y+=h;w=w+f+h;break;case "rotation":w=+i[p][0]+e*g*j[p][0];i[p][1]&&(w+=","+i[p][1]+","+i[p][2]);break;case "scale":w=[+i[p][0]+e*g*j[p][0],+i[p][1]+e*g*j[p][1],2 in r[p]?r[p][2]:"",3 in r[p]?r[p][3]:""][M](f);break;case "clip-rect":w=[];for(h=4;h--;)w[h]=
+i[p][h]+e*g*j[p][h]}break;default:q=[].concat(i[p]);w=[];for(h=o.paper.customAttributes[p].length;h--;)w[h]=+q[h]+e*g*j[p][h]}c[p]=w}o.attr(c);o._run&&o._run.call(o)}else r.along&&(h=$a(r.along,r.len*!r.back),o.translate(j.sx-(j.x||0)+h.x-j.sx,j.sy-(j.y||0)+h.y-j.sy),r.rot&&o.rotate(j.r+h.alpha,h.x,h.y)),(k.x||k.y)&&o.translate(-k.x,-k.y),r.scale&&(r.scale+=""),o.attr(r),ga.splice(d--,1)}}b.svg&&o&&o.paper&&o.paper.safari();ga[x]&&setTimeout(ab)},Eb=function(a,d,c,f,e){var g=c-f;d.timeouts.push(setTimeout(function(){b.is(e,
"function")&&e.call(d);d.animate(a,g,a.easing)},f))},rb=function(a){return X(q(a,255),0)},bb=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:i};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case "path":var d=Na(this.attrs.path);d[0][1]+=+a;d[0][2]+=+b;this.attr({path:d})}return this};S.animateWith=function(a,
b,d,c,f){for(var e=0,g=ga.length;e<g;e++)if(ga[e].el.id==a.id)b.start=ga[e].start;return this.animate(b,d,c,f)};S.animateAlong=k();S.animateAlongBack=k(1);S.onAnimation=function(a){this._run=a||0;return this};S.animate=function(d,c,f,e){var g=this;g.timeouts=g.timeouts||[];if(b.is(f,"function")||!f)e=f||null;if(g.removed)return e&&e.call(g),g;var i={},j={},r=false,k={},o;for(o in d)if(d[u](o)&&(Ga[u](o)||g.paper.customAttributes[u](o)))switch(r=true,i[o]=g.attr(o),i[o]==null&&(i[o]=na[o]),j[o]=d[o],
Ga[o]){case "along":var p=xb(d[o]),q=$a(d[o],p*!!d.back),l=g.getBBox();k[o]=p/c;k.tx=l.x;k.ty=l.y;k.sx=q.x;k.sy=q.y;j.rot=d.rot;j.back=d.back;j.len=p;d.rot&&(k.r=R(g.rotate())||0);break;case T:k[o]=(j[o]-i[o])/c;break;case "colour":i[o]=b.getRGB(i[o]);p=b.getRGB(j[o]);k[o]={r:(p.r-i[o].r)/c,g:(p.g-i[o].g)/c,b:(p.b-i[o].b)/c};break;case "path":p=Ba(i[o],j[o]);i[o]=p[0];l=p[1];k[o]=[];p=0;for(q=i[o][x];p<q;p++){k[o][p]=[0];for(var G=1,v=i[o][p][x];G<v;G++)k[o][p][G]=(l[p][G]-i[o][p][G])/c}break;case "csv":q=
a(d[o]).split(t);l=a(i[o]).split(t);switch(o){case "translation":i[o]=[0,0];k[o]=[q[0]/c,q[1]/c];break;case "rotation":i[o]=l[1]==q[1]&&l[2]==q[2]?l:[0,q[1],q[2]];k[o]=[(q[0]-i[o][0])/c,0,0];break;case "scale":d[o]=q;i[o]=a(i[o]).split(t);k[o]=[(q[0]-i[o][0])/c,(q[1]-i[o][1])/c,0,0];break;case "clip-rect":i[o]=a(i[o]).split(t);k[o]=[];for(p=4;p--;)k[o][p]=(q[p]-i[o][p])/c}j[o]=q;break;default:q=[].concat(d[o]);l=[].concat(i[o]);k[o]=[];for(p=g.paper.customAttributes[o][x];p--;)k[o][p]=((q[p]||0)-
(l[p]||0))/c}if(r){o=b.easing_formulas[f];if(!o)if((o=a(f).match(w))&&o[x]==5){var U=o;o=function(a){return h(a,+U[1],+U[2],+U[3],+U[4],c)}}else o=function(a){return a};ga.push({start:d.start||+new Date,ms:c,easing:o,from:i,diff:k,to:j,el:g,t:{x:0,y:0}});b.is(e,"function")&&(g._ac=setTimeout(function(){e.call(g)},c));ga[x]==1&&setTimeout(ab)}else{var f=[],A,D;for(D in d)if(d[u](D)&&xa.test(D))o={value:d[D]},D=="from"&&(D=0),D=="to"&&(D=100),o.key=ka(D,10),f.push(o);f.sort(Ka);f[0].key&&f.unshift({key:0,
value:g.attrs});for(p=0,q=f[x];p<q;p++)Eb(f[p].value,g,c/100*f[p].key,c/100*(f[p-1]&&f[p-1].key||0),f[p-1]&&f[p-1].value.callback);(A=f[f[x]-1].value.callback)&&g.timeouts.push(setTimeout(function(){A.call(g)},c))}return this};S.stop=function(){for(var a=0;a<ga.length;a++)ga[a].el.id==this.id&&ga.splice(a--,1);for(a=0,ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};S.translate=function(a,b){return this.attr({translation:a+
" "+b})};S[N]=function(){return"Rapha\u00ebl\u2019s object"};b.ae=ga;var ha=function(a){this.items=[];this[x]=0;this.type="set";if(a)for(var b=0,d=a[x];b<d;b++)if(a[b]&&(a[b].constructor==V||a[b].constructor==ha))this[this.items[x]]=this.items[this.items[x]]=a[b],this[x]++};ha[c][Q]=function(){for(var a,b,d=0,c=arguments[x];d<c;d++)if((a=arguments[d])&&(a.constructor==V||a.constructor==ha))b=this.items[x],this[b]=this.items[b]=a,this[x]++;return this};ha[c].pop=function(){delete this[this[x]--];return this.items.pop()};
for(var sb in S)S[u](sb)&&(ha[c][sb]=function(a){return function(){for(var b=0,d=this.items[x];b<d;b++)this.items[b][a][D](this.items[b],arguments);return this}}(sb));ha[c].attr=function(a,d){if(a&&b.is(a,B)&&b.is(a[0],"object"))for(var c=0,f=a[x];c<f;c++)this.items[c].attr(a[c]);else{c=0;for(f=this.items[x];c<f;c++)this.items[c].attr(a,d)}return this};ha[c].animate=function(a,d,c,f){(b.is(c,"function")||!c)&&(f=c||null);var e=this.items[x],g=e,h,i=this,j;f&&(j=function(){!--e&&f.call(i)});c=b.is(c,
"string")?c:j;for(h=this.items[--g].animate(a,d,c,j);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,a,d,c,j);return this};ha[c].insertAfter=function(a){for(var b=this.items[x];b--;)this.items[b].insertAfter(a);return this};ha[c].getBBox=function(){for(var a=[],b=[],d=[],c=[],f=this.items[x];f--;){var e=this.items[f].getBBox();a[Q](e.x);b[Q](e.y);d[Q](e.x+e.width);c[Q](e.y+e.height)}a=q[D](0,a);b=q[D](0,b);return{x:a,y:b,width:X[D](0,d)-a,height:X[D](0,c)-b}};ha[c].clone=function(a){for(var a=
new ha,b=0,d=this.items[x];b<d;b++)a[Q](this.items[b].clone());return a};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},d=a.face["font-family"],c;for(c in a.face)a.face[u](c)&&(b.face[c]=a.face[c]);if(this.fonts[d])this.fonts[d][Q](b);else this.fonts[d]=[b];if(!a.svg){b.face["units-per-em"]=ka(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs[u](f)&&(d=a.glyphs[f],b.glyphs[f]={w:d.w,k:{},d:d.d&&"M"+d.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",
c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},d.k))for(var e in d.k)d[u](e)&&(b.glyphs[f].k[e]=d.k[e])}return a};o.getFont=function(a,d,c,f){f=f||"normal";c=c||"normal";d=+d||{normal:400,bold:700,lighter:300,bolder:800}[d]||400;if(b.fonts){var e=b.fonts[a];if(!e){var a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i"),g;for(g in b.fonts)if(b.fonts[u](g)&&a.test(g)){e=b.fonts[g];break}}var h;if(e){g=0;for(a=e[x];g<a;g++)if(h=e[g],h.face["font-weight"]==d&&(h.face["font-style"]==c||
!h.face["font-style"])&&h.face["font-stretch"]==f)break}return h}};o.print=function(d,c,f,e,g,h,i){var h=h||"middle",i=X(q(i||0,1),-1),j=this.set(),r=a(f).split(""),o=0;b.is(e,f)&&(e=this.getFont(e));if(e){for(var f=(g||16)/e.face["units-per-em"],k=e.face.bbox.split(t),g=+k[0],h=+k[1]+(h=="baseline"?k[3]-k[1]+ +e.face.descent:(k[3]-k[1])/2),k=0,w=r[x];k<w;k++){var p=k&&e.glyphs[r[k-1]]||{},l=e.glyphs[r[k]];o+=k?(p.w||e.w)+(p.k&&p.k[r[k]]||0)+e.w*i:0;l&&l.d&&j[Q](this.path(l.d).attr({fill:"#000",stroke:"none",
translation:[o,0]}))}j.scale(f,f,g,h).translate(d-g,c-h)}return j};b.format=function(a,d){var c=b.is(d,B)?[0].concat(d):arguments;a&&b.is(a,"string")&&c[x]-1&&(a=a.replace(e,function(a,b){return c[++b]==null?"":c[b]}));return a||""};b.ninja=function(){E?A.Raphael=F:delete Raphael;return b};b.el=S;b.st=ha[c];E?A.Raphael=b:Raphael=b})();
(function(){if(Raphael.vml){var b=/ progid:\S+Blur\([^\)]+\)/g;Raphael.el.blur=function(g){var i=this.node.style,k=i.filter,k=k.replace(b,"");g!="none"?(i.filter=k+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+g||1.5)+")",i.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+g||1.5))):(i.filter=k,i.margin=0)}}else{var l=function(b,i){if(i)for(var k in i)i.hasOwnProperty(k)&&b.setAttribute(k,i[k]);else return doc.createElementNS("http://www.w3.org/2000/svg",b)};Raphael.el.blur=function(b){if(b!=
"none"){var i=l("filter"),k=l("feGaussianBlur");i.id="r"+(Raphael.idGenerator++).toString(36);l(k,{stdDeviation:+b||1.5});i.appendChild(k);this.paper.defs.appendChild(i);this._blur=i;l(this.node,{filter:"url(#"+i.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur),this.node.removeAttribute("filter")}}})();
Raphael.fn.star=function(b,l,g,i,k){for(var i=i||g*0.382,k=k||5,h=["M",b,l+i,"L"],t,v=1;v<k*2;v++)t=v%2?g:i,h=h.concat([b+t*Math.sin(v*Math.PI/k),l+t*Math.cos(v*Math.PI/k)]);h.push("z");return this.path(h.join())};Raphael.fn.flower=function(b,l,g,i,k){for(var i=i||g*0.5,k=+k<3||!k?5:k,h=["M",b,l+i,"Q"],t,v=1;v<k*2+1;v++)t=v%2?g:i,h=h.concat([+(b+t*Math.sin(v*Math.PI/k)).toFixed(3),+(l+t*Math.cos(v*Math.PI/k)).toFixed(3)]);h.push("z");return this.path(h)};
Raphael.fn.spike=function(b,l,g,i,k){for(var i=i||g*0.5,k=+k<3||!k?5:k,h=["M",b,l-g,"Q"],t,v=1;v<k*2+1;v++)t=v%2?i:g,h=h.concat([b+t*Math.sin(v*Math.PI/k-Math.PI),l+t*Math.cos(v*Math.PI/k-Math.PI)]);h.push("z");return this.path(h)};Raphael.fn.polyline=function(){for(var b="M".concat(arguments[0]||0,",",arguments[1]||0,"L"),l=2,g=arguments.length-1;l<g;l++)b+=arguments[l]+","+arguments[++l];arguments[g].toLowerCase()=="z"&&(b+="z");return this.path(b)};
Raphael.fn.polygon=function(b,l,g,i){for(var i=+i<3||!i?5:i,k=["M",b,l-g,"L"],h=1;h<i;h++)k=k.concat([b+g*Math.sin(h*Math.PI*2/i-Math.PI),l+g*Math.cos(h*Math.PI*2/i-Math.PI)]);k.push("z");return this.path(k)};Raphael.fn.line=function(b,l,g,i){return this.path(["M",b,l,"L",g,i])};
Raphael.fn.drawGrid=function(b,l,g,i,k,h,t){for(var t=t||"#000",v=["M",b,l,"L",b+g,l,b+g,l+i,b,l+i,b,l],e=i/h,c=g/k,u=1;u<h;u++)v=v.concat(["M",b,l+u*e,"L",b+g,l+u*e]);for(u=1;u<k;u++)v=v.concat(["M",b+u*c,l,"L",b+u*c,l+i]);return this.path(v.join(",")).attr({stroke:t})};Raphael.fn.square=function(b,l,g){g*=0.7;return this.rect(b-g,l-g,2*g,2*g)};Raphael.fn.triangle=function(b,l,g){g*=1.75;return this.path("M".concat(b,",",l,"m0-",g*0.58,"l",g*0.5,",",g*0.87,"-",g,",0z"))};
Raphael.fn.diamond=function(b,l,g){return this.path(["M",b,l-g,"l",g,g,-g,g,-g,-g,g,-g,"z"])};Raphael.fn.cross=function(b,l,g){g/=2.5;return this.path("M".concat(b-g,",",l,"l",[-g,-g,g,-g,g,g,g,-g,g,g,-g,g,g,g,-g,g,-g,-g,-g,g,-g,-g,"z"]))};Raphael.fn.plus=function(b,l,g){g/=2;return this.path("M".concat(b-g/2,",",l-g/2,"l",[0,-g,g,0,0,g,g,0,0,g,-g,0,0,g,-g,0,0,-g,-g,0,0,-g,"z"]))};
Raphael.fn.arrow=function(b,l,g){return this.path("M".concat(b-g*0.7,",",l-g*0.4,"l",[g*0.6,0,0,-g*0.4,g,g*0.8,-g,g*0.8,0,-g*0.4,-g*0.6,0],"z"))};
(function(b){b.fn.drag=function(g,h,i){var l=typeof g=="string"?g:"",e=b.isFunction(g)?g:b.isFunction(h)?h:null;l.indexOf("drag")!==0&&(l="drag"+l);i=(g==e?h:i)||{};return e?this.bind(l,i,e):this.trigger(l)};var l=b.event,g=l.special,i=g.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:false,drop:true,click:false},datakey:"dragdata",livekey:"livedrag",add:function(g){var h=b.data(this,i.datakey),t=g.data||{};h.related+=1;if(!h.live&&g.selector)h.live=true,l.add(this,"draginit."+
i.livekey,i.delegate);b.each(i.defaults,function(b){t[b]!==void 0&&(h[b]=t[b])})},remove:function(){b.data(this,i.datakey).related-=1},setup:function(){if(!b.data(this,i.datakey)){var g=b.extend({related:0},i.defaults);b.data(this,i.datakey,g);l.add(this,"mousedown",i.init,g);this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){b.data(this,i.datakey).related||(b.removeData(this,i.datakey),l.remove(this,"mousedown",i.init),l.remove(this,"draginit",i.delegate),i.textselect(true),
this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(k){var h=k.data,t;if(!(h.which>0&&k.which!=h.which)&&!b(k.target).is(h.not)&&(!h.handle||b(k.target).closest(h.handle,k.currentTarget).length))if(h.propagates=1,h.interactions=[i.interaction(this,h)],h.target=k.target,h.pageX=k.pageX,h.pageY=k.pageY,h.dragging=null,t=i.hijack(k,"draginit",h),h.propagates){if((t=i.flatten(t))&&t.length)h.interactions=[],b.each(t,function(){h.interactions.push(i.interaction(this,h))});h.propagates=
h.interactions.length;h.drop!==false&&g.drop&&g.drop.handler(k,h);i.textselect(false);l.add(document,"mousemove mouseup",i.handler,h);return false}},interaction:function(g,h){return{drag:g,callback:new i.callback,droppable:[],offset:b(g)[h.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(b){var h=b.data;switch(b.type){case !h.dragging&&"mousemove":if(Math.pow(b.pageX-h.pageX,2)+Math.pow(b.pageY-h.pageY,2)<Math.pow(h.distance,2))break;b.target=h.target;i.hijack(b,"dragstart",h);if(h.propagates)h.dragging=
true;case "mousemove":if(h.dragging){i.hijack(b,"drag",h);if(h.propagates){h.drop!==false&&g.drop&&g.drop.handler(b,h);break}b.type="mouseup"}case "mouseup":if(l.remove(document,"mousemove mouseup",i.handler),h.dragging&&(h.drop!==false&&g.drop&&g.drop.handler(b,h),i.hijack(b,"dragend",h)),i.textselect(true),h.click===false&&h.dragging)jQuery.event.triggered=true,setTimeout(function(){jQuery.event.triggered=false},20),h.dragging=false}},delegate:function(g){var h=[],t,v=b.data(this,"events")||{};
b.each(v.live||[],function(e,c){if(c.preType.indexOf("drag")===0&&(t=b(g.target).closest(c.selector,g.currentTarget)[0]))l.add(t,c.origType+"."+i.livekey,c.origHandler,c.data),b.inArray(t,h)<0&&h.push(t)});return!h.length?false:b(h).bind("dragend."+i.livekey,function(){l.remove(this,"."+i.livekey)})},hijack:function(g,h,t,v,e){if(t){var c=g.originalEvent,u=g.type,z=h.indexOf("drop")?"drag":"drop",A,E=v||0,F,p,v=!isNaN(v)?v:t.interactions.length;g.type=h;g.originalEvent=null;t.results=[];do if((F=
t.interactions[E])&&!(h!=="dragend"&&F.cancelled)){p=i.properties(g,t,F);F.results=[];b(e||F[z]||t.droppable).each(function(c,e){A=(p.target=e)?l.handle.call(e,g,p):null;if(A===false){if(z=="drag")F.cancelled=true,t.propagates-=1;h=="drop"&&(F[z][c]=null)}else h=="dropinit"&&F.droppable.push(i.element(A)||e);if(h=="dragstart")F.proxy=b(i.element(A)||F.drag)[0];F.results.push(A);delete g.result;if(h!=="dropinit")return A});t.results[E]=i.flatten(F.results);if(h=="dropinit")F.droppable=i.flatten(F.droppable);
h=="dragstart"&&!F.cancelled&&p.update()}while(++E<v);g.type=u;g.originalEvent=c;return i.flatten(t.results)}},properties:function(b,g,l){var v=l.callback;v.drag=l.drag;v.proxy=l.proxy||l.drag;v.startX=g.pageX;v.startY=g.pageY;v.deltaX=b.pageX-g.pageX;v.deltaY=b.pageY-g.pageY;v.originalX=l.offset.left;v.originalY=l.offset.top;v.offsetX=b.pageX-(g.pageX-v.originalX);v.offsetY=b.pageY-(g.pageY-v.originalY);v.drop=i.flatten((l.drop||[]).slice());v.available=i.flatten((l.droppable||[]).slice());return v},
element:function(b){if(b&&(b.jquery||b.nodeType==1))return b},flatten:function(g){return b.map(g,function(g){return g&&g.jquery?b.makeArray(g):g&&g.length?i.flatten(g):g})},textselect:function(g){b(document)[g?"unbind":"bind"]("selectstart",i.dontstart).attr("unselectable",g?"off":"on").css("MozUserSelect",g?"":"none")},dontstart:function(){return false},callback:function(){}};i.callback.prototype={update:function(){g.drop&&this.available.length&&b.each(this.available,function(b){g.drop.locate(this,
b)})}};g.draginit=g.dragstart=g.dragend=i})(jQuery);
(function(b){b.fn.drop=function(g,h,i){var l=typeof g=="string"?g:"",e=b.isFunction(g)?g:b.isFunction(h)?h:null;l.indexOf("drop")!==0&&(l="drop"+l);i=(g==e?h:i)||{};return e?this.bind(l,i,e):this.trigger(l)};b.drop=function(g){g=g||{};i.multi=g.multi===true?Infinity:g.multi===false?1:!isNaN(g.multi)?g.multi:i.multi;i.delay=g.delay||i.delay;i.tolerance=b.isFunction(g.tolerance)?g.tolerance:g.tolerance===null?null:i.tolerance;i.mode=g.mode||i.mode||"intersect"};var l=b.event,g=l.special,i=b.event.special.drop=
{multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",livekey:"livedrop",add:function(g){var h=b.data(this,i.datakey);h.related+=1;if(!h.live&&g.selector)h.live=true,l.add(this,"dropinit."+i.livekey,i.delegate)},remove:function(){b.data(this,i.datakey).related-=1},setup:function(){b.data(this,i.datakey)||(b.data(this,i.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),i.targets.push(this))},teardown:function(){if(!b.data(this,i.datakey).related){b.removeData(this,i.datakey);
l.remove(this,"dropinit",i.delegate);var g=this;i.targets=b.grep(i.targets,function(b){return b!==g})}},handler:function(k,h){var t;if(h)switch(k.type){case "mousedown":t=b(i.targets);typeof h.drop=="string"&&(t=t.filter(h.drop));t.each(function(){var g=b.data(this,i.datakey);g.active=[];g.anyactive=0;g.winner=0});h.droppable=t;i.delegates=[];g.drag.hijack(k,"dropinit",h);i.delegates=b.unique(g.drag.flatten(i.delegates));break;case "mousemove":i.event=k;i.timer||i.tolerate(h);break;case "mouseup":i.timer=
clearTimeout(i.timer),h.propagates&&(g.drag.hijack(k,"drop",h),g.drag.hijack(k,"dropend",h),b.each(i.delegates||[],function(){l.remove(this,"."+i.livekey)}))}},delegate:function(g){var h=[],t,v=b.data(this,"events")||{};b.each(v.live||[],function(e,c){c.preType.indexOf("drop")===0&&(t=b(g.currentTarget).find(c.selector),t.length&&t.each(function(){l.add(this,c.origType+"."+i.livekey,c.origHandler,c.data);b.inArray(this,h)<0&&h.push(this)}))});i.delegates.push(h);return h.length?b(h):false},locate:function(g,
h){var l=b.data(g,i.datakey),v=b(g),e=v.offset()||{},c=v.outerHeight(),v=v.outerWidth(),e={elem:g,width:v,height:c,top:e.top,left:e.left,right:e.left+v,bottom:e.top+c};if(l)l.location=e,l.index=h,l.elem=g;return e},contains:function(b,g){return(g[0]||g.left)>=b.left&&(g[0]||g.right)<=b.right&&(g[1]||g.top)>=b.top&&(g[1]||g.bottom)<=b.bottom},modes:{intersect:function(b,g,i){return this.contains(i,[b.pageX,b.pageY])?1E9:this.modes.overlap.apply(this,arguments)},overlap:function(b,g,i){return Math.max(0,
Math.min(i.bottom,g.bottom)-Math.max(i.top,g.top))*Math.max(0,Math.min(i.right,g.right)-Math.max(i.left,g.left))},fit:function(b,g,i){return this.contains(i,g)?1:0},middle:function(b,g,i){return this.contains(i,[g.left+g.width*0.5,g.top+g.height*0.5])?1:0}},sort:function(b,g){return g.winner-b.winner||b.index-g.index},tolerate:function(k){var h,l,v,e,c,u,z=0,A,E=k.interactions.length,F=[i.event.pageX,i.event.pageY],p=i.tolerance||i.modes[i.mode];do if(A=k.interactions[z]){if(!A)return;A.drop=[];c=
[];u=A.droppable.length;p&&(v=i.locate(A.proxy));h=0;do if(l=A.droppable[h])if(e=b.data(l,i.datakey),l=e.location)e.winner=p?p.call(i,i.event,v,l):i.contains(l,F)?1:0,c.push(e);while(++h<u);c.sort(i.sort);h=0;do if(e=c[h])if(e.winner&&A.drop.length<i.multi){if(!e.active[z]&&!e.anyactive)g.drag.hijack(i.event,"dropstart",k,z,e.elem)[0]!==false?(e.active[z]=1,e.anyactive+=1):e.winner=0;e.winner&&A.drop.push(e.elem)}else e.active[z]&&e.anyactive==1&&(g.drag.hijack(i.event,"dropend",k,z,e.elem),e.active[z]=
0,e.anyactive-=1);while(++h<u)}while(++z<E);i.last&&F[0]==i.last.pageX&&F[1]==i.last.pageY?delete i.timer:i.timer=setTimeout(function(){i.tolerate(k)},i.delay);i.last=i.event}};g.dropinit=g.dropstart=g.dropend=i})(jQuery);
(function(b,l){function g(b,c){return b===null?c==="null":b===void 0?c==="undefined":b.is&&b instanceof h?c==="element":Object.prototype.toString.call(b).toLowerCase().indexOf(c)>7}function i(b){var h,k,p,o,l,u,f,a;if(b instanceof i)return b;g(b,"array")||(b=String(b).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g));for(h=0,k=b.length;h<k;++h){g(b[h],"array")||(b[h]=String(b[h]).match(/(?:\+\/|[^\/])+/g));for(u=[],p=b[h].length;p--;){f=b[h][p];l={jwertyCombo:String(f),shiftKey:false,ctrlKey:false,
altKey:false,metaKey:false};g(f,"array")||(f=String(f).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g));for(o=f.length;o--;)f[o]==="++"&&(f[o]="+"),f[o]in c.mods?l[e[c.mods[f[o]]]]=true:f[o]in c.keys?l.keyCode=c.keys[f[o]]:a=f[o].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(g(l.keyCode,"undefined"))if(a&&a[1]in c.keys&&a[2]in c.keys){a[2]=c.keys[a[2]];a[1]=c.keys[a[1]];for(o=a[1];o<a[2];++o)u.push({altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,keyCode:o,jwertyCombo:String(f)});
l.keyCode=o}else l.keyCode=0;u.push(l)}this[h]=u}this.length=h;return this}var k=b.document,h=b.jQuery||b.Zepto||b.ender||k,t,v;h===k?(t=function(b,c){return b?h.querySelector(b,c||h):h},v=function(b,c){b.addEventListener("keydown",c,false)},$f=function(b,c){var e=document.createEvent("Event"),g;e.initEvent("keydown",true,true);for(g in c)e[g]=c[g];return(b||h).dispatchEvent(e)}):(t=function(b,c){return h(b||k,c)},v=function(b,c){h(b).bind("keydown.jwerty",c)},$f=function(b,c){h(b||k).trigger(h.Event("keydown",
c))});var e={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},c={mods:{"\u21e7":16,shift:16,"\u2303":17,ctrl:17,"\u2325":18,alt:18,option:18,"\u2318":91,meta:91,cmd:91,"super":91,win:91},keys:{"\u232b":8,backspace:8,"\u21e5":9,"\u21c6":9,tab:9,"\u21a9":13,"return":13,enter:13,"\u2305":13,pause:19,"pause-break":19,"\u21ea":20,caps:20,"caps-lock":20,"\u238b":27,escape:27,esc:27,space:32,"\u2196":33,pgup:33,"page-up":33,"\u2198":34,pgdown:34,"page-down":34,"\u21df":35,end:35,"\u21de":36,home:36,
ins:45,insert:45,del:45,"delete":45,"\u2190":37,left:37,"arrow-left":37,"\u2191":38,up:38,"arrow-up":38,"\u2192":39,right:39,"arrow-right":39,"\u2193":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,
apostraphe:222}};for(u=95,n=0;++u<106;)c.keys["num-"+n]=u,++n;for(u=47,n=0;++u<58;)c.keys[n]=u,++n;for(u=111,n=1;++u<136;)c.keys["f"+n]=u,++n;for(var u=64;++u<91;)c.keys[String.fromCharCode(u).toLowerCase()]=u;var z=l.jwerty={event:function(b,c,e){if(g(c,"boolean"))var h=c,c=function(){return h};var b=new i(b),o=0,k=b.length-1,l,f;return function(a){(f=z.is(b,a,o))?o<k?++o:(l=c.call(e||this,a,f),l===false&&a.preventDefault(),o=0):o=z.is(b,a)?1:0}},is:function(b,c,e){for(var b=new i(b),b=b[e||0],c=
c.originalEvent||c,e=b.length,g=false;e--;){var g=b[e].jwertyCombo,h;for(h in b[e])h!=="jwertyCombo"&&c[h]!==b[e][h]&&(g=false);if(g!==false)break}return g},key:function(c,e,h,i,o){var k=g(h,"element")||g(h,"string")?h:i,l=k===h?b:h,h=k===h?i:o;v(g(k,"element")?k:t(k,h),z.event(c,e,l))},fire:function(b,c,e,h){b=new i(b);h=g(e,"number")?e:h;$f(g(c,"element")?c:t(c,e),b[h||0][0])},KEYS:c}})(this,typeof module!=="undefined"&&module.exports?module.exports:this);
(function(b){var l=null,g=b.fn.css;b.fn.css=function(i,k){l===null&&(l=typeof b.cssProps!="undefined"?b.cssProps:typeof b.props!="undefined"?b.props:{});if(typeof l.transform=="undefined"&&(i=="transform"||typeof i=="object"&&typeof i.transform!="undefined")){var h=l,t;a:{t=this.get(0);for(var v=["transform","WebkitTransform","msTransform","MozTransform","OTransform"],e;e=v.shift();)if(typeof t.style[e]!="undefined"){t=e;break a}t="transform"}h.transform=t}if(l.transform!="transform")if(i=="transform"){if(i=
l.transform,typeof k=="undefined"&&jQuery.style)return jQuery.style(this.get(0),i)}else if(typeof i=="object"&&typeof i.transform!="undefined")i[l.transform]=i.transform,delete i.transform;return g.apply(this,arguments)}})(jQuery);
window.rangy=function(){function b(a,b){var f=typeof a[b];return f==c||!!(f==e&&a[b])||f=="unknown"}function l(a,b){return!!(typeof a[b]==e&&a[b])}function g(a,b){return typeof a[b]!=u}function i(a){return function(b,c){for(var f=c.length;f--;)if(!a(b,c[f]))return false;return true}}function k(a){return a&&p(a,F)&&D(a,E)}function h(a){window.alert("Rangy not supported in your browser. Reason: "+a);C.initialized=true;C.supported=false}function t(){if(!C.initialized){var c,e=false,g=false;b(document,
"createRange")&&(c=document.createRange(),p(c,A)&&D(c,z)&&(e=true),c.detach());if((c=l(document,"body")?document.body:document.getElementsByTagName("body")[0])&&b(c,"createTextRange"))c=c.createTextRange(),k(c)&&(g=true);!e&&!g&&h("Neither Range nor TextRange are implemented");C.initialized=true;C.features={implementsDomRange:e,implementsTextRange:g};e=a.concat(f);g=0;for(c=e.length;g<c;++g)try{e[g](C)}catch(i){l(window,"console")&&b(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",
i)}}}function v(a){this.name=a;this.supported=this.initialized=false}var e="object",c="function",u="undefined",z="startContainer,startOffset,endContainer,endOffset,collapsed,commonAncestorContainer,START_TO_START,START_TO_END,END_TO_START,END_TO_END".split(","),A="setStart,setStartBefore,setStartAfter,setEnd,setEndBefore,setEndAfter,collapse,selectNode,selectNodeContents,compareBoundaryPoints,deleteContents,extractContents,cloneContents,insertNode,surroundContents,cloneRange,toString,detach".split(","),
E="boundingHeight,boundingLeft,boundingTop,boundingWidth,htmlText,text".split(","),F="collapse,compareEndPoints,duplicate,getBookmark,moveToBookmark,moveToElementText,parentElement,pasteHTML,select,setEndPoint,getBoundingClientRect".split(","),p=i(b),o=i(l),D=i(g),C={version:"1.2.2",initialized:false,supported:true,util:{isHostMethod:b,isHostObject:l,isHostProperty:g,areHostMethods:p,areHostObjects:o,areHostProperties:D,isTextRange:k},features:{},modules:{},config:{alertOnWarn:false,preferTextRange:false}};
C.fail=h;C.warn=function(a){a="Rangy warning: "+a;C.config.alertOnWarn?window.alert(a):typeof window.console!=u&&typeof window.console.log!=u&&window.console.log(a)};({}).hasOwnProperty?C.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:h("hasOwnProperty not supported");var f=[],a=[];C.init=t;C.addInitListener=function(a){C.initialized?a(C):f.push(a)};var P=[];C.addCreateMissingNativeApiListener=function(a){P.push(a)};C.createMissingNativeApi=function(a){a=a||window;t();
for(var b=0,c=P.length;b<c;++b)P[b](a)};v.prototype.fail=function(a){this.initialized=true;this.supported=false;throw Error("Module '"+this.name+"' failed to load: "+a);};v.prototype.warn=function(a){C.warn("Module "+this.name+": "+a)};v.prototype.createError=function(a){return Error("Error in Rangy "+this.name+" module: "+a)};C.createModule=function(b,c){var f=new v(b);C.modules[b]=f;a.push(function(a){c(a,f);f.initialized=true;f.supported=true})};C.requireModules=function(a){for(var b=0,c=a.length,
f,e;b<c;++b){e=a[b];f=C.modules[e];if(!f||!(f instanceof v))throw Error("Module '"+e+"' not found");if(!f.supported)throw Error("Module '"+e+"' not supported");}};var Y=false,o=function(){Y||(Y=true,C.initialized||t())};if(typeof window==u)h("No window found");else if(typeof document==u)h("No document found");else return b(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",o,false),b(window,"addEventListener")?window.addEventListener("load",o,false):b(window,"attachEvent")?
window.attachEvent("onload",o):h("Window does not have required addEventListener or attachEvent method"),C}();
rangy.createModule("DomUtil",function(b,l){function g(b){for(var c=0;b=b.previousSibling;)c++;return c}function i(b,c){var e=[],f;for(f=b;f;f=f.parentNode)e.push(f);for(f=c;f;f=f.parentNode)if(p(e,f))return f;return null}function k(b,c,e){for(e=e?b:b.parentNode;e;){b=e.parentNode;if(b===c)return e;e=b}return null}function h(b){b=b.nodeType;return b==3||b==4||b==8}function t(b,c){var e=c.nextSibling,f=c.parentNode;e?f.insertBefore(b,e):f.appendChild(b);return b}function v(b){if(b.nodeType==9)return b;
else if(typeof b.ownerDocument!=A)return b.ownerDocument;else if(typeof b.document!=A)return b.document;else if(b.parentNode)return v(b.parentNode);else throw Error("getDocument: no document found for node");}function e(b){return!b?"[No node]":h(b)?'"'+b.data+'"':b.nodeType==1?"<"+b.nodeName+(b.id?' id="'+b.id+'"':"")+">["+b.childNodes.length+"]":b.nodeName}function c(b){this._next=this.root=b}function u(b,c){this.node=b;this.offset=c}function z(b){this.code=this[b];this.codeName=b;this.message="DOMException: "+
this.codeName}var A="undefined",E=b.util;E.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||l.fail("document missing a Node creation method");E.isHostMethod(document,"getElementsByTagName")||l.fail("document missing getElementsByTagName method");var F=document.createElement("div");E.areHostMethods(F,["insertBefore","appendChild","cloneNode"])||l.fail("Incomplete Element implementation");E.isHostProperty(F,"innerHTML")||l.fail("Element is missing innerHTML property");
F=document.createTextNode("test");E.areHostMethods(F,["splitText","deleteData","insertData","appendData","cloneNode"])||l.fail("Incomplete Text Node implementation");var p=function(b,c){for(var e=b.length;e--;)if(b[e]===c)return true;return false};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var b=this._current=this._next,c;if(this._current){c=b.firstChild;if(!c)for(c=null;b!==this.root&&!(c=b.nextSibling);)b=b.parentNode;this._next=c}return this._current},detach:function(){this._current=
this._next=this.root=null}};u.prototype={equals:function(b){return this.node===b.node&this.offset==b.offset},inspect:function(){return"[DomPosition("+e(this.node)+":"+this.offset+")]"}};z.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};z.prototype.toString=function(){return this.message};b.dom={arrayContains:p,isHtmlNamespace:function(b){var c;return typeof b.namespaceURI==A||(c=b.namespaceURI)===
null||c=="http://www.w3.org/1999/xhtml"},parentElement:function(b){b=b.parentNode;return b.nodeType==1?b:null},getNodeIndex:g,getNodeLength:function(b){var c;return h(b)?b.length:(c=b.childNodes)?c.length:0},getCommonAncestor:i,isAncestorOf:function(b,c,e){for(c=e?c:c.parentNode;c;)if(c===b)return true;else c=c.parentNode;return false},getClosestAncestorIn:k,isCharacterDataNode:h,insertAfter:t,splitDataNode:function(b,c){var e=b.cloneNode(false);e.deleteData(0,c);b.deleteData(c,b.length-c);t(e,b);
return e},getDocument:v,getWindow:function(b){b=v(b);if(typeof b.defaultView!=A)return b.defaultView;else if(typeof b.parentWindow!=A)return b.parentWindow;else throw Error("Cannot get a window object for node");},getIframeWindow:function(b){if(typeof b.contentWindow!=A)return b.contentWindow;else if(typeof b.contentDocument!=A)return b.contentDocument.defaultView;else throw Error("getIframeWindow: No Window object found for iframe element");},getIframeDocument:function(b){if(typeof b.contentDocument!=
A)return b.contentDocument;else if(typeof b.contentWindow!=A)return b.contentWindow.document;else throw Error("getIframeWindow: No Document object found for iframe element");},getBody:function(b){return E.isHostObject(b,"body")?b.body:b.getElementsByTagName("body")[0]},getRootContainer:function(b){for(var c;c=b.parentNode;)b=c;return b},comparePoints:function(b,c,e,f){var a;if(b==e)return c===f?0:c<f?-1:1;else if(a=k(e,b,true))return c<=g(a)?-1:1;else if(a=k(b,e,true))return g(a)<f?-1:1;else if(c=
i(b,e),b=b===c?c:k(b,c,true),e=e===c?c:k(e,c,true),b===e)throw Error("comparePoints got to case 4 and childA and childB are the same!");else{for(c=c.firstChild;c;){if(c===b)return-1;else if(c===e)return 1;c=c.nextSibling}throw Error("Should not be here!");}},inspectNode:e,fragmentFromNodeChildren:function(b){for(var c=v(b).createDocumentFragment(),e;e=b.firstChild;)c.appendChild(e);return c},createIterator:function(b){return new c(b)},DomPosition:u};b.DOMException=z});
rangy.createModule("DomRange",function(b){function l(a,b){return a.nodeType!=3&&(B.isAncestorOf(a,b.startContainer,true)||B.isAncestorOf(a,b.endContainer,true))}function g(a){return B.getDocument(a.startContainer)}function i(a,b,c){if(b=a._listeners[b])for(var e=0,f=b.length;e<f;++e)b[e].call(a,{target:a,args:c})}function k(a){return new N(a.parentNode,B.getNodeIndex(a))}function h(a){return new N(a.parentNode,B.getNodeIndex(a)+1)}function t(a,b,c){var e=a.nodeType==11?a.firstChild:a;B.isCharacterDataNode(b)?
c==b.length?B.insertAfter(a,b):b.parentNode.insertBefore(a,c==0?b:B.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]);return e}function v(a){for(var b,c,e=g(a.range).createDocumentFragment();c=a.next();){b=a.isPartiallySelectedSubtree();c=c.cloneNode(!b);b&&(b=a.getSubtreeIterator(),c.appendChild(v(b)),b.detach(true));if(c.nodeType==10)throw new aa("HIERARCHY_REQUEST_ERR");e.appendChild(c)}return e}function e(a,b,c){for(var f,g,c=c||{stop:false};f=a.next();)if(a.isPartiallySelectedSubtree())if(b(f)===
false){c.stop=true;break}else{if(f=a.getSubtreeIterator(),e(f,b,c),f.detach(true),c.stop)break}else for(f=B.createIterator(f);g=f.next();)if(b(g)===false){c.stop=true;return}}function c(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),c(b),b.detach(true)):a.remove()}function u(a){for(var b,c=g(a.range).createDocumentFragment(),e;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(false),e=a.getSubtreeIterator(),b.appendChild(u(e)),e.detach(true)):a.remove();if(b.nodeType==
10)throw new aa("HIERARCHY_REQUEST_ERR");c.appendChild(b)}return c}function z(a,b,c){var f=!(!b||!b.length),g,h=!!c;f&&(g=RegExp("^("+b.join("|")+")$"));var i=[];e(new E(a,false),function(a){(!f||g.test(a.nodeType))&&(!h||c(a))&&i.push(a)});return i}function A(a){return"["+(typeof a.getName=="undefined"?"Range":a.getName())+"("+B.inspectNode(a.startContainer)+":"+a.startOffset+", "+B.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function E(a,b){this.range=a;this.clonePartiallySelectedTextNodes=
b;if(!a.collapsed){this.sc=a.startContainer;this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&B.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=true,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===c&&!B.isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:B.getClosestAncestorIn(this.sc,c,true),this._last=this.ec===c&&!B.isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:B.getClosestAncestorIn(this.ec,
c,true))}}function F(a){this.code=this[a];this.codeName=a;this.message="RangeException: "+this.codeName}function p(a,b,c){this.nodes=z(a,b,c);this._next=this.nodes[0];this._position=0}function o(a){return function(b,c){for(var e,f=c?b:b.parentNode;f;){e=f.nodeType;if(B.arrayContains(a,e))return f;f=f.parentNode}return null}}function D(a,b){if(ka(a,b))throw new F("INVALID_NODE_TYPE_ERR");}function C(a){if(!a.startContainer)throw new aa("INVALID_STATE_ERR");}function f(a,b){if(!B.arrayContains(b,a.nodeType))throw new F("INVALID_NODE_TYPE_ERR");
}function a(a,b){if(b<0||b>(B.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new aa("INDEX_SIZE_ERR");}function P(a,b){if(G(a,true)!==G(b,true))throw new aa("WRONG_DOCUMENT_ERR");}function Y(a){if(R(a,true))throw new aa("NO_MODIFICATION_ALLOWED_ERR");}function M(a,b){if(!a)throw new aa(b);}function x(a){C(a);if(!B.arrayContains(ja,a.startContainer.nodeType)&&!G(a.startContainer,true)||!B.arrayContains(ja,a.endContainer.nodeType)&&!G(a.endContainer,true)||!(a.startOffset<=(B.isCharacterDataNode(a.startContainer)?
a.startContainer.length:a.startContainer.childNodes.length))||!(a.endOffset<=(B.isCharacterDataNode(a.endContainer)?a.endContainer.length:a.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")");}function Z(){}function L(a){a.START_TO_START=ra;a.START_TO_END=Ja;a.END_TO_END=Ra;a.END_TO_START=ua;a.NODE_BEFORE=ya;a.NODE_AFTER=va;a.NODE_BEFORE_AND_AFTER=Ka;a.NODE_INSIDE=sa}function X(a){L(a);L(a.prototype)}function q(a,b){return function(){x(this);
var c=this.startContainer,f=this.startOffset,g=this.commonAncestorContainer,i=new E(this,true);if(c!==g)c=B.getClosestAncestorIn(c,g,true),f=h(c),c=f.node,f=f.offset;e(i,Y);i.reset();g=a(i);i.detach();b(this,c,f,c,f);return g}}function K(e,g,i){function p(a,b){return function(c){C(this);f(c,Q);f(w(c),ja);c=(a?k:h)(c);(b?o:G)(this,c.node,c.offset)}}function o(a,b,c){var e=a.endContainer,f=a.endOffset;if(b!==a.startContainer||c!==a.startOffset){if(w(b)!=w(e)||B.comparePoints(b,c,e,f)==1)e=b,f=c;g(a,
b,c,e,f)}}function G(a,b,c){var e=a.startContainer,f=a.startOffset;if(b!==a.endContainer||c!==a.endOffset){if(w(b)!=w(e)||B.comparePoints(b,c,e,f)==-1)e=b,f=c;g(a,e,f,b,c)}}e.prototype=new Z;b.util.extend(e.prototype,{setStart:function(b,c){C(this);D(b,true);a(b,c);o(this,b,c)},setEnd:function(b,c){C(this);D(b,true);a(b,c);G(this,b,c)},setStartBefore:p(true,true),setStartAfter:p(false,true),setEndBefore:p(true,false),setEndAfter:p(false,false),collapse:function(a){x(this);a?g(this,this.startContainer,
this.startOffset,this.startContainer,this.startOffset):g(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){C(this);D(a,true);g(this,a,0,a,B.getNodeLength(a))},selectNode:function(a){C(this);D(a,false);f(a,Q);var b=k(a),a=h(a);g(this,b.node,b.offset,a.node,a.offset)},extractContents:q(u,g),deleteContents:q(c,g),canSurroundContents:function(){x(this);Y(this.startContainer);Y(this.endContainer);var a=new E(this,true),b=a._first&&l(a._first,this)||
a._last&&l(a._last,this);a.detach();return!b},detach:function(){i(this)},splitBoundaries:function(){x(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=a===c;B.isCharacterDataNode(c)&&e>0&&e<c.length&&B.splitDataNode(c,e);B.isCharacterDataNode(a)&&b>0&&b<a.length&&(a=B.splitDataNode(a,b),f?(e-=b,c=a):c==a.parentNode&&e>=B.getNodeIndex(a)&&e++,b=0);g(this,a,b,c,e)},normalizeBoundaries:function(){x(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,
e=this.endOffset,f=function(a){var b=a.nextSibling;if(b&&b.nodeType==a.nodeType)c=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b)},h=function(f){var g=f.previousSibling;if(g&&g.nodeType==f.nodeType){a=f;var h=f.length;b=g.length;f.insertData(0,g.data);g.parentNode.removeChild(g);a==c?(e+=b,c=a):c==f.parentNode&&(g=B.getNodeIndex(f),e==g?(c=f,e=h):e>g&&e--)}},i=true;B.isCharacterDataNode(c)?c.length==e&&f(c):(e>0&&(i=c.childNodes[e-1])&&B.isCharacterDataNode(i)&&f(i),i=!this.collapsed);
i?B.isCharacterDataNode(a)?b==0&&h(a):b<a.childNodes.length&&(f=a.childNodes[b])&&B.isCharacterDataNode(f)&&h(f):(a=c,b=e);g(this,a,b,c,e)},collapseToPoint:function(b,c){C(this);D(b,true);a(b,c);(b!==this.startContainer||c!==this.startOffset||b!==this.endContainer||c!==this.endOffset)&&g(this,b,c,b,c)}});X(e)}function I(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:B.getCommonAncestor(a.startContainer,a.endContainer)}
function W(a,b,c,e,f){var g=a.startContainer!==b||a.startOffset!==c,h=a.endContainer!==e||a.endOffset!==f;a.startContainer=b;a.startOffset=c;a.endContainer=e;a.endOffset=f;I(a);i(a,"boundarychange",{startMoved:g,endMoved:h})}function T(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};I(this)}b.requireModules(["DomUtil"]);var B=b.dom,N=B.DomPosition,aa=b.DOMException;E.prototype={_current:null,_next:null,_first:null,_last:null,
isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;if(a)this._next=a!==this._last?a.nextSibling:null,B.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(true)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(true)).deleteData(0,this.so));return a},remove:function(){var a=this._current,b,c;B.isCharacterDataNode(a)&&
(a===this.sc||a===this.ec)?(b=a===this.sc?this.so:0,c=a===this.ec?this.eo:a.length,b!=c&&a.deleteData(b,c-b)):a.parentNode&&a.parentNode.removeChild(a)},isPartiallySelectedSubtree:function(){return l(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse();else{a=new T(g(this.range));var b=this._current,c=b,e=0,f=b,h=B.getNodeLength(b);if(B.isAncestorOf(b,this.sc,true))c=this.sc,e=this.so;if(B.isAncestorOf(b,this.ec,true))f=
this.ec,h=this.eo;W(a,c,e,f,h)}return new E(a,this.clonePartiallySelectedTextNodes)},detach:function(a){a&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};F.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};F.prototype.toString=function(){return this.message};p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},
detach:function(){this._current=this._next=this.nodes=null}};var Q=[1,3,4,5,7,8,10],ja=[2,9,11],pa=[1,3,4,5,7,8,10,11],ea=[1,3,4,5,7,8],w=B.getRootContainer,G=o([9,11]),R=o([5,6,10,12]),ka=o([6,10,12]),qa=document.createElement("style"),na=false;try{qa.innerHTML="<b>x</b>",na=qa.firstChild.nodeType==3}catch(Ga){}b.features.htmlParsingConforms=na;var xa="startContainer,startOffset,endContainer,endOffset,collapsed,commonAncestorContainer".split(","),ra=0,Ja=1,Ra=2,ua=3,ya=0,va=1,Ka=2,sa=3;Z.prototype=
{attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,b){x(this);P(this.startContainer,b.startContainer);var c=a==ua||a==ra?"start":"end",e=a==Ja||a==ra?"start":"end";return B.comparePoints(this[c+"Container"],this[c+"Offset"],b[e+"Container"],b[e+"Offset"])},insertNode:function(a){x(this);f(a,pa);Y(this.startContainer);if(B.isAncestorOf(a,this.startContainer,true))throw new aa("HIERARCHY_REQUEST_ERR");this.setStartBefore(t(a,this.startContainer,this.startOffset))},
cloneContents:function(){x(this);var a,b;if(this.collapsed)return g(this).createDocumentFragment();else{if(this.startContainer===this.endContainer&&B.isCharacterDataNode(this.startContainer))return a=this.startContainer.cloneNode(true),a.data=a.data.slice(this.startOffset,this.endOffset),b=g(this).createDocumentFragment(),b.appendChild(a),b;else b=new E(this,true),a=v(b),b.detach();return a}},canSurroundContents:function(){x(this);Y(this.startContainer);Y(this.endContainer);var a=new E(this,true),
b=a._first&&l(a._first,this)||a._last&&l(a._last,this);a.detach();return!b},surroundContents:function(a){f(a,ea);if(!this.canSurroundContents())throw new F("BAD_BOUNDARYPOINTS_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);t(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){x(this);for(var a=new T(g(this)),b=xa.length,c;b--;)c=xa[b],a[c]=this[c];return a},toString:function(){x(this);var a=this.startContainer;
if(a===this.endContainer&&B.isCharacterDataNode(a))return a.nodeType==3||a.nodeType==4?a.data.slice(this.startOffset,this.endOffset):"";else{var b=[],a=new E(this,true);e(a,function(a){(a.nodeType==3||a.nodeType==4)&&b.push(a.data)});a.detach();return b.join("")}},compareNode:function(a){x(this);var b=a.parentNode,c=B.getNodeIndex(a);if(!b)throw new aa("NOT_FOUND_ERR");a=this.comparePoint(b,c);b=this.comparePoint(b,c+1);return a<0?b>0?Ka:ya:b>0?va:sa},comparePoint:function(a,b){x(this);M(a,"HIERARCHY_REQUEST_ERR");
P(a,this.startContainer);if(B.comparePoints(a,b,this.startContainer,this.startOffset)<0)return-1;else if(B.comparePoints(a,b,this.endContainer,this.endOffset)>0)return 1;return 0},createContextualFragment:na?function(a){var b=this.startContainer,c=B.getDocument(b);if(!b)throw new aa("INVALID_STATE_ERR");var e=null;b.nodeType==1?e=b:B.isCharacterDataNode(b)&&(e=B.parentElement(b));e=e===null||e.nodeName=="HTML"&&B.isHtmlNamespace(B.getDocument(e).documentElement)&&B.isHtmlNamespace(e)?c.createElement("body"):
e.cloneNode(false);e.innerHTML=a;return B.fragmentFromNodeChildren(e)}:function(a){C(this);var b=g(this).createElement("body");b.innerHTML=a;return B.fragmentFromNodeChildren(b)},toHtml:function(){x(this);var a=g(this).createElement("div");a.appendChild(this.cloneContents());return a.innerHTML},intersectsNode:function(a,b){x(this);M(a,"NOT_FOUND_ERR");if(B.getDocument(a)!==g(this))return false;var c=a.parentNode,e=B.getNodeIndex(a);M(c,"NOT_FOUND_ERR");var f=B.comparePoints(c,e,this.endContainer,
this.endOffset),c=B.comparePoints(c,e+1,this.startContainer,this.startOffset);return b?f<=0&&c>=0:f<0&&c>0},isPointInRange:function(a,b){x(this);M(a,"HIERARCHY_REQUEST_ERR");P(a,this.startContainer);return B.comparePoints(a,b,this.startContainer,this.startOffset)>=0&&B.comparePoints(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a,b){x(this);if(g(a)!=g(this))throw new aa("WRONG_DOCUMENT_ERR");var c=B.comparePoints(this.startContainer,this.startOffset,a.endContainer,a.endOffset),
e=B.comparePoints(this.endContainer,this.endOffset,a.startContainer,a.startOffset);return b?c<=0&&e>=0:c<0&&e>0},intersection:function(a){if(this.intersectsRange(a)){var b=B.comparePoints(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=B.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),e=this.cloneRange();b==-1&&e.setStart(a.startContainer,a.startOffset);c==1&&e.setEnd(a.endContainer,a.endOffset);return e}return null},union:function(a){if(this.intersectsRange(a,
true)){var b=this.cloneRange();B.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)==-1&&b.setStart(a.startContainer,a.startOffset);B.comparePoints(a.endContainer,a.endOffset,this.endContainer,this.endOffset)==1&&b.setEnd(a.endContainer,a.endOffset);return b}else throw new F("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,false):this.compareNode(a)==sa},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,
B.getNodeLength(a))<=0},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);return c.length>0?(b.setStart(c[0],0),a=c.pop(),b.setEnd(a,a.length),a=this.containsRange(b),b.detach(),a):this.containsNodeContents(a)},createNodeIterator:function(a,b){x(this);return new p(this,a,b)},getNodes:function(a,b){x(this);return z(this,a,b)},getDocument:function(){return g(this)},collapseBefore:function(a){C(this);
this.setEndBefore(a);this.collapse(false)},collapseAfter:function(a){C(this);this.setStartAfter(a);this.collapse(true)},getName:function(){return"DomRange"},equals:function(a){return T.rangesEqual(this,a)},inspect:function(){return A(this)}};K(T,W,function(a){C(a);a.startContainer=a.startOffset=a.endContainer=a.endOffset=null;a.collapsed=a.commonAncestorContainer=null;i(a,"detach",null);a._listeners=null});b.rangePrototype=Z.prototype;T.rangeProperties=xa;T.RangeIterator=E;T.copyComparisonConstants=
X;T.createPrototypeRange=K;T.inspect=A;T.getRangeDocument=g;T.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset};b.DomRange=T;b.RangeException=F});
rangy.createModule("WrappedRange",function(b){function l(b,c,g,i){var l=b.duplicate();l.collapse(g);var t=l.parentElement();k.isAncestorOf(c,t,true)||(t=c);if(!t.canHaveHTML)return new h(t.parentNode,k.getNodeIndex(t));var c=k.getDocument(t).createElement("span"),v,p=g?"StartToStart":"StartToEnd";do t.insertBefore(c,c.previousSibling),l.moveToElementText(c);while((v=l.compareEndPoints(p,b))>0&&c.previousSibling);p=c.nextSibling;if(v==-1&&p&&k.isCharacterDataNode(p)){l.setEndPoint(g?"EndToStart":"EndToEnd",
b);if(/[\r\n]/.test(p.data)){t=l.duplicate();g=t.text.replace(/\r\n/g,"\r").length;for(g=t.moveStart("character",g);t.compareEndPoints("StartToEnd",t)==-1;)g++,t.moveStart("character",1)}else g=l.text.length;t=new h(p,g)}else p=(i||!g)&&c.previousSibling,t=(g=(i||g)&&c.nextSibling)&&k.isCharacterDataNode(g)?new h(g,0):p&&k.isCharacterDataNode(p)?new h(p,p.length):new h(t,k.getNodeIndex(c));c.parentNode.removeChild(c);return t}function g(b,c){var g,h,i=b.offset,l=k.getDocument(b.node),t=l.body.createTextRange(),
p=k.isCharacterDataNode(b.node);p?(g=b.node,h=g.parentNode):(g=b.node.childNodes,g=i<g.length?g[i]:null,h=b.node);l=l.createElement("span");l.innerHTML="&#feff;";g?h.insertBefore(l,g):h.appendChild(l);t.moveToElementText(l);t.collapse(!c);h.removeChild(l);if(p)t[c?"moveStart":"moveEnd"]("character",i);return t}b.requireModules(["DomUtil","DomRange"]);var i,k=b.dom,h=k.DomPosition,t=b.DomRange;if(b.features.implementsDomRange&&(!b.features.implementsTextRange||!b.config.preferTextRange))(function(){function e(b){for(var c=
g.length,e;c--;)e=g[c],b[e]=b.nativeRange[e]}var c,g=t.rangeProperties,h;i=function(b){if(!b)throw Error("Range must be specified");this.nativeRange=b;e(this)};t.createPrototypeRange(i,function(b,c,e,g,f){var a=b.endContainer!==g||b.endOffset!=f;if(b.startContainer!==c||b.startOffset!=e||a)b.setEnd(g,f),b.setStart(c,e)},function(b){b.nativeRange.detach();b.detached=true;for(var c=g.length,e;c--;)e=g[c],b[e]=null});c=i.prototype;c.selectNode=function(b){this.nativeRange.selectNode(b);e(this)};c.deleteContents=
function(){this.nativeRange.deleteContents();e(this)};c.extractContents=function(){var b=this.nativeRange.extractContents();e(this);return b};c.cloneContents=function(){return this.nativeRange.cloneContents()};c.surroundContents=function(b){this.nativeRange.surroundContents(b);e(this)};c.collapse=function(b){this.nativeRange.collapse(b);e(this)};c.cloneRange=function(){return new i(this.nativeRange.cloneRange())};c.refresh=function(){e(this)};c.toString=function(){return this.nativeRange.toString()};
var l=document.createTextNode("test");k.getBody(document).appendChild(l);var v=document.createRange();v.setStart(l,0);v.setEnd(l,0);try{v.setStart(l,1),c.setStart=function(b,c){this.nativeRange.setStart(b,c);e(this)},c.setEnd=function(b,c){this.nativeRange.setEnd(b,c);e(this)},h=function(b){return function(c){this.nativeRange[b](c);e(this)}}}catch(F){c.setStart=function(b,c){try{this.nativeRange.setStart(b,c)}catch(g){this.nativeRange.setEnd(b,c),this.nativeRange.setStart(b,c)}e(this)},c.setEnd=function(b,
c){try{this.nativeRange.setEnd(b,c)}catch(g){this.nativeRange.setStart(b,c),this.nativeRange.setEnd(b,c)}e(this)},h=function(b,c){return function(g){try{this.nativeRange[b](g)}catch(h){this.nativeRange[c](g),this.nativeRange[b](g)}e(this)}}}c.setStartBefore=h("setStartBefore","setEndBefore");c.setStartAfter=h("setStartAfter","setEndAfter");c.setEndBefore=h("setEndBefore","setStartBefore");c.setEndAfter=h("setEndAfter","setStartAfter");v.selectNodeContents(l);c.selectNodeContents=v.startContainer==
l&&v.endContainer==l&&v.startOffset==0&&v.endOffset==l.length?function(b){this.nativeRange.selectNodeContents(b);e(this)}:function(b){this.setStart(b,0);this.setEnd(b,t.getEndOffset(b))};v.selectNodeContents(l);v.setEnd(l,3);h=document.createRange();h.selectNodeContents(l);h.setEnd(l,4);h.setStart(l,2);c.compareBoundaryPoints=v.compareBoundaryPoints(v.START_TO_END,h)==-1&v.compareBoundaryPoints(v.END_TO_START,h)==1?function(b,c){c=c.nativeRange||c;if(b==c.START_TO_END)b=c.END_TO_START;else if(b==
c.END_TO_START)b=c.START_TO_END;return this.nativeRange.compareBoundaryPoints(b,c)}:function(b,c){return this.nativeRange.compareBoundaryPoints(b,c.nativeRange||c)};if(b.util.isHostMethod(v,"createContextualFragment"))c.createContextualFragment=function(b){return this.nativeRange.createContextualFragment(b)};k.getBody(document).removeChild(l);v.detach();h.detach()})(),b.createNativeRange=function(b){return(b||document).createRange()};else if(b.features.implementsTextRange){i=function(b){this.textRange=
b;this.refresh()};i.prototype=new t(document);i.prototype.refresh=function(){var b,c,g=this.textRange;b=g.parentElement();var h=g.duplicate();h.collapse(true);c=h.parentElement();h=g.duplicate();h.collapse(false);g=h.parentElement();c=c==g?c:k.getCommonAncestor(c,g);c=c==b?c:k.getCommonAncestor(b,c);this.textRange.compareEndPoints("StartToEnd",this.textRange)==0?c=b=l(this.textRange,c,true,true):(b=l(this.textRange,c,true,false),c=l(this.textRange,c,false,false));this.setStart(b.node,b.offset);this.setEnd(c.node,
c.offset)};t.copyComparisonConstants(i);var v=function(){return this}();if(typeof v.Range=="undefined")v.Range=i;b.createNativeRange=function(b){return(b||document).body.createTextRange()}}if(b.features.implementsTextRange)i.rangeToTextRange=function(b){if(b.collapsed)return g(new h(b.startContainer,b.startOffset),true);else{var c=g(new h(b.startContainer,b.startOffset),true),i=g(new h(b.endContainer,b.endOffset),false),b=k.getDocument(b.startContainer).body.createTextRange();b.setEndPoint("StartToStart",
c);b.setEndPoint("EndToEnd",i);return b}};i.prototype.getName=function(){return"WrappedRange"};b.WrappedRange=i;b.createRange=function(e){return new i(b.createNativeRange(e||document))};b.createRangyRange=function(b){return new t(b||document)};b.createIframeRange=function(e){return b.createRange(k.getIframeDocument(e))};b.createIframeRangyRange=function(e){return b.createRangyRange(k.getIframeDocument(e))};b.addCreateMissingNativeApiListener(function(e){e=e.document;if(typeof e.createRange=="undefined")e.createRange=
function(){return b.createRange(this)};e=e=null})});
rangy.createModule("WrappedSelection",function(b,l){function g(a){return(a||window).getSelection()}function i(a){return(a||window).document.selection}function k(a,b,c){var e=c?"end":"start",c=c?"start":"end";a.anchorNode=b[e+"Container"];a.anchorOffset=b[e+"Offset"];a.focusNode=b[c+"Container"];a.focusOffset=b[c+"Offset"]}function h(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=true;a._ranges.length=0}function t(a){var c;if(a instanceof D){if(c=a._selectionNativeRange,
!c)c=b.createNativeRange(p.getDocument(a.startContainer)),c.setEnd(a.endContainer,a.endOffset),c.setStart(a.startContainer,a.startOffset),a._selectionNativeRange=c,a.attachListener("detach",function(){this._selectionNativeRange=null})}else a instanceof C?c=a.nativeRange:b.features.implementsDomRange&&a instanceof p.getWindow(a.startContainer).Range&&(c=a);return c}function v(a){var b=a.getNodes(),c;a:if(!b.length||b[0].nodeType!=1)c=false;else{c=1;for(var e=b.length;c<e;++c)if(!p.isAncestorOf(b[0],
b[c])){c=false;break a}c=true}if(!c)throw Error("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return b[0]}function e(a,b){var c=new C(b);a._ranges=[c];k(a,c,false);a.rangeCount=1;a.isCollapsed=c.collapsed}function c(a){a._ranges.length=0;if(a.docSelection.type=="None")h(a);else{var c=a.docSelection.createRange();if(c&&typeof c.text!="undefined")e(a,c);else{a.rangeCount=c.length;for(var f,g=p.getDocument(c.item(0)),i=0;i<a.rangeCount;++i)f=b.createRange(g),
f.selectNode(c.item(i)),a._ranges.push(f);a.isCollapsed=a.rangeCount==1&&a._ranges[0].collapsed;k(a,a._ranges[a.rangeCount-1],false)}}}function u(a,b){for(var e=a.docSelection.createRange(),f=v(b),g=p.getDocument(e.item(0)),g=p.getBody(g).createControlRange(),h=0,i=e.length;h<i;++h)g.add(e.item(h));try{g.add(f)}catch(k){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}g.select();c(a)}function z(a,b,c){this.nativeSelection=
a;this.docSelection=b;this._ranges=[];this.win=c;this.refresh()}function A(a,b){for(var e=p.getDocument(b[0].startContainer),e=p.getBody(e).createControlRange(),f=0,g;f<rangeCount;++f){g=v(b[f]);try{e.add(g)}catch(h){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)");}}e.select();c(a)}function E(a,b){if(a.anchorNode&&p.getDocument(a.anchorNode)!==p.getDocument(b))throw new f("WRONG_DOCUMENT_ERR");}function F(b){var c=
[],e=new a(b.anchorNode,b.anchorOffset),f=new a(b.focusNode,b.focusOffset),g=typeof b.getName=="function"?b.getName():"Selection";if(typeof b.rangeCount!="undefined")for(var h=0,i=b.rangeCount;h<i;++h)c[h]=D.inspect(b.getRangeAt(h));return"["+g+"(Ranges: "+c.join(", ")+")(anchor: "+e.inspect()+", focus: "+f.inspect()+"]"}b.requireModules(["DomUtil","DomRange","WrappedRange"]);b.config.checkSelectionRanges=true;var p=b.dom,o=b.util,D=b.DomRange,C=b.WrappedRange,f=b.DOMException,a=p.DomPosition,P,Y,
M=b.util.isHostMethod(window,"getSelection"),x=b.util.isHostObject(document,"selection"),Z=x&&(!M||b.config.preferTextRange);Z?(P=i,b.isSelectionValid=function(a){var a=(a||window).document,b=a.selection;return b.type!="None"||p.getDocument(b.createRange().parentElement())==a}):M?(P=g,b.isSelectionValid=function(){return true}):l.fail("Neither document.selection or window.getSelection() detected.");b.getNativeSelection=P;var M=P(),L=b.createNativeRange(document),X=p.getBody(document),q=o.areHostObjects(M,
o.areHostProperties(M,["anchorOffset","focusOffset"]));b.features.selectionHasAnchorAndFocus=q;var K=o.isHostMethod(M,"extend");b.features.selectionHasExtend=K;var I=typeof M.rangeCount=="number";b.features.selectionHasRangeCount=I;var W=false,T=true;o.areHostMethods(M,["addRange","getRangeAt","removeAllRanges"])&&typeof M.rangeCount=="number"&&b.features.implementsDomRange&&function(){var a=document.createElement("iframe");X.appendChild(a);var b=p.getIframeDocument(a);b.open();b.write("<html><head></head><body>12</body></html>");
b.close();var c=p.getIframeWindow(a).getSelection(),e=b.documentElement.lastChild.firstChild,b=b.createRange();b.setStart(e,1);b.collapse(true);c.addRange(b);T=c.rangeCount==1;c.removeAllRanges();var f=b.cloneRange();b.setStart(e,0);f.setEnd(e,2);c.addRange(b);c.addRange(f);W=c.rangeCount==2;b.detach();f.detach();X.removeChild(a)}();b.features.selectionSupportsMultipleRanges=W;b.features.collapsedNonEditableSelectionsSupported=T;var B=false,N;X&&o.isHostMethod(X,"createControlRange")&&(N=X.createControlRange(),
o.areHostProperties(N,["item","add"])&&(B=true));b.features.implementsControlRange=B;Y=q?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:false};var aa;o.isHostMethod(M,"getRangeAt")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:q&&(aa=function(a){var c=p.getDocument(a.anchorNode),c=b.createRange(c);c.setStart(a.anchorNode,a.anchorOffset);c.setEnd(a.focusNode,a.focusOffset);c.collapsed!==
this.isCollapsed&&(c.setStart(a.focusNode,a.focusOffset),c.setEnd(a.anchorNode,a.anchorOffset));return c});b.getSelection=function(a){var a=a||window,b=a._rangySelection,c=P(a),e=x?i(a):null;b?(b.nativeSelection=c,b.docSelection=e,b.refresh(a)):(b=new z(c,e,a),a._rangySelection=b);return b};b.getIframeSelection=function(a){return b.getSelection(p.getIframeWindow(a))};N=z.prototype;if(!Z&&q&&o.areHostMethods(M,["removeAllRanges","addRange"])){N.removeAllRanges=function(){this.nativeSelection.removeAllRanges();
h(this)};var Q=function(a,c){var e=D.getRangeDocument(c),e=b.createRange(e);e.collapseToPoint(c.endContainer,c.endOffset);a.nativeSelection.addRange(t(e));a.nativeSelection.extend(c.startContainer,c.startOffset);a.refresh()};N.addRange=I?function(a,c){if(B&&x&&this.docSelection.type=="Control")u(this,a);else if(c&&K)Q(this,a);else{var e;W?e=this.rangeCount:(this.removeAllRanges(),e=0);this.nativeSelection.addRange(t(a));this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==e+1?(b.config.checkSelectionRanges&&
(e=aa(this.nativeSelection,this.rangeCount-1))&&!D.rangesEqual(e,a)&&(a=new C(e)),this._ranges[this.rangeCount-1]=a,k(this,a,ea(this.nativeSelection)),this.isCollapsed=Y(this)):this.refresh()}}:function(a,b){b&&K?Q(this,a):(this.nativeSelection.addRange(t(a)),this.refresh())};N.setRanges=function(a){if(B&&a.length>1)A(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else if(o.isHostMethod(M,"empty")&&o.isHostMethod(L,"select")&&B&&Z)N.removeAllRanges=function(){try{if(this.docSelection.empty(),
this.docSelection.type!="None"){var a;if(this.anchorNode)a=p.getDocument(this.anchorNode);else if(this.docSelection.type=="Control"){var b=this.docSelection.createRange();b.length&&(a=p.getDocument(b.item(0)).body.createTextRange())}a&&(a.body.createTextRange().select(),this.docSelection.empty())}}catch(c){}h(this)},N.addRange=function(a){this.docSelection.type=="Control"?u(this,a):(C.rangeToTextRange(a).select(),this._ranges[0]=a,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,k(this,
a,false))},N.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?A(this,a):b&&this.addRange(a[0])};else return l.fail("No means of selecting a Range or TextRange was found"),false;N.getRangeAt=function(a){if(a<0||a>=this.rangeCount)throw new f("INDEX_SIZE_ERR");else return this._ranges[a]};var ja;if(Z)ja=function(a){var f;b.isSelectionValid(a.win)?f=a.docSelection.createRange():(f=p.getBody(a.win.document).createTextRange(),f.collapse(true));a.docSelection.type=="Control"?c(a):f&&typeof f.text!=
"undefined"?e(a,f):h(a)};else if(o.isHostMethod(M,"getRangeAt")&&typeof M.rangeCount=="number")ja=function(a){if(B&&x&&a.docSelection.type=="Control")c(a);else if(a._ranges.length=a.rangeCount=a.nativeSelection.rangeCount,a.rangeCount){for(var e=0,f=a.rangeCount;e<f;++e)a._ranges[e]=new b.WrappedRange(a.nativeSelection.getRangeAt(e));k(a,a._ranges[a.rangeCount-1],ea(a.nativeSelection));a.isCollapsed=Y(a)}else h(a)};else if(q&&typeof M.isCollapsed=="boolean"&&typeof L.collapsed=="boolean"&&b.features.implementsDomRange)ja=
function(a){var b;b=a.nativeSelection;b.anchorNode?(b=aa(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=Y(a)):h(a)};else return l.fail("No means of obtaining a Range or TextRange from the user's selection was found"),false;N.refresh=function(a){var b=a?this._ranges.slice(0):null;ja(this);if(a){a=b.length;if(a!=this._ranges.length)return false;for(;a--;)if(!D.rangesEqual(b[a],
this._ranges[a]))return false;return true}};var pa=function(a,b){var c=a.getAllRanges(),e=false;a.removeAllRanges();for(var f=0,g=c.length;f<g;++f)e||b!==c[f]?a.addRange(c[f]):e=true;a.rangeCount||h(a)};N.removeRange=B?function(a){if(this.docSelection.type=="Control"){for(var b=this.docSelection.createRange(),a=v(a),e=p.getDocument(b.item(0)),e=p.getBody(e).createControlRange(),f,g=false,h=0,i=b.length;h<i;++h)f=b.item(h),f!==a||g?e.add(b.item(h)):g=true;e.select();c(this)}else pa(this,a)}:function(a){pa(this,
a)};var ea;!Z&&q&&b.features.implementsDomRange?(ea=function(a){var b=false;a.anchorNode&&(b=p.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)==1);return b},N.isBackwards=function(){return ea(this)}):ea=N.isBackwards=function(){return false};N.toString=function(){for(var a=[],b=0,c=this.rangeCount;b<c;++b)a[b]=""+this._ranges[b];return a.join("")};N.collapse=function(a,c){E(this,a);var e=b.createRange(p.getDocument(a));e.collapseToPoint(a,c);this.removeAllRanges();this.addRange(e);
this.isCollapsed=true};N.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new f("INVALID_STATE_ERR");};N.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new f("INVALID_STATE_ERR");};N.selectAllChildren=function(a){E(this,a);var c=b.createRange(p.getDocument(a));c.selectNodeContents(a);this.removeAllRanges();this.addRange(c)};N.deleteFromDocument=
function(){if(B&&x&&this.docSelection.type=="Control"){for(var a=this.docSelection.createRange(),b;a.length;)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount){a=this.getAllRanges();this.removeAllRanges();b=0;for(var c=a.length;b<c;++b)a[b].deleteContents();this.addRange(a[c-1])}};N.getAllRanges=function(){return this._ranges.slice(0)};N.setSingleRange=function(a){this.setRanges([a])};N.containsNode=function(a,b){for(var c=0,e=this._ranges.length;c<e;++c)if(this._ranges[c].containsNode(a,
b))return true;return false};N.toHtml=function(){var a="";if(this.rangeCount){for(var a=D.getRangeDocument(this._ranges[0]).createElement("div"),b=0,c=this._ranges.length;b<c;++b)a.appendChild(this._ranges[b].cloneContents());a=a.innerHTML}return a};N.getName=function(){return"WrappedSelection"};N.inspect=function(){return F(this)};N.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null};z.inspect=F;b.Selection=z;b.selectionPrototype=N;b.addCreateMissingNativeApiListener(function(a){if(typeof a.getSelection==
"undefined")a.getSelection=function(){return b.getSelection(this)};a=null})});
